\hypertarget{b2_island_8h_source}{}\doxysection{b2\+Island.\+h}
\label{b2_island_8h_source}\index{build/juce\_box2d/box2d/Dynamics/b2Island.h@{build/juce\_box2d/box2d/Dynamics/b2Island.h}}
\mbox{\hyperlink{b2_island_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{/*}}
\DoxyCodeLine{2 \textcolor{comment}{* Copyright (c) 2006-\/2009 Erin Catto http://www.box2d.org}}
\DoxyCodeLine{3 \textcolor{comment}{*}}
\DoxyCodeLine{4 \textcolor{comment}{* This software is provided 'as-\/is', without any express or implied}}
\DoxyCodeLine{5 \textcolor{comment}{* warranty.  In no event will the authors be held liable for any damages}}
\DoxyCodeLine{6 \textcolor{comment}{* arising from the use of this software.}}
\DoxyCodeLine{7 \textcolor{comment}{* Permission is granted to anyone to use this software for any purpose,}}
\DoxyCodeLine{8 \textcolor{comment}{* including commercial applications, and to alter it and redistribute it}}
\DoxyCodeLine{9 \textcolor{comment}{* freely, subject to the following restrictions:}}
\DoxyCodeLine{10 \textcolor{comment}{* 1. The origin of this software must not be misrepresented; you must not}}
\DoxyCodeLine{11 \textcolor{comment}{* claim that you wrote the original software. If you use this software}}
\DoxyCodeLine{12 \textcolor{comment}{* in a product, an acknowledgment in the product documentation would be}}
\DoxyCodeLine{13 \textcolor{comment}{* appreciated but is not required.}}
\DoxyCodeLine{14 \textcolor{comment}{* 2. Altered source versions must be plainly marked as such, and must not be}}
\DoxyCodeLine{15 \textcolor{comment}{* misrepresented as being the original software.}}
\DoxyCodeLine{16 \textcolor{comment}{* 3. This notice may not be removed or altered from any source distribution.}}
\DoxyCodeLine{17 \textcolor{comment}{*/}}
\DoxyCodeLine{18 }
\DoxyCodeLine{19 \textcolor{preprocessor}{\#ifndef B2\_ISLAND\_H}}
\DoxyCodeLine{20 \textcolor{preprocessor}{\#define B2\_ISLAND\_H}}
\DoxyCodeLine{21 }
\DoxyCodeLine{22 \textcolor{preprocessor}{\#include "{}../Common/b2Math.h"{}}}
\DoxyCodeLine{23 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{b2_body_8h}{b2Body.h}}"{}}}
\DoxyCodeLine{24 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{b2_time_step_8h}{b2TimeStep.h}}"{}}}
\DoxyCodeLine{25 }
\DoxyCodeLine{26 \textcolor{keyword}{class }\mbox{\hyperlink{classb2_contact}{b2Contact}};}
\DoxyCodeLine{27 \textcolor{keyword}{class }\mbox{\hyperlink{classb2_joint}{b2Joint}};}
\DoxyCodeLine{28 \textcolor{keyword}{class }\mbox{\hyperlink{classb2_stack_allocator}{b2StackAllocator}};}
\DoxyCodeLine{29 \textcolor{keyword}{class }\mbox{\hyperlink{classb2_contact_listener}{b2ContactListener}};}
\DoxyCodeLine{30 \textcolor{keyword}{struct }\mbox{\hyperlink{structb2_contact_velocity_constraint}{b2ContactVelocityConstraint}};}
\DoxyCodeLine{31 \textcolor{keyword}{struct }\mbox{\hyperlink{structb2_profile}{b2Profile}};}
\DoxyCodeLine{32 }
\DoxyCodeLine{34 \textcolor{keyword}{class }\mbox{\hyperlink{classb2_island}{b2Island}}}
\DoxyCodeLine{35 \{}
\DoxyCodeLine{36 \textcolor{keyword}{public}:}
\DoxyCodeLine{37     \mbox{\hyperlink{classb2_island_a2f2258f09d2663dcb35a1d69d16896cb}{b2Island}}(\mbox{\hyperlink{juce__box2d_8cpp_a6a5a8e94340b94579afb83ab477a983c}{int32}} bodyCapacity, \mbox{\hyperlink{juce__box2d_8cpp_a6a5a8e94340b94579afb83ab477a983c}{int32}} contactCapacity, \mbox{\hyperlink{juce__box2d_8cpp_a6a5a8e94340b94579afb83ab477a983c}{int32}} jointCapacity,}
\DoxyCodeLine{38             \mbox{\hyperlink{classb2_stack_allocator}{b2StackAllocator}}* allocator, \mbox{\hyperlink{classb2_contact_listener}{b2ContactListener}}* listener);}
\DoxyCodeLine{39     \mbox{\hyperlink{classb2_island_a87b39bdaab4f98acca77dd39d157a0e8}{\string~b2Island}}();}
\DoxyCodeLine{40 }
\DoxyCodeLine{41     \textcolor{keywordtype}{void} \mbox{\hyperlink{classb2_island_a26566f7388fcaf7523446e5e76d99c4d}{Clear}}()}
\DoxyCodeLine{42     \{}
\DoxyCodeLine{43         \mbox{\hyperlink{classb2_island_af78d066321e18cd8a4e409c4539ccb81}{m\_bodyCount}} = 0;}
\DoxyCodeLine{44         \mbox{\hyperlink{classb2_island_ab5bad98e18356b15a68733be07b98abf}{m\_contactCount}} = 0;}
\DoxyCodeLine{45         \mbox{\hyperlink{classb2_island_a913c91afb35ff717c7dd5b0aa1559e5b}{m\_jointCount}} = 0;}
\DoxyCodeLine{46     \}}
\DoxyCodeLine{47 }
\DoxyCodeLine{48     \textcolor{keywordtype}{void} \mbox{\hyperlink{classb2_island_a28a6f74174cde3a6e93663c740f418fa}{Solve}}(\mbox{\hyperlink{structb2_profile}{b2Profile}}* profile, \textcolor{keyword}{const} \mbox{\hyperlink{structb2_time_step}{b2TimeStep}}\& step, \textcolor{keyword}{const} \mbox{\hyperlink{structb2_vec2}{b2Vec2}}\& gravity, \textcolor{keywordtype}{bool} allowSleep);}
\DoxyCodeLine{49 }
\DoxyCodeLine{50     \textcolor{keywordtype}{void} \mbox{\hyperlink{classb2_island_a61f577b473962bb0d8add1f55eeef7ee}{SolveTOI}}(\textcolor{keyword}{const} \mbox{\hyperlink{structb2_time_step}{b2TimeStep}}\& subStep, \mbox{\hyperlink{juce__box2d_8cpp_a6a5a8e94340b94579afb83ab477a983c}{int32}} toiIndexA, \mbox{\hyperlink{juce__box2d_8cpp_a6a5a8e94340b94579afb83ab477a983c}{int32}} toiIndexB);}
\DoxyCodeLine{51 }
\DoxyCodeLine{52     \textcolor{keywordtype}{void} \mbox{\hyperlink{classb2_island_af2d54861bd063051c0a6dc5f73b27c3e}{Add}}(\mbox{\hyperlink{classb2_body}{b2Body}}* body)}
\DoxyCodeLine{53     \{}
\DoxyCodeLine{54         \mbox{\hyperlink{b2_settings_8h_ab3fe3791ea4d700d5cc1f8124d2edf33}{b2Assert}}(\mbox{\hyperlink{classb2_island_af78d066321e18cd8a4e409c4539ccb81}{m\_bodyCount}} < \mbox{\hyperlink{classb2_island_a5ea371889bb93fb6387ff2ab427191ed}{m\_bodyCapacity}});}
\DoxyCodeLine{55         body-\/>m\_islandIndex = \mbox{\hyperlink{classb2_island_af78d066321e18cd8a4e409c4539ccb81}{m\_bodyCount}};}
\DoxyCodeLine{56         \mbox{\hyperlink{classb2_island_ac9c65abf14c88e8a52fdd2c5cb56c5f4}{m\_bodies}}[\mbox{\hyperlink{classb2_island_af78d066321e18cd8a4e409c4539ccb81}{m\_bodyCount}}] = body;}
\DoxyCodeLine{57         ++\mbox{\hyperlink{classb2_island_af78d066321e18cd8a4e409c4539ccb81}{m\_bodyCount}};}
\DoxyCodeLine{58     \}}
\DoxyCodeLine{59 }
\DoxyCodeLine{60     \textcolor{keywordtype}{void} \mbox{\hyperlink{classb2_island_abc0ea9208e818b551404fd507f197a51}{Add}}(\mbox{\hyperlink{classb2_contact}{b2Contact}}* contact)}
\DoxyCodeLine{61     \{}
\DoxyCodeLine{62         \mbox{\hyperlink{b2_settings_8h_ab3fe3791ea4d700d5cc1f8124d2edf33}{b2Assert}}(\mbox{\hyperlink{classb2_island_ab5bad98e18356b15a68733be07b98abf}{m\_contactCount}} < \mbox{\hyperlink{classb2_island_a1a65b8fc8256ca443f85e6ae6f2d841a}{m\_contactCapacity}});}
\DoxyCodeLine{63         \mbox{\hyperlink{classb2_island_a49499a350859768a0c3f7b29fb091422}{m\_contacts}}[\mbox{\hyperlink{classb2_island_ab5bad98e18356b15a68733be07b98abf}{m\_contactCount}}++] = contact;}
\DoxyCodeLine{64     \}}
\DoxyCodeLine{65 }
\DoxyCodeLine{66     \textcolor{keywordtype}{void} \mbox{\hyperlink{classb2_island_a04e6ccd0c11f6ef5a7ed0a926d081445}{Add}}(\mbox{\hyperlink{classb2_joint}{b2Joint}}* joint)}
\DoxyCodeLine{67     \{}
\DoxyCodeLine{68         \mbox{\hyperlink{b2_settings_8h_ab3fe3791ea4d700d5cc1f8124d2edf33}{b2Assert}}(\mbox{\hyperlink{classb2_island_a913c91afb35ff717c7dd5b0aa1559e5b}{m\_jointCount}} < \mbox{\hyperlink{classb2_island_a9b6e63c89307d469e1075585d65a9bbb}{m\_jointCapacity}});}
\DoxyCodeLine{69         \mbox{\hyperlink{classb2_island_a6653da11b66de22d8ba5db531c11b373}{m\_joints}}[\mbox{\hyperlink{classb2_island_a913c91afb35ff717c7dd5b0aa1559e5b}{m\_jointCount}}++] = joint;}
\DoxyCodeLine{70     \}}
\DoxyCodeLine{71 }
\DoxyCodeLine{72     \textcolor{keywordtype}{void} \mbox{\hyperlink{classb2_island_a57620f76faf000f61c76e925e40e6129}{Report}}(\textcolor{keyword}{const} \mbox{\hyperlink{structb2_contact_velocity_constraint}{b2ContactVelocityConstraint}}* constraints);}
\DoxyCodeLine{73 }
\DoxyCodeLine{74     \mbox{\hyperlink{classb2_stack_allocator}{b2StackAllocator}}* \mbox{\hyperlink{classb2_island_a5e28f216c0a12548c04491ab1d73c958}{m\_allocator}};}
\DoxyCodeLine{75     \mbox{\hyperlink{classb2_contact_listener}{b2ContactListener}}* \mbox{\hyperlink{classb2_island_aeba73fe42839d0361524d98e330e8e66}{m\_listener}};}
\DoxyCodeLine{76 }
\DoxyCodeLine{77     \mbox{\hyperlink{classb2_body}{b2Body}}** \mbox{\hyperlink{classb2_island_ac9c65abf14c88e8a52fdd2c5cb56c5f4}{m\_bodies}};}
\DoxyCodeLine{78     \mbox{\hyperlink{classb2_contact}{b2Contact}}** \mbox{\hyperlink{classb2_island_a49499a350859768a0c3f7b29fb091422}{m\_contacts}};}
\DoxyCodeLine{79     \mbox{\hyperlink{classb2_joint}{b2Joint}}** \mbox{\hyperlink{classb2_island_a6653da11b66de22d8ba5db531c11b373}{m\_joints}};}
\DoxyCodeLine{80 }
\DoxyCodeLine{81     \mbox{\hyperlink{structb2_position}{b2Position}}* \mbox{\hyperlink{classb2_island_a0f05bd177cf942ddfb494b17ec09b874}{m\_positions}};}
\DoxyCodeLine{82     \mbox{\hyperlink{structb2_velocity}{b2Velocity}}* \mbox{\hyperlink{classb2_island_ae6a42be7ce4c03724a6da17d96cacb9f}{m\_velocities}};}
\DoxyCodeLine{83 }
\DoxyCodeLine{84     \mbox{\hyperlink{juce__box2d_8cpp_a6a5a8e94340b94579afb83ab477a983c}{int32}} \mbox{\hyperlink{classb2_island_af78d066321e18cd8a4e409c4539ccb81}{m\_bodyCount}};}
\DoxyCodeLine{85     \mbox{\hyperlink{juce__box2d_8cpp_a6a5a8e94340b94579afb83ab477a983c}{int32}} \mbox{\hyperlink{classb2_island_a913c91afb35ff717c7dd5b0aa1559e5b}{m\_jointCount}};}
\DoxyCodeLine{86     \mbox{\hyperlink{juce__box2d_8cpp_a6a5a8e94340b94579afb83ab477a983c}{int32}} \mbox{\hyperlink{classb2_island_ab5bad98e18356b15a68733be07b98abf}{m\_contactCount}};}
\DoxyCodeLine{87 }
\DoxyCodeLine{88     \mbox{\hyperlink{juce__box2d_8cpp_a6a5a8e94340b94579afb83ab477a983c}{int32}} \mbox{\hyperlink{classb2_island_a5ea371889bb93fb6387ff2ab427191ed}{m\_bodyCapacity}};}
\DoxyCodeLine{89     \mbox{\hyperlink{juce__box2d_8cpp_a6a5a8e94340b94579afb83ab477a983c}{int32}} \mbox{\hyperlink{classb2_island_a1a65b8fc8256ca443f85e6ae6f2d841a}{m\_contactCapacity}};}
\DoxyCodeLine{90     \mbox{\hyperlink{juce__box2d_8cpp_a6a5a8e94340b94579afb83ab477a983c}{int32}} \mbox{\hyperlink{classb2_island_a9b6e63c89307d469e1075585d65a9bbb}{m\_jointCapacity}};}
\DoxyCodeLine{91 \};}
\DoxyCodeLine{92 }
\DoxyCodeLine{93 \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
