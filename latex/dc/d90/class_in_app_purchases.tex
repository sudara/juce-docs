\hypertarget{class_in_app_purchases}{}\doxysection{In\+App\+Purchases Class Reference}
\label{class_in_app_purchases}\index{InAppPurchases@{InAppPurchases}}


{\ttfamily \#include $<$juce\+\_\+\+In\+App\+Purchases.\+h$>$}

Inheritance diagram for In\+App\+Purchases\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{dc/d90/class_in_app_purchases}
\end{center}
\end{figure}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{struct_in_app_purchases_1_1_download}{Download}}
\item 
struct \mbox{\hyperlink{struct_in_app_purchases_1_1_listener}{Listener}}
\item 
struct \mbox{\hyperlink{struct_in_app_purchases_1_1_product}{Product}}
\item 
struct \mbox{\hyperlink{struct_in_app_purchases_1_1_purchase}{Purchase}}
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
bool \mbox{\hyperlink{class_in_app_purchases_a6d91533cc60a92ce7d08dd7a8170b4fe}{is\+In\+App\+Purchases\+Supported}} () \mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}}
\item 
\mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} \mbox{\hyperlink{class_in_app_purchases_aad53d0d034c19ad6cce54ec9e39e69b8}{get\+Products\+Information}} (\mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{class_string_array}{String\+Array}} \&product\+Identifiers)
\item 
\mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} \mbox{\hyperlink{class_in_app_purchases_a0438154d89d7875eb967b1be4c62bb50}{purchase\+Product}} (\mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{class_string}{String}} \&product\+Identifier, \mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{class_string}{String}} \&upgrade\+Or\+Downgrade\+From\+Subscription\+With\+Product\+Identifier=\{\}, bool credit\+For\+Unused\+Subscription=\mbox{\hyperlink{ordinals_8h_a41f9c5fb8b08eb5dc3edce4dcb37fee7}{true}})
\item 
\mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} \mbox{\hyperlink{class_in_app_purchases_a6c77a207b61d8d38828d79b01cf3eacb}{restore\+Products\+Bought\+List}} (bool include\+Download\+Info, \mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} juce\+::\+String \&subscriptions\+Shared\+Secret=\{\})
\item 
\mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} \mbox{\hyperlink{class_in_app_purchases_a3258cb8a9018a08cfca443ee73984e3c}{consume\+Purchase}} (\mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{class_string}{String}} \&product\+Identifier, \mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{class_string}{String}} \&purchase\+Token=\{\})
\item 
\mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} \mbox{\hyperlink{class_in_app_purchases_a6cab955567510c5390faf5feb7993a07}{add\+Listener}} (\mbox{\hyperlink{struct_in_app_purchases_1_1_listener}{Listener}} $\ast$)
\item 
\mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} \mbox{\hyperlink{class_in_app_purchases_a9d5ccb3420078dd951c3431d963797f6}{remove\+Listener}} (\mbox{\hyperlink{struct_in_app_purchases_1_1_listener}{Listener}} $\ast$)
\item 
\mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} \mbox{\hyperlink{class_in_app_purchases_a317730da48e10d6de3f33a2799163d45}{start\+Downloads}} (\mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{class_array}{Array}}$<$ \mbox{\hyperlink{struct_in_app_purchases_1_1_download}{Download}} $\ast$ $>$ \&downloads)
\item 
\mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} \mbox{\hyperlink{class_in_app_purchases_a4f49f93f056ca637e30c7a01246bc72c}{pause\+Downloads}} (\mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{class_array}{Array}}$<$ \mbox{\hyperlink{struct_in_app_purchases_1_1_download}{Download}} $\ast$ $>$ \&downloads)
\item 
\mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} \mbox{\hyperlink{class_in_app_purchases_a1c8e96c6c032ed554788aae9bd8a5520}{resume\+Downloads}} (\mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{class_array}{Array}}$<$ \mbox{\hyperlink{struct_in_app_purchases_1_1_download}{Download}} $\ast$ $>$ \&downloads)
\item 
\mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} \mbox{\hyperlink{class_in_app_purchases_addc22f1a6c73d1a0c25a5f9c46dc5804}{cancel\+Downloads}} (\mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{class_array}{Array}}$<$ \mbox{\hyperlink{struct_in_app_purchases_1_1_download}{Download}} $\ast$ $>$ \&downloads)
\item 
\mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} \mbox{\hyperlink{class_in_app_purchases_a4dfc1d93576b36ad84e23bac1c484c22}{purchase\+Product}} (\mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{class_string}{String}} \&product\+Identifier, bool is\+Subscription, \mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{class_string_array}{String\+Array}} \&upgrade\+Or\+Downgrade\+From\+Subscriptions\+With\+Product\+Identifiers=\{\}, bool credit\+For\+Unused\+Subscription=\mbox{\hyperlink{ordinals_8h_a41f9c5fb8b08eb5dc3edce4dcb37fee7}{true}})
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Provides in-\/app purchase functionality.

Your app should create a single instance of this class, and on i\+OS it should be created as soon as your app starts. This is because on application startup any previously pending transactions will be resumed.

Once an \mbox{\hyperlink{class_in_app_purchases}{In\+App\+Purchases}} object is created, call \mbox{\hyperlink{class_in_app_purchases_a6cab955567510c5390faf5feb7993a07}{add\+Listener()}} to attach listeners.

@tags\{Product\+Unlocking\} 

\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_in_app_purchases_a6cab955567510c5390faf5feb7993a07}\label{class_in_app_purchases_a6cab955567510c5390faf5feb7993a07}} 
\index{InAppPurchases@{InAppPurchases}!addListener@{addListener}}
\index{addListener@{addListener}!InAppPurchases@{InAppPurchases}}
\doxysubsubsection{\texorpdfstring{addListener()}{addListener()}}
{\footnotesize\ttfamily \mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} In\+App\+Purchases\+::add\+Listener (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_in_app_purchases_1_1_listener}{Listener}} $\ast$}]{ }\end{DoxyParamCaption})}

Adds a listener. \mbox{\Hypertarget{class_in_app_purchases_addc22f1a6c73d1a0c25a5f9c46dc5804}\label{class_in_app_purchases_addc22f1a6c73d1a0c25a5f9c46dc5804}} 
\index{InAppPurchases@{InAppPurchases}!cancelDownloads@{cancelDownloads}}
\index{cancelDownloads@{cancelDownloads}!InAppPurchases@{InAppPurchases}}
\doxysubsubsection{\texorpdfstring{cancelDownloads()}{cancelDownloads()}}
{\footnotesize\ttfamily \mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} In\+App\+Purchases\+::cancel\+Downloads (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{class_array}{Array}}$<$ \mbox{\hyperlink{struct_in_app_purchases_1_1_download}{Download}} $\ast$ $>$ \&}]{downloads }\end{DoxyParamCaption})}

i\+OS only\+: Cancels downloads of hosted content from the store. \mbox{\Hypertarget{class_in_app_purchases_a3258cb8a9018a08cfca443ee73984e3c}\label{class_in_app_purchases_a3258cb8a9018a08cfca443ee73984e3c}} 
\index{InAppPurchases@{InAppPurchases}!consumePurchase@{consumePurchase}}
\index{consumePurchase@{consumePurchase}!InAppPurchases@{InAppPurchases}}
\doxysubsubsection{\texorpdfstring{consumePurchase()}{consumePurchase()}}
{\footnotesize\ttfamily \mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} In\+App\+Purchases\+::consume\+Purchase (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{class_string}{String}} \&}]{product\+Identifier,  }\item[{\mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{class_string}{String}} \&}]{purchase\+Token = {\ttfamily \{\}} }\end{DoxyParamCaption})}

Android only\+: asynchronously sends a request to mark a purchase with given identifier as consumed. To consume a product, provide product identifier as well as a purchase token that was generated when the product was purchased. The purchase token can also be retrieved by using \mbox{\hyperlink{class_in_app_purchases_aad53d0d034c19ad6cce54ec9e39e69b8}{get\+Products\+Information()}}. In general if it is available on hand, it is better to use it, because otherwise another async request will be sent to the store, to first retrieve the token.

After successful consumption, a product will no longer be returned in get\+Products\+Bought() and it will be available for purchase.

On i\+OS consumption happens automatically. If the product was set as consumable, this function is a no-\/op. \mbox{\Hypertarget{class_in_app_purchases_aad53d0d034c19ad6cce54ec9e39e69b8}\label{class_in_app_purchases_aad53d0d034c19ad6cce54ec9e39e69b8}} 
\index{InAppPurchases@{InAppPurchases}!getProductsInformation@{getProductsInformation}}
\index{getProductsInformation@{getProductsInformation}!InAppPurchases@{InAppPurchases}}
\doxysubsubsection{\texorpdfstring{getProductsInformation()}{getProductsInformation()}}
{\footnotesize\ttfamily \mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} In\+App\+Purchases\+::get\+Products\+Information (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{class_string_array}{String\+Array}} \&}]{product\+Identifiers }\end{DoxyParamCaption})}

Asynchronously requests information for products with given ids. Upon completion, for each enquired product there is going to be a corresponding \mbox{\hyperlink{struct_in_app_purchases_1_1_product}{Product}} object. If there is no information available for the given product identifier, it will be ignored. \mbox{\Hypertarget{class_in_app_purchases_a6d91533cc60a92ce7d08dd7a8170b4fe}\label{class_in_app_purchases_a6d91533cc60a92ce7d08dd7a8170b4fe}} 
\index{InAppPurchases@{InAppPurchases}!isInAppPurchasesSupported@{isInAppPurchasesSupported}}
\index{isInAppPurchasesSupported@{isInAppPurchasesSupported}!InAppPurchases@{InAppPurchases}}
\doxysubsubsection{\texorpdfstring{isInAppPurchasesSupported()}{isInAppPurchasesSupported()}}
{\footnotesize\ttfamily bool In\+App\+Purchases\+::is\+In\+App\+Purchases\+Supported (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}

Checks whether in-\/app purchases is supported on current platform. On i\+OS this always returns true. \mbox{\Hypertarget{class_in_app_purchases_a4f49f93f056ca637e30c7a01246bc72c}\label{class_in_app_purchases_a4f49f93f056ca637e30c7a01246bc72c}} 
\index{InAppPurchases@{InAppPurchases}!pauseDownloads@{pauseDownloads}}
\index{pauseDownloads@{pauseDownloads}!InAppPurchases@{InAppPurchases}}
\doxysubsubsection{\texorpdfstring{pauseDownloads()}{pauseDownloads()}}
{\footnotesize\ttfamily \mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} In\+App\+Purchases\+::pause\+Downloads (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{class_array}{Array}}$<$ \mbox{\hyperlink{struct_in_app_purchases_1_1_download}{Download}} $\ast$ $>$ \&}]{downloads }\end{DoxyParamCaption})}

i\+OS only\+: Pauses downloads of hosted content from the store. \mbox{\Hypertarget{class_in_app_purchases_a4dfc1d93576b36ad84e23bac1c484c22}\label{class_in_app_purchases_a4dfc1d93576b36ad84e23bac1c484c22}} 
\index{InAppPurchases@{InAppPurchases}!purchaseProduct@{purchaseProduct}}
\index{purchaseProduct@{purchaseProduct}!InAppPurchases@{InAppPurchases}}
\doxysubsubsection{\texorpdfstring{purchaseProduct()}{purchaseProduct()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} In\+App\+Purchases\+::purchase\+Product (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{class_string}{String}} \&}]{product\+Identifier,  }\item[{bool}]{is\+Subscription,  }\item[{\mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{class_string_array}{String\+Array}} \&}]{upgrade\+Or\+Downgrade\+From\+Subscriptions\+With\+Product\+Identifiers = {\ttfamily \{\}},  }\item[{bool}]{credit\+For\+Unused\+Subscription = {\ttfamily \mbox{\hyperlink{ordinals_8h_a41f9c5fb8b08eb5dc3edce4dcb37fee7}{true}}} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

\mbox{\Hypertarget{class_in_app_purchases_a0438154d89d7875eb967b1be4c62bb50}\label{class_in_app_purchases_a0438154d89d7875eb967b1be4c62bb50}} 
\index{InAppPurchases@{InAppPurchases}!purchaseProduct@{purchaseProduct}}
\index{purchaseProduct@{purchaseProduct}!InAppPurchases@{InAppPurchases}}
\doxysubsubsection{\texorpdfstring{purchaseProduct()}{purchaseProduct()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} In\+App\+Purchases\+::purchase\+Product (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{class_string}{String}} \&}]{product\+Identifier,  }\item[{\mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{class_string}{String}} \&}]{upgrade\+Or\+Downgrade\+From\+Subscription\+With\+Product\+Identifier = {\ttfamily \{\}},  }\item[{bool}]{credit\+For\+Unused\+Subscription = {\ttfamily \mbox{\hyperlink{ordinals_8h_a41f9c5fb8b08eb5dc3edce4dcb37fee7}{true}}} }\end{DoxyParamCaption})}

Asynchronously requests to buy a product with given id.


\begin{DoxyParams}{Parameters}
{\em product\+Identifier} & The product identifier.\\
\hline
{\em upgrade\+Or\+Downgrade\+From\+Subscription\+With\+Product\+Identifier} & (Android only) specifies the subscription that will be replaced by the one being purchased now. Used only when buying a subscription that is an upgrade or downgrade from another.\\
\hline
{\em credit\+For\+Unused\+Subscription} & (Android only) controls whether a user should be credited for any unused subscription time on the product that is being upgraded or downgraded. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{class_in_app_purchases_a9d5ccb3420078dd951c3431d963797f6}\label{class_in_app_purchases_a9d5ccb3420078dd951c3431d963797f6}} 
\index{InAppPurchases@{InAppPurchases}!removeListener@{removeListener}}
\index{removeListener@{removeListener}!InAppPurchases@{InAppPurchases}}
\doxysubsubsection{\texorpdfstring{removeListener()}{removeListener()}}
{\footnotesize\ttfamily \mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} In\+App\+Purchases\+::remove\+Listener (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_in_app_purchases_1_1_listener}{Listener}} $\ast$}]{ }\end{DoxyParamCaption})}

Removes a listener. \mbox{\Hypertarget{class_in_app_purchases_a6c77a207b61d8d38828d79b01cf3eacb}\label{class_in_app_purchases_a6c77a207b61d8d38828d79b01cf3eacb}} 
\index{InAppPurchases@{InAppPurchases}!restoreProductsBoughtList@{restoreProductsBoughtList}}
\index{restoreProductsBoughtList@{restoreProductsBoughtList}!InAppPurchases@{InAppPurchases}}
\doxysubsubsection{\texorpdfstring{restoreProductsBoughtList()}{restoreProductsBoughtList()}}
{\footnotesize\ttfamily \mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} In\+App\+Purchases\+::restore\+Products\+Bought\+List (\begin{DoxyParamCaption}\item[{bool}]{include\+Download\+Info,  }\item[{\mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} juce\+::\+String \&}]{subscriptions\+Shared\+Secret = {\ttfamily \{\}} }\end{DoxyParamCaption})}

Asynchronously asks about a list of products that a user has already bought. Upon completion, Listener\+::purchases\+List\+Received() callback will be invoked. The user may be prompted to login first.


\begin{DoxyParams}{Parameters}
{\em include\+Download\+Info} & (i\+OS only) if true, then after restoration is successful, the downloads array passed to Listener\+::purchases\+List\+Received() callback will contain all the download objects corresponding with the purchase. In the opposite case, the downloads array will be empty.\\
\hline
{\em subscriptions\+Shared\+Secret} & (i\+OS only) required when not including download information and when there are auto-\/renewable subscription set up with this app. Refer to In-\/\+App-\/\+Purchase settings in the store. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{class_in_app_purchases_a1c8e96c6c032ed554788aae9bd8a5520}\label{class_in_app_purchases_a1c8e96c6c032ed554788aae9bd8a5520}} 
\index{InAppPurchases@{InAppPurchases}!resumeDownloads@{resumeDownloads}}
\index{resumeDownloads@{resumeDownloads}!InAppPurchases@{InAppPurchases}}
\doxysubsubsection{\texorpdfstring{resumeDownloads()}{resumeDownloads()}}
{\footnotesize\ttfamily \mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} In\+App\+Purchases\+::resume\+Downloads (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{class_array}{Array}}$<$ \mbox{\hyperlink{struct_in_app_purchases_1_1_download}{Download}} $\ast$ $>$ \&}]{downloads }\end{DoxyParamCaption})}

i\+OS only\+: Resumes downloads of hosted content from the store. \mbox{\Hypertarget{class_in_app_purchases_a317730da48e10d6de3f33a2799163d45}\label{class_in_app_purchases_a317730da48e10d6de3f33a2799163d45}} 
\index{InAppPurchases@{InAppPurchases}!startDownloads@{startDownloads}}
\index{startDownloads@{startDownloads}!InAppPurchases@{InAppPurchases}}
\doxysubsubsection{\texorpdfstring{startDownloads()}{startDownloads()}}
{\footnotesize\ttfamily \mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} In\+App\+Purchases\+::start\+Downloads (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{class_array}{Array}}$<$ \mbox{\hyperlink{struct_in_app_purchases_1_1_download}{Download}} $\ast$ $>$ \&}]{downloads }\end{DoxyParamCaption})}

i\+OS only\+: Starts downloads of hosted content from the store. 

The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
build/juce\+\_\+product\+\_\+unlocking/in\+\_\+app\+\_\+purchases/\mbox{\hyperlink{juce___in_app_purchases_8h}{juce\+\_\+\+In\+App\+Purchases.\+h}}\end{DoxyCompactItemize}
