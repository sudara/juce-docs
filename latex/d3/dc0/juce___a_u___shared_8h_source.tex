\hypertarget{juce___a_u___shared_8h_source}{}\doxysection{juce\+\_\+\+AU\+\_\+\+Shared.\+h}
\label{juce___a_u___shared_8h_source}\index{build/juce\_audio\_processors/format\_types/juce\_AU\_Shared.h@{build/juce\_audio\_processors/format\_types/juce\_AU\_Shared.h}}
\mbox{\hyperlink{juce___a_u___shared_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 }
\DoxyCodeLine{5 \textcolor{comment}{/*}}
\DoxyCodeLine{6 \textcolor{comment}{  ==============================================================================}}
\DoxyCodeLine{7 \textcolor{comment}{}}
\DoxyCodeLine{8 \textcolor{comment}{   This file is part of the JUCE library.}}
\DoxyCodeLine{9 \textcolor{comment}{   Copyright (c) 2020 -\/ Raw Material Software Limited}}
\DoxyCodeLine{10 \textcolor{comment}{}}
\DoxyCodeLine{11 \textcolor{comment}{   JUCE is an open source library subject to commercial or open-\/source}}
\DoxyCodeLine{12 \textcolor{comment}{   licensing.}}
\DoxyCodeLine{13 \textcolor{comment}{}}
\DoxyCodeLine{14 \textcolor{comment}{   By using JUCE, you agree to the terms of both the JUCE 6 End-\/User License}}
\DoxyCodeLine{15 \textcolor{comment}{   Agreement and JUCE Privacy Policy (both effective as of the 16th June 2020).}}
\DoxyCodeLine{16 \textcolor{comment}{}}
\DoxyCodeLine{17 \textcolor{comment}{   End User License Agreement: www.juce.com/juce-\/6-\/licence}}
\DoxyCodeLine{18 \textcolor{comment}{   Privacy Policy: www.juce.com/juce-\/privacy-\/policy}}
\DoxyCodeLine{19 \textcolor{comment}{}}
\DoxyCodeLine{20 \textcolor{comment}{   Or: You may also use this code under the terms of the GPL v3 (see}}
\DoxyCodeLine{21 \textcolor{comment}{   www.gnu.org/licenses).}}
\DoxyCodeLine{22 \textcolor{comment}{}}
\DoxyCodeLine{23 \textcolor{comment}{   JUCE IS PROVIDED "{}AS IS"{} WITHOUT ANY WARRANTY, AND ALL WARRANTIES, WHETHER}}
\DoxyCodeLine{24 \textcolor{comment}{   EXPRESSED OR IMPLIED, INCLUDING MERCHANTABILITY AND FITNESS FOR PURPOSE, ARE}}
\DoxyCodeLine{25 \textcolor{comment}{   DISCLAIMED.}}
\DoxyCodeLine{26 \textcolor{comment}{}}
\DoxyCodeLine{27 \textcolor{comment}{  ==============================================================================}}
\DoxyCodeLine{28 \textcolor{comment}{*/}}
\DoxyCodeLine{29 }
\DoxyCodeLine{30 \textcolor{comment}{// This macro can be set if you need to override this internal name for some reason..}}
\DoxyCodeLine{31 \textcolor{preprocessor}{\#ifndef JUCE\_STATE\_DICTIONARY\_KEY}}
\DoxyCodeLine{32 \textcolor{preprocessor}{ \#define JUCE\_STATE\_DICTIONARY\_KEY   "{}jucePluginState"{}}}
\DoxyCodeLine{33 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{34 }
\DoxyCodeLine{35 \textcolor{preprocessor}{\#ifndef DOXYGEN}}
\DoxyCodeLine{36 }
\DoxyCodeLine{37 \textcolor{keyword}{struct }\mbox{\hyperlink{struct_audio_unit_helpers}{AudioUnitHelpers}}}
\DoxyCodeLine{38 \{}
\DoxyCodeLine{39     \textcolor{keyword}{class }\mbox{\hyperlink{class_audio_unit_helpers_1_1_channel_remapper}{ChannelRemapper}}}
\DoxyCodeLine{40     \{}
\DoxyCodeLine{41     \textcolor{keyword}{public}:}
\DoxyCodeLine{42         \textcolor{keywordtype}{void} \mbox{\hyperlink{class_audio_unit_helpers_1_1_channel_remapper_aa567a244e89a51376b1597435bbc96c5}{alloc}} (\mbox{\hyperlink{class_audio_processor}{AudioProcessor}}\& processor)}
\DoxyCodeLine{43         \{}
\DoxyCodeLine{44             \textcolor{keyword}{const} \textcolor{keywordtype}{int} numInputBuses  = \mbox{\hyperlink{struct_audio_unit_helpers_acb4a6c0b905573676d2066061fcf087e}{AudioUnitHelpers::getBusCount}} (processor, \textcolor{keyword}{true});}
\DoxyCodeLine{45             \textcolor{keyword}{const} \textcolor{keywordtype}{int} numOutputBuses = \mbox{\hyperlink{struct_audio_unit_helpers_acb4a6c0b905573676d2066061fcf087e}{AudioUnitHelpers::getBusCount}} (processor, \textcolor{keyword}{false});}
\DoxyCodeLine{46 }
\DoxyCodeLine{47             initializeChannelMapArray (processor, \textcolor{keyword}{true}, numInputBuses);}
\DoxyCodeLine{48             initializeChannelMapArray (processor, \textcolor{keyword}{false}, numOutputBuses);}
\DoxyCodeLine{49 }
\DoxyCodeLine{50             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} busIdx = 0; busIdx < numInputBuses; ++busIdx)}
\DoxyCodeLine{51                 fillLayoutChannelMaps (processor, \textcolor{keyword}{true}, busIdx);}
\DoxyCodeLine{52 }
\DoxyCodeLine{53             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} busIdx = 0; busIdx < numOutputBuses; ++busIdx)}
\DoxyCodeLine{54                 fillLayoutChannelMaps (processor, \textcolor{keyword}{false}, busIdx);}
\DoxyCodeLine{55         \}}
\DoxyCodeLine{56 }
\DoxyCodeLine{57         \textcolor{keywordtype}{void} \mbox{\hyperlink{class_audio_unit_helpers_1_1_channel_remapper_a149a4f20954320f89e4e2ffd65166d3d}{release}}()}
\DoxyCodeLine{58         \{}
\DoxyCodeLine{59             inputLayoutMap = outputLayoutMap = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{60             inputLayoutMapPtrStorage.free();}
\DoxyCodeLine{61             outputLayoutMapPtrStorage.free();}
\DoxyCodeLine{62             inputLayoutMapStorage.free();}
\DoxyCodeLine{63             outputLayoutMapStorage.free();}
\DoxyCodeLine{64         \}}
\DoxyCodeLine{65 }
\DoxyCodeLine{66         \textcolor{keyword}{inline} \textcolor{keyword}{const} \textcolor{keywordtype}{int}* \mbox{\hyperlink{class_audio_unit_helpers_1_1_channel_remapper_af216cbdf36930ae662d4823f41a1f9aa}{get}} (\textcolor{keywordtype}{bool} \mbox{\hyperlink{namespacegl_ae94d0a99dc3426b5ac5fc7d881691a61}{input}}, \textcolor{keywordtype}{int} bus) \textcolor{keyword}{const} \textcolor{keyword}{noexcept} \{ \textcolor{keywordflow}{return} (\mbox{\hyperlink{namespacegl_ae94d0a99dc3426b5ac5fc7d881691a61}{input}} ? inputLayoutMap : outputLayoutMap)[bus]; \}}
\DoxyCodeLine{67 }
\DoxyCodeLine{68     \textcolor{keyword}{private}:}
\DoxyCodeLine{69         \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{70         \mbox{\hyperlink{class_heap_block}{HeapBlock<int*>}} inputLayoutMapPtrStorage, outputLayoutMapPtrStorage;}
\DoxyCodeLine{71         \mbox{\hyperlink{class_heap_block}{HeapBlock<int>}}  inputLayoutMapStorage, outputLayoutMapStorage;}
\DoxyCodeLine{72         \textcolor{keywordtype}{int}** inputLayoutMap  = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{73         \textcolor{keywordtype}{int}** outputLayoutMap = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{74 }
\DoxyCodeLine{75         \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{76         \textcolor{keywordtype}{void} initializeChannelMapArray (\mbox{\hyperlink{class_audio_processor}{AudioProcessor}}\& processor, \textcolor{keywordtype}{bool} isInput, \textcolor{keyword}{const} \textcolor{keywordtype}{int} numBuses)}
\DoxyCodeLine{77         \{}
\DoxyCodeLine{78             \mbox{\hyperlink{class_heap_block}{HeapBlock<int*>}}\& layoutMapPtrStorage = isInput ? inputLayoutMapPtrStorage : outputLayoutMapPtrStorage;}
\DoxyCodeLine{79             \mbox{\hyperlink{class_heap_block}{HeapBlock<int>}}\& layoutMapStorage = isInput ? inputLayoutMapStorage : outputLayoutMapStorage;}
\DoxyCodeLine{80             \textcolor{keywordtype}{int}**\& layoutMap = isInput ? inputLayoutMap : outputLayoutMap;}
\DoxyCodeLine{81 }
\DoxyCodeLine{82             \textcolor{keyword}{const} \textcolor{keywordtype}{int} totalInChannels  = processor.\mbox{\hyperlink{class_audio_processor_a77571fc8ce02ddf4fe3a56fe57ea9392}{getTotalNumInputChannels}}();}
\DoxyCodeLine{83             \textcolor{keyword}{const} \textcolor{keywordtype}{int} totalOutChannels = processor.\mbox{\hyperlink{class_audio_processor_a2a99a78e2a1e2b7f2d4dffee0819a225}{getTotalNumOutputChannels}}();}
\DoxyCodeLine{84 }
\DoxyCodeLine{85             layoutMapPtrStorage.\mbox{\hyperlink{class_heap_block_ae85c772e650f78ec449611e4a5dea301}{calloc}} (\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>} (numBuses));}
\DoxyCodeLine{86             layoutMapStorage.\mbox{\hyperlink{class_heap_block_ae85c772e650f78ec449611e4a5dea301}{calloc}} (\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>} (isInput ? totalInChannels : totalOutChannels));}
\DoxyCodeLine{87 }
\DoxyCodeLine{88             layoutMap = layoutMapPtrStorage.\mbox{\hyperlink{class_heap_block_ad336734ceae0e07276c425124ffa8f65}{get}}();}
\DoxyCodeLine{89 }
\DoxyCodeLine{90             \textcolor{keywordtype}{int} ch = 0;}
\DoxyCodeLine{91             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} busIdx = 0; busIdx < numBuses; ++busIdx)}
\DoxyCodeLine{92             \{}
\DoxyCodeLine{93                 layoutMap[busIdx] = layoutMapStorage.\mbox{\hyperlink{class_heap_block_ad336734ceae0e07276c425124ffa8f65}{get}}() + ch;}
\DoxyCodeLine{94                 ch += processor.\mbox{\hyperlink{class_audio_processor_a8860ffb6bcf02cf02da8b55937e90da6}{getChannelCountOfBus}} (isInput, busIdx);}
\DoxyCodeLine{95             \}}
\DoxyCodeLine{96         \}}
\DoxyCodeLine{97 }
\DoxyCodeLine{98         \textcolor{keywordtype}{void} fillLayoutChannelMaps (\mbox{\hyperlink{class_audio_processor}{AudioProcessor}}\& processor, \textcolor{keywordtype}{bool} isInput, \textcolor{keywordtype}{int} busNr)}
\DoxyCodeLine{99         \{}
\DoxyCodeLine{100             \textcolor{keywordtype}{int}* layoutMap = (isInput ? inputLayoutMap : outputLayoutMap)[busNr];}
\DoxyCodeLine{101             \textcolor{keyword}{auto} channelFormat = processor.\mbox{\hyperlink{class_audio_processor_a5ccdab0242879d734cd34ab45a8ef6a5}{getChannelLayoutOfBus}} (isInput, busNr);}
\DoxyCodeLine{102             AudioChannelLayout coreAudioLayout;}
\DoxyCodeLine{103 }
\DoxyCodeLine{104             \mbox{\hyperlink{group__juce__core-memory_ga1f3dbe374ad9280ed9ba72f510d8e5b0}{zerostruct}} (coreAudioLayout);}
\DoxyCodeLine{105             coreAudioLayout.mChannelLayoutTag = CoreAudioLayouts::toCoreAudio (channelFormat);}
\DoxyCodeLine{106 }
\DoxyCodeLine{107             \textcolor{keyword}{const} \textcolor{keywordtype}{int} numChannels = channelFormat.size();}
\DoxyCodeLine{108             \textcolor{keyword}{auto} coreAudioChannels = CoreAudioLayouts::getCoreAudioLayoutChannels (coreAudioLayout);}
\DoxyCodeLine{109 }
\DoxyCodeLine{110             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < numChannels; ++i)}
\DoxyCodeLine{111                 layoutMap[i] = coreAudioChannels.indexOf (channelFormat.getTypeOfChannel (i));}
\DoxyCodeLine{112         \}}
\DoxyCodeLine{113     \};}
\DoxyCodeLine{114 }
\DoxyCodeLine{115     \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{116     \textcolor{keyword}{class }\mbox{\hyperlink{class_audio_unit_helpers_1_1_core_audio_buffer_list}{CoreAudioBufferList}}}
\DoxyCodeLine{117     \{}
\DoxyCodeLine{118     \textcolor{keyword}{public}:}
\DoxyCodeLine{119         \textcolor{keywordtype}{void} \mbox{\hyperlink{class_audio_unit_helpers_1_1_core_audio_buffer_list_a310011b4d000f3db2519ef4450136e88}{prepare}} (\textcolor{keyword}{const} \mbox{\hyperlink{struct_audio_processor_1_1_buses_layout}{AudioProcessor::BusesLayout}}\& layout, \textcolor{keywordtype}{int} maxFrames)}
\DoxyCodeLine{120         \{}
\DoxyCodeLine{121             \textcolor{keyword}{const} \textcolor{keyword}{auto} getChannelOffsets = [] (\textcolor{keyword}{const} \textcolor{keyword}{auto}\& \mbox{\hyperlink{namespacegl_ae32af3c263eaecc21093939cdb44aaf3}{range}})}
\DoxyCodeLine{122             \{}
\DoxyCodeLine{123                 std::vector<int> \mbox{\hyperlink{namespacegl_a7cb1126dbc1cb105bcce082cff5ae633}{result}} \{ 0 \};}
\DoxyCodeLine{124 }
\DoxyCodeLine{125                 \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}\& bus : \mbox{\hyperlink{namespacegl_ae32af3c263eaecc21093939cdb44aaf3}{range}})}
\DoxyCodeLine{126                     \mbox{\hyperlink{namespacegl_a7cb1126dbc1cb105bcce082cff5ae633}{result}}.push\_back (\mbox{\hyperlink{namespacegl_a7cb1126dbc1cb105bcce082cff5ae633}{result}}.back() + bus.size());}
\DoxyCodeLine{127 }
\DoxyCodeLine{128                 \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacegl_a7cb1126dbc1cb105bcce082cff5ae633}{result}};}
\DoxyCodeLine{129             \};}
\DoxyCodeLine{130 }
\DoxyCodeLine{131             inputBusOffsets  = getChannelOffsets (layout.\mbox{\hyperlink{struct_audio_processor_1_1_buses_layout_a73c26adffea9b970150aa2c204155db6}{inputBuses}});}
\DoxyCodeLine{132             outputBusOffsets = getChannelOffsets (layout.\mbox{\hyperlink{struct_audio_processor_1_1_buses_layout_aeb39a2b0609cdecfa2b2e7075724acf5}{outputBuses}});}
\DoxyCodeLine{133 }
\DoxyCodeLine{134             \textcolor{keyword}{const} \textcolor{keyword}{auto} numChannels = \mbox{\hyperlink{group__juce__core-maths_gadfd716f36f80987d66ebc2fce819c1fe}{jmax}} (inputBusOffsets.back(), outputBusOffsets.back());}
\DoxyCodeLine{135             scratch.setSize (numChannels, maxFrames);}
\DoxyCodeLine{136             channels.resize (\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>} (numChannels), \textcolor{keyword}{nullptr});}
\DoxyCodeLine{137 }
\DoxyCodeLine{138             \mbox{\hyperlink{class_audio_unit_helpers_1_1_core_audio_buffer_list_a556c1c47f2a66547f9740b1314286498}{reset}}();}
\DoxyCodeLine{139         \}}
\DoxyCodeLine{140 }
\DoxyCodeLine{141         \textcolor{keywordtype}{void} \mbox{\hyperlink{class_audio_unit_helpers_1_1_core_audio_buffer_list_ac802ae2d716fab534a42a53313648e7d}{release}}()}
\DoxyCodeLine{142         \{}
\DoxyCodeLine{143             scratch.setSize (0, 0);}
\DoxyCodeLine{144             channels = \{\};}
\DoxyCodeLine{145             inputBusOffsets = outputBusOffsets = std::vector<int>();}
\DoxyCodeLine{146         \}}
\DoxyCodeLine{147 }
\DoxyCodeLine{148         \textcolor{keywordtype}{void} \mbox{\hyperlink{class_audio_unit_helpers_1_1_core_audio_buffer_list_a556c1c47f2a66547f9740b1314286498}{reset}}()}
\DoxyCodeLine{149         \{}
\DoxyCodeLine{150             std::fill (channels.begin(), channels.end(), \textcolor{keyword}{nullptr});}
\DoxyCodeLine{151         \}}
\DoxyCodeLine{152 }
\DoxyCodeLine{153         \textcolor{keywordtype}{float}* \mbox{\hyperlink{class_audio_unit_helpers_1_1_core_audio_buffer_list_a080a9db5ff2f613d9ea1638f0cdf7ed5}{setBuffer}} (\textcolor{keyword}{const} \textcolor{keywordtype}{int} idx, \textcolor{keywordtype}{float}* \mbox{\hyperlink{namespacejuce_ae427f5199e2d1a5f8091defa1a86f1fc}{ptr}} = \textcolor{keyword}{nullptr}) noexcept}
\DoxyCodeLine{154         \{}
\DoxyCodeLine{155             \mbox{\hyperlink{group__juce__core-system_ga1f96ab6751237979b907a54f52a7296a}{jassert}} (idx < scratch.getNumChannels());}
\DoxyCodeLine{156             \textcolor{keywordflow}{return} channels[(size\_t) idx] = uniqueBuffer (idx, \mbox{\hyperlink{namespacejuce_ae427f5199e2d1a5f8091defa1a86f1fc}{ptr}});}
\DoxyCodeLine{157         \}}
\DoxyCodeLine{158 }
\DoxyCodeLine{159         \mbox{\hyperlink{class_audio_buffer}{AudioBuffer<float>}}\& \mbox{\hyperlink{class_audio_unit_helpers_1_1_core_audio_buffer_list_ab8cb34ce21db9d1912624e2d2bbee3a5}{getBuffer}} (UInt32 frames) \textcolor{keyword}{noexcept}}
\DoxyCodeLine{160         \{}
\DoxyCodeLine{161 \textcolor{preprocessor}{           \#if JUCE\_DEBUG}}
\DoxyCodeLine{162             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < (\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}}) channels.size(); ++i)}
\DoxyCodeLine{163                 \mbox{\hyperlink{group__juce__core-system_ga1f96ab6751237979b907a54f52a7296a}{jassert}} (channels[(\textcolor{keywordtype}{size\_t}) i] != \textcolor{keyword}{nullptr});}
\DoxyCodeLine{164 \textcolor{preprocessor}{           \#endif}}
\DoxyCodeLine{165 }
\DoxyCodeLine{166             \textcolor{keywordflow}{if} (! channels.empty())}
\DoxyCodeLine{167                 mutableBuffer.setDataToReferTo (channels.data(), (\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}}) channels.size(), \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>} (frames));}
\DoxyCodeLine{168 }
\DoxyCodeLine{169             \textcolor{keywordflow}{return} mutableBuffer;}
\DoxyCodeLine{170         \}}
\DoxyCodeLine{171 }
\DoxyCodeLine{172         \textcolor{keywordtype}{void} \mbox{\hyperlink{class_audio_unit_helpers_1_1_core_audio_buffer_list_aa5c3928453508b9e7368a929906ac54e}{set}} (\textcolor{keywordtype}{int} bus, AudioBufferList\& bufferList, \textcolor{keyword}{const} \textcolor{keywordtype}{int}* channelMap) \textcolor{keyword}{noexcept}}
\DoxyCodeLine{173         \{}
\DoxyCodeLine{174             \textcolor{keywordflow}{if} (bufferList.mNumberBuffers <= 0 || ! \mbox{\hyperlink{group__juce__core-maths_ga5762396fe2a5aa4c39b68ee5b70a96f8}{isPositiveAndBelow}} (bus, inputBusOffsets.size() -\/ 1))}
\DoxyCodeLine{175                 \textcolor{keywordflow}{return};}
\DoxyCodeLine{176 }
\DoxyCodeLine{177             \textcolor{keyword}{const} \textcolor{keyword}{auto} \mbox{\hyperlink{namespacegl_a1f71d238be3cdf94fc21bd0a832f074a}{n}} = (UInt32) (bufferList.mBuffers[0].mDataByteSize / (bufferList.mBuffers[0].mNumberChannels * sizeof (\textcolor{keywordtype}{float})));}
\DoxyCodeLine{178             \textcolor{keyword}{const} \textcolor{keyword}{auto} isInterleaved = \mbox{\hyperlink{struct_audio_unit_helpers_a2085fcf1704685ccf9b378d8daa75523}{isAudioBufferInterleaved}} (bufferList);}
\DoxyCodeLine{179             \textcolor{keyword}{const} \textcolor{keyword}{auto} numChannels = (\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}}) (isInterleaved ? bufferList.mBuffers[0].mNumberChannels}
\DoxyCodeLine{180                                                           : bufferList.mNumberBuffers);}
\DoxyCodeLine{181 }
\DoxyCodeLine{182             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ch = 0; ch < numChannels; ++ch)}
\DoxyCodeLine{183             \{}
\DoxyCodeLine{184                 \textcolor{keywordtype}{float}* \mbox{\hyperlink{jpeglib_8h_aa379dc8ae39e55ae0c431a61a7d2f2bc}{data}} = channels[(size\_t) (inputBusOffsets[(\textcolor{keywordtype}{size\_t}) bus] + ch)];}
\DoxyCodeLine{185 }
\DoxyCodeLine{186                 \textcolor{keyword}{const} \textcolor{keyword}{auto} mappedChannel = channelMap[ch];}
\DoxyCodeLine{187 }
\DoxyCodeLine{188                 \textcolor{keywordflow}{if} (isInterleaved || \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{float}*\textcolor{keyword}{>} (bufferList.mBuffers[mappedChannel].mData) != \mbox{\hyperlink{jpeglib_8h_aa379dc8ae39e55ae0c431a61a7d2f2bc}{data}})}
\DoxyCodeLine{189                     \mbox{\hyperlink{struct_audio_unit_helpers_ac27199a857891d4ceaf411569d20709b}{copyAudioBuffer}} (bufferList, mappedChannel, \mbox{\hyperlink{namespacegl_a1f71d238be3cdf94fc21bd0a832f074a}{n}}, \mbox{\hyperlink{jpeglib_8h_aa379dc8ae39e55ae0c431a61a7d2f2bc}{data}});}
\DoxyCodeLine{190             \}}
\DoxyCodeLine{191         \}}
\DoxyCodeLine{192 }
\DoxyCodeLine{193         \textcolor{keywordtype}{void} \mbox{\hyperlink{class_audio_unit_helpers_1_1_core_audio_buffer_list_a854a6f2b3423e27e4fed091bf4cc3089}{get}} (\textcolor{keywordtype}{int} bus, AudioBufferList\& buffer, \textcolor{keyword}{const} \textcolor{keywordtype}{int}* channelMap) \textcolor{keyword}{noexcept}}
\DoxyCodeLine{194         \{}
\DoxyCodeLine{195             \textcolor{keywordflow}{if} (buffer.mNumberBuffers <= 0 || ! \mbox{\hyperlink{group__juce__core-maths_ga5762396fe2a5aa4c39b68ee5b70a96f8}{isPositiveAndBelow}} (bus, outputBusOffsets.size() -\/ 1))}
\DoxyCodeLine{196                 \textcolor{keywordflow}{return};}
\DoxyCodeLine{197 }
\DoxyCodeLine{198             \textcolor{keyword}{const} \textcolor{keyword}{auto} \mbox{\hyperlink{namespacegl_a1f71d238be3cdf94fc21bd0a832f074a}{n}} = (UInt32) (buffer.mBuffers[0].mDataByteSize / (buffer.mBuffers[0].mNumberChannels * sizeof (\textcolor{keywordtype}{float})));}
\DoxyCodeLine{199             \textcolor{keyword}{const} \textcolor{keyword}{auto} isInterleaved = \mbox{\hyperlink{struct_audio_unit_helpers_a2085fcf1704685ccf9b378d8daa75523}{isAudioBufferInterleaved}} (buffer);}
\DoxyCodeLine{200             \textcolor{keyword}{const} \textcolor{keyword}{auto} numChannels = (\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}}) (isInterleaved ? buffer.mBuffers[0].mNumberChannels}
\DoxyCodeLine{201                                                           : buffer.mNumberBuffers);}
\DoxyCodeLine{202 }
\DoxyCodeLine{203             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ch = 0; ch < numChannels; ++ch)}
\DoxyCodeLine{204             \{}
\DoxyCodeLine{205                 \textcolor{keywordtype}{float}* \mbox{\hyperlink{jpeglib_8h_aa379dc8ae39e55ae0c431a61a7d2f2bc}{data}} = channels[(size\_t) (outputBusOffsets[(\textcolor{keywordtype}{size\_t}) bus] + ch)];}
\DoxyCodeLine{206 }
\DoxyCodeLine{207                 \textcolor{keyword}{const} \textcolor{keyword}{auto} mappedChannel = channelMap[ch];}
\DoxyCodeLine{208 }
\DoxyCodeLine{209                 \textcolor{keywordflow}{if} (\mbox{\hyperlink{jpeglib_8h_aa379dc8ae39e55ae0c431a61a7d2f2bc}{data}} == buffer.mBuffers[mappedChannel].mData \&\& ! isInterleaved)}
\DoxyCodeLine{210                     \textcolor{keywordflow}{continue}; \textcolor{comment}{// no copying necessary}}
\DoxyCodeLine{211 }
\DoxyCodeLine{212                 \textcolor{keywordflow}{if} (buffer.mBuffers[mappedChannel].mData == \textcolor{keyword}{nullptr} \&\& ! isInterleaved)}
\DoxyCodeLine{213                     buffer.mBuffers[mappedChannel].mData = \mbox{\hyperlink{jpeglib_8h_aa379dc8ae39e55ae0c431a61a7d2f2bc}{data}};}
\DoxyCodeLine{214                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{215                     \mbox{\hyperlink{struct_audio_unit_helpers_ac27199a857891d4ceaf411569d20709b}{copyAudioBuffer}} (\mbox{\hyperlink{jpeglib_8h_aa379dc8ae39e55ae0c431a61a7d2f2bc}{data}}, mappedChannel, \mbox{\hyperlink{namespacegl_a1f71d238be3cdf94fc21bd0a832f074a}{n}}, buffer);}
\DoxyCodeLine{216             \}}
\DoxyCodeLine{217         \}}
\DoxyCodeLine{218 }
\DoxyCodeLine{219         \textcolor{keywordtype}{void} \mbox{\hyperlink{class_audio_unit_helpers_1_1_core_audio_buffer_list_acddf86c4378c809d2e24bc72acd61955}{clearInputBus}} (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacegl_a06a196a98fd7b17e699cbea6c66c37cb}{index}}, \textcolor{keywordtype}{int} bufferLength)}
\DoxyCodeLine{220         \{}
\DoxyCodeLine{221             \textcolor{keywordflow}{if} (\mbox{\hyperlink{group__juce__core-maths_ga5762396fe2a5aa4c39b68ee5b70a96f8}{isPositiveAndBelow}} (\mbox{\hyperlink{namespacegl_a06a196a98fd7b17e699cbea6c66c37cb}{index}}, inputBusOffsets.size() -\/ 1))}
\DoxyCodeLine{222                 clearChannels (\{ inputBusOffsets[(size\_t) \mbox{\hyperlink{namespacegl_a06a196a98fd7b17e699cbea6c66c37cb}{index}}], inputBusOffsets[(\textcolor{keywordtype}{size\_t}) (\mbox{\hyperlink{namespacegl_a06a196a98fd7b17e699cbea6c66c37cb}{index}} + 1)] \}, bufferLength);}
\DoxyCodeLine{223         \}}
\DoxyCodeLine{224 }
\DoxyCodeLine{225         \textcolor{keywordtype}{void} \mbox{\hyperlink{class_audio_unit_helpers_1_1_core_audio_buffer_list_a876ae70edacf68db9e63d455fdb32cbe}{clearUnusedChannels}} (\textcolor{keywordtype}{int} bufferLength)}
\DoxyCodeLine{226         \{}
\DoxyCodeLine{227             \mbox{\hyperlink{group__juce__core-system_ga1f96ab6751237979b907a54f52a7296a}{jassert}} (! inputBusOffsets .empty());}
\DoxyCodeLine{228             \mbox{\hyperlink{group__juce__core-system_ga1f96ab6751237979b907a54f52a7296a}{jassert}} (! outputBusOffsets.empty());}
\DoxyCodeLine{229 }
\DoxyCodeLine{230             clearChannels (\{ inputBusOffsets.back(), outputBusOffsets.back() \}, bufferLength);}
\DoxyCodeLine{231         \}}
\DoxyCodeLine{232 }
\DoxyCodeLine{233     \textcolor{keyword}{private}:}
\DoxyCodeLine{234         \textcolor{keywordtype}{void} clearChannels (\mbox{\hyperlink{class_range}{Range<int>}} \mbox{\hyperlink{namespacegl_ae32af3c263eaecc21093939cdb44aaf3}{range}}, \textcolor{keywordtype}{int} bufferLength)}
\DoxyCodeLine{235         \{}
\DoxyCodeLine{236             \mbox{\hyperlink{group__juce__core-system_ga1f96ab6751237979b907a54f52a7296a}{jassert}} (bufferLength <= scratch.getNumSamples());}
\DoxyCodeLine{237 }
\DoxyCodeLine{238             \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacegl_ae32af3c263eaecc21093939cdb44aaf3}{range}}.getEnd() <= (\textcolor{keywordtype}{int}) channels.size())}
\DoxyCodeLine{239             \{}
\DoxyCodeLine{240                 std::for\_each (channels.begin() + \mbox{\hyperlink{namespacegl_ae32af3c263eaecc21093939cdb44aaf3}{range}}.getStart(),}
\DoxyCodeLine{241                                channels.begin() + \mbox{\hyperlink{namespacegl_ae32af3c263eaecc21093939cdb44aaf3}{range}}.getEnd(),}
\DoxyCodeLine{242                                [bufferLength] (\textcolor{keywordtype}{float}* \mbox{\hyperlink{namespacejuce_ae427f5199e2d1a5f8091defa1a86f1fc}{ptr}}) \{ zeromem (ptr, sizeof (float) * (size\_t) bufferLength); \});}
\DoxyCodeLine{243             \}}
\DoxyCodeLine{244         \}}
\DoxyCodeLine{245 }
\DoxyCodeLine{246         \textcolor{keywordtype}{float}* uniqueBuffer (\textcolor{keywordtype}{int} idx, \textcolor{keywordtype}{float}* buffer) \textcolor{keyword}{noexcept}}
\DoxyCodeLine{247         \{}
\DoxyCodeLine{248             \textcolor{keywordflow}{if} (buffer == \textcolor{keyword}{nullptr})}
\DoxyCodeLine{249                 \textcolor{keywordflow}{return} scratch.getWritePointer (idx);}
\DoxyCodeLine{250 }
\DoxyCodeLine{251             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ch = 0; ch < idx; ++ch)}
\DoxyCodeLine{252                 \textcolor{keywordflow}{if} (buffer == channels[(\textcolor{keywordtype}{size\_t}) ch])}
\DoxyCodeLine{253                     \textcolor{keywordflow}{return} scratch.getWritePointer (idx);}
\DoxyCodeLine{254 }
\DoxyCodeLine{255             \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacegl_af1bd5433d4e42cb8df763d053866e0a6}{buffer}};}
\DoxyCodeLine{256         \}}
\DoxyCodeLine{257 }
\DoxyCodeLine{258         \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{259         \mbox{\hyperlink{class_audio_buffer}{AudioBuffer<float>}} scratch, mutableBuffer;}
\DoxyCodeLine{260         std::vector<float*> channels;}
\DoxyCodeLine{261         std::vector<int> inputBusOffsets, outputBusOffsets;}
\DoxyCodeLine{262     \};}
\DoxyCodeLine{263 }
\DoxyCodeLine{264     \textcolor{keyword}{static} \textcolor{keywordtype}{bool} \mbox{\hyperlink{struct_audio_unit_helpers_a2085fcf1704685ccf9b378d8daa75523}{isAudioBufferInterleaved}} (\textcolor{keyword}{const} AudioBufferList\& audioBuffer) \textcolor{keyword}{noexcept}}
\DoxyCodeLine{265     \{}
\DoxyCodeLine{266         \textcolor{keywordflow}{return} (audioBuffer.mNumberBuffers == 1 \&\& audioBuffer.mBuffers[0].mNumberChannels > 1);}
\DoxyCodeLine{267     \}}
\DoxyCodeLine{268 }
\DoxyCodeLine{269     \textcolor{keyword}{static} \textcolor{keywordtype}{void} \mbox{\hyperlink{struct_audio_unit_helpers_a502793d0d94d69f92ee0251a274eb48e}{clearAudioBuffer}} (\textcolor{keyword}{const} AudioBufferList\& audioBuffer) \textcolor{keyword}{noexcept}}
\DoxyCodeLine{270     \{}
\DoxyCodeLine{271         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ch = 0; ch < audioBuffer.mNumberBuffers; ++ch)}
\DoxyCodeLine{272             \mbox{\hyperlink{group__juce__core-memory_ga48fb9b158a3767e6573d27a8160956ea}{zeromem}} (audioBuffer.mBuffers[ch].mData, audioBuffer.mBuffers[ch].mDataByteSize);}
\DoxyCodeLine{273     \}}
\DoxyCodeLine{274 }
\DoxyCodeLine{275     \textcolor{keyword}{static} \textcolor{keywordtype}{void} \mbox{\hyperlink{struct_audio_unit_helpers_ac27199a857891d4ceaf411569d20709b}{copyAudioBuffer}} (\textcolor{keyword}{const} AudioBufferList\& audioBuffer, \textcolor{keyword}{const} \textcolor{keywordtype}{int} channel, \textcolor{keyword}{const} UInt32 \mbox{\hyperlink{namespacegl_a441d79156826d7dfbf89100bb934a38d}{size}}, \textcolor{keywordtype}{float}* \mbox{\hyperlink{namespacegl_a174f1a72ee763b6703711da180ac5d79}{dst}}) \textcolor{keyword}{noexcept}}
\DoxyCodeLine{276     \{}
\DoxyCodeLine{277         \textcolor{keywordflow}{if} (! \mbox{\hyperlink{struct_audio_unit_helpers_a2085fcf1704685ccf9b378d8daa75523}{isAudioBufferInterleaved}} (audioBuffer))}
\DoxyCodeLine{278         \{}
\DoxyCodeLine{279             \mbox{\hyperlink{group__juce__core-system_ga1f96ab6751237979b907a54f52a7296a}{jassert}} (channel < \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>} (audioBuffer.mNumberBuffers));}
\DoxyCodeLine{280             \mbox{\hyperlink{group__juce__core-system_ga1f96ab6751237979b907a54f52a7296a}{jassert}} (audioBuffer.mBuffers[channel].mDataByteSize == (\mbox{\hyperlink{namespacegl_a441d79156826d7dfbf89100bb934a38d}{size}} * sizeof (\textcolor{keywordtype}{float})));}
\DoxyCodeLine{281 }
\DoxyCodeLine{282             memcpy (\mbox{\hyperlink{namespacegl_a174f1a72ee763b6703711da180ac5d79}{dst}}, audioBuffer.mBuffers[channel].mData, \mbox{\hyperlink{namespacegl_a441d79156826d7dfbf89100bb934a38d}{size}} * sizeof (\textcolor{keywordtype}{float}));}
\DoxyCodeLine{283         \}}
\DoxyCodeLine{284         \textcolor{keywordflow}{else}}
\DoxyCodeLine{285         \{}
\DoxyCodeLine{286             \textcolor{keyword}{const} \textcolor{keywordtype}{int} numChannels = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>} (audioBuffer.mBuffers[0].mNumberChannels);}
\DoxyCodeLine{287             \textcolor{keyword}{const} UInt32 \mbox{\hyperlink{namespacegl_a1f71d238be3cdf94fc21bd0a832f074a}{n}} = \textcolor{keyword}{static\_cast<}UInt32\textcolor{keyword}{>} (numChannels) * \mbox{\hyperlink{namespacegl_a441d79156826d7dfbf89100bb934a38d}{size}};}
\DoxyCodeLine{288             \textcolor{keyword}{const} \textcolor{keywordtype}{float}* \mbox{\hyperlink{namespacegl_a53ba192f09eb5ce0813c301689e803f8}{src}} = \textcolor{keyword}{static\_cast<}\textcolor{keyword}{const }\textcolor{keywordtype}{float}*\textcolor{keyword}{>} (audioBuffer.mBuffers[0].mData);}
\DoxyCodeLine{289 }
\DoxyCodeLine{290             \mbox{\hyperlink{group__juce__core-system_ga1f96ab6751237979b907a54f52a7296a}{jassert}} (channel < numChannels);}
\DoxyCodeLine{291             \mbox{\hyperlink{group__juce__core-system_ga1f96ab6751237979b907a54f52a7296a}{jassert}} (audioBuffer.mBuffers[0].mDataByteSize == (\mbox{\hyperlink{namespacegl_a1f71d238be3cdf94fc21bd0a832f074a}{n}} * sizeof (\textcolor{keywordtype}{float})));}
\DoxyCodeLine{292 }
\DoxyCodeLine{293             \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keywordtype}{float}* inData = \mbox{\hyperlink{namespacegl_a53ba192f09eb5ce0813c301689e803f8}{src}}; inData < (\mbox{\hyperlink{namespacegl_a53ba192f09eb5ce0813c301689e803f8}{src}} + \mbox{\hyperlink{namespacegl_a1f71d238be3cdf94fc21bd0a832f074a}{n}}); inData += numChannels)}
\DoxyCodeLine{294                 *\mbox{\hyperlink{namespacegl_a174f1a72ee763b6703711da180ac5d79}{dst}}++ = inData[channel];}
\DoxyCodeLine{295         \}}
\DoxyCodeLine{296     \}}
\DoxyCodeLine{297 }
\DoxyCodeLine{298     \textcolor{keyword}{static} \textcolor{keywordtype}{void} \mbox{\hyperlink{struct_audio_unit_helpers_a82dd544b757329d7cdf033eacaed06d1}{copyAudioBuffer}} (\textcolor{keyword}{const} \textcolor{keywordtype}{float} *\mbox{\hyperlink{namespacegl_a53ba192f09eb5ce0813c301689e803f8}{src}}, \textcolor{keyword}{const} \textcolor{keywordtype}{int} channel, \textcolor{keyword}{const} UInt32 \mbox{\hyperlink{namespacegl_a441d79156826d7dfbf89100bb934a38d}{size}}, AudioBufferList\& audioBuffer) \textcolor{keyword}{noexcept}}
\DoxyCodeLine{299     \{}
\DoxyCodeLine{300         \textcolor{keywordflow}{if} (! \mbox{\hyperlink{struct_audio_unit_helpers_a2085fcf1704685ccf9b378d8daa75523}{isAudioBufferInterleaved}} (audioBuffer))}
\DoxyCodeLine{301         \{}
\DoxyCodeLine{302             \mbox{\hyperlink{group__juce__core-system_ga1f96ab6751237979b907a54f52a7296a}{jassert}} (channel < \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>} (audioBuffer.mNumberBuffers));}
\DoxyCodeLine{303             \mbox{\hyperlink{group__juce__core-system_ga1f96ab6751237979b907a54f52a7296a}{jassert}} (audioBuffer.mBuffers[channel].mDataByteSize == (\mbox{\hyperlink{namespacegl_a441d79156826d7dfbf89100bb934a38d}{size}} * sizeof (\textcolor{keywordtype}{float})));}
\DoxyCodeLine{304 }
\DoxyCodeLine{305             memcpy (audioBuffer.mBuffers[channel].mData, \mbox{\hyperlink{namespacegl_a53ba192f09eb5ce0813c301689e803f8}{src}}, \mbox{\hyperlink{namespacegl_a441d79156826d7dfbf89100bb934a38d}{size}} * sizeof (\textcolor{keywordtype}{float}));}
\DoxyCodeLine{306         \}}
\DoxyCodeLine{307         \textcolor{keywordflow}{else}}
\DoxyCodeLine{308         \{}
\DoxyCodeLine{309             \textcolor{keyword}{const} \textcolor{keywordtype}{int} numChannels = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>} (audioBuffer.mBuffers[0].mNumberChannels);}
\DoxyCodeLine{310             \textcolor{keyword}{const} UInt32 \mbox{\hyperlink{namespacegl_a1f71d238be3cdf94fc21bd0a832f074a}{n}} = \textcolor{keyword}{static\_cast<}UInt32\textcolor{keyword}{>} (numChannels) * \mbox{\hyperlink{namespacegl_a441d79156826d7dfbf89100bb934a38d}{size}};}
\DoxyCodeLine{311             \textcolor{keywordtype}{float}* \mbox{\hyperlink{namespacegl_a174f1a72ee763b6703711da180ac5d79}{dst}} = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{float}*\textcolor{keyword}{>} (audioBuffer.mBuffers[0].mData);}
\DoxyCodeLine{312 }
\DoxyCodeLine{313             \mbox{\hyperlink{group__juce__core-system_ga1f96ab6751237979b907a54f52a7296a}{jassert}} (channel < numChannels);}
\DoxyCodeLine{314             \mbox{\hyperlink{group__juce__core-system_ga1f96ab6751237979b907a54f52a7296a}{jassert}} (audioBuffer.mBuffers[0].mDataByteSize == (\mbox{\hyperlink{namespacegl_a1f71d238be3cdf94fc21bd0a832f074a}{n}} * sizeof (\textcolor{keywordtype}{float})));}
\DoxyCodeLine{315 }
\DoxyCodeLine{316             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{float}* outData = \mbox{\hyperlink{namespacegl_a174f1a72ee763b6703711da180ac5d79}{dst}}; outData < (\mbox{\hyperlink{namespacegl_a174f1a72ee763b6703711da180ac5d79}{dst}} + \mbox{\hyperlink{namespacegl_a1f71d238be3cdf94fc21bd0a832f074a}{n}}); outData += numChannels)}
\DoxyCodeLine{317                 outData[channel] = *\mbox{\hyperlink{namespacegl_a53ba192f09eb5ce0813c301689e803f8}{src}}++;}
\DoxyCodeLine{318         \}}
\DoxyCodeLine{319     \}}
\DoxyCodeLine{320 }
\DoxyCodeLine{321     \textcolor{keyword}{template} <\textcolor{keywordtype}{size\_t} numLayouts>}
\DoxyCodeLine{322     \textcolor{keyword}{static} \textcolor{keywordtype}{bool} \mbox{\hyperlink{struct_audio_unit_helpers_a890b0da6eb3ecad3ee73c47c63dc7d3c}{isLayoutSupported}} (\textcolor{keyword}{const} \mbox{\hyperlink{class_audio_processor}{AudioProcessor}}\& processor,}
\DoxyCodeLine{323                                    \textcolor{keywordtype}{bool} isInput, \textcolor{keywordtype}{int} busIdx,}
\DoxyCodeLine{324                                    \textcolor{keywordtype}{int} numChannels,}
\DoxyCodeLine{325                                    \textcolor{keyword}{const} \textcolor{keywordtype}{short} (\&channelLayoutList)[numLayouts][2],}
\DoxyCodeLine{326                                    \textcolor{keywordtype}{bool} hasLayoutMap = \textcolor{keyword}{true})}
\DoxyCodeLine{327     \{}
\DoxyCodeLine{328         \textcolor{keywordflow}{if} (\textcolor{keyword}{const} \mbox{\hyperlink{class_audio_processor_1_1_bus}{AudioProcessor::Bus}}* bus = processor.\mbox{\hyperlink{class_audio_processor_a74d9ed14b762c9cf8f33118c30fb5936}{getBus}} (isInput, busIdx))}
\DoxyCodeLine{329         \{}
\DoxyCodeLine{330             \textcolor{keywordflow}{if} (! bus-\/>isNumberOfChannelsSupported (numChannels))}
\DoxyCodeLine{331                 \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{332 }
\DoxyCodeLine{333             \textcolor{keywordflow}{if} (! hasLayoutMap)}
\DoxyCodeLine{334                 \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{335 }
\DoxyCodeLine{336             \textcolor{keyword}{const} \textcolor{keywordtype}{int} numConfigs = \textcolor{keyword}{sizeof} (channelLayoutList) / \textcolor{keyword}{sizeof} (\textcolor{keywordtype}{short}[2]);}
\DoxyCodeLine{337 }
\DoxyCodeLine{338             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < numConfigs; ++i)}
\DoxyCodeLine{339             \{}
\DoxyCodeLine{340                 \textcolor{keywordflow}{if} (channelLayoutList[i][isInput ? 0 : 1] == numChannels)}
\DoxyCodeLine{341                     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{342             \}}
\DoxyCodeLine{343         \}}
\DoxyCodeLine{344 }
\DoxyCodeLine{345         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{346     \}}
\DoxyCodeLine{347 }
\DoxyCodeLine{348     \textcolor{keyword}{static} \mbox{\hyperlink{class_array}{Array<AUChannelInfo>}} \mbox{\hyperlink{struct_audio_unit_helpers_a8cb8f3c140b8bdacb9679c6e3a24e2ae}{getAUChannelInfo}} (\textcolor{keyword}{const} \mbox{\hyperlink{class_audio_processor}{AudioProcessor}}\& processor)}
\DoxyCodeLine{349     \{}
\DoxyCodeLine{350         \mbox{\hyperlink{class_array}{Array<AUChannelInfo>}} channelInfo;}
\DoxyCodeLine{351 }
\DoxyCodeLine{352         \textcolor{keyword}{auto} hasMainInputBus  = (\mbox{\hyperlink{struct_audio_unit_helpers_a6fa7fe95ab43b13496a6ef1e3d0686c6}{AudioUnitHelpers::getBusCountForWrapper}} (processor, \textcolor{keyword}{true})  > 0);}
\DoxyCodeLine{353         \textcolor{keyword}{auto} hasMainOutputBus = (\mbox{\hyperlink{struct_audio_unit_helpers_a6fa7fe95ab43b13496a6ef1e3d0686c6}{AudioUnitHelpers::getBusCountForWrapper}} (processor, \textcolor{keyword}{false}) > 0);}
\DoxyCodeLine{354 }
\DoxyCodeLine{355         \textcolor{keywordflow}{if} ((! hasMainInputBus) \&\& (! hasMainOutputBus))}
\DoxyCodeLine{356         \{}
\DoxyCodeLine{357             \textcolor{comment}{// midi effect plug-\/in: no audio}}
\DoxyCodeLine{358             AUChannelInfo \mbox{\hyperlink{jmemsys_8h_ab47f8d689440d67514fd99471da2d74d}{info}};}
\DoxyCodeLine{359             \mbox{\hyperlink{jmemsys_8h_ab47f8d689440d67514fd99471da2d74d}{info}}.inChannels = 0;}
\DoxyCodeLine{360             \mbox{\hyperlink{jmemsys_8h_ab47f8d689440d67514fd99471da2d74d}{info}}.outChannels = 0;}
\DoxyCodeLine{361 }
\DoxyCodeLine{362             \textcolor{keywordflow}{return} \{ \&\mbox{\hyperlink{jmemsys_8h_ab47f8d689440d67514fd99471da2d74d}{info}}, 1 \};}
\DoxyCodeLine{363         \}}
\DoxyCodeLine{364 }
\DoxyCodeLine{365         \textcolor{keyword}{auto} layout = processor.\mbox{\hyperlink{class_audio_processor_af0c79b1057336389cd219de94080bf9f}{getBusesLayout}}();}
\DoxyCodeLine{366         \textcolor{keyword}{auto} maxNumChanToCheckFor = 9;}
\DoxyCodeLine{367 }
\DoxyCodeLine{368         \textcolor{keyword}{auto} defaultInputs  = processor.\mbox{\hyperlink{class_audio_processor_a8860ffb6bcf02cf02da8b55937e90da6}{getChannelCountOfBus}} (\textcolor{keyword}{true},  0);}
\DoxyCodeLine{369         \textcolor{keyword}{auto} defaultOutputs = processor.\mbox{\hyperlink{class_audio_processor_a8860ffb6bcf02cf02da8b55937e90da6}{getChannelCountOfBus}} (\textcolor{keyword}{false}, 0);}
\DoxyCodeLine{370 }
\DoxyCodeLine{371         \textcolor{keyword}{struct }Channels}
\DoxyCodeLine{372         \{}
\DoxyCodeLine{373             SInt16 ins, outs;}
\DoxyCodeLine{374 }
\DoxyCodeLine{375             std::pair<SInt16, SInt16> makePair() \textcolor{keyword}{const} \textcolor{keyword}{noexcept} \{ \textcolor{keywordflow}{return} std::make\_pair (ins, outs); \}}
\DoxyCodeLine{376 }
\DoxyCodeLine{377             \textcolor{keywordtype}{bool} \mbox{\hyperlink{_c_a_stream_basic_description_8cpp_a878a42c3e8d99e69b741cd76d9a0f8db}{operator<  }}(\textcolor{keyword}{const} Channels\& other) \textcolor{keyword}{const} \textcolor{keyword}{noexcept} \{ \textcolor{keywordflow}{return} makePair() <  other.makePair(); \}}
\DoxyCodeLine{378             \textcolor{keywordtype}{bool} \mbox{\hyperlink{_c_a_audio_channel_layout_8cpp_ad569fbf0e2ce80e9b92caaf1cbb3c257}{operator== }}(\textcolor{keyword}{const} Channels\& other) \textcolor{keyword}{const} \textcolor{keyword}{noexcept} \{ \textcolor{keywordflow}{return} makePair() == other.makePair(); \}}
\DoxyCodeLine{379         \};}
\DoxyCodeLine{380 }
\DoxyCodeLine{381         \mbox{\hyperlink{class_sorted_set}{SortedSet<Channels>}} supportedChannels;}
\DoxyCodeLine{382 }
\DoxyCodeLine{383         \textcolor{comment}{// add the current configuration}}
\DoxyCodeLine{384         \textcolor{keywordflow}{if} (defaultInputs != 0 || defaultOutputs != 0)}
\DoxyCodeLine{385             supportedChannels.\mbox{\hyperlink{class_sorted_set_a861274cee3723b88dc742aef24ba65d5}{add}} (\{ \textcolor{keyword}{static\_cast<}SInt16\textcolor{keyword}{>} (defaultInputs),}
\DoxyCodeLine{386                                      \textcolor{keyword}{static\_cast<}SInt16\textcolor{keyword}{>} (defaultOutputs) \});}
\DoxyCodeLine{387 }
\DoxyCodeLine{388         \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} inChanNum = hasMainInputBus ? 1 : 0; inChanNum <= (hasMainInputBus ? maxNumChanToCheckFor : 0); ++inChanNum)}
\DoxyCodeLine{389         \{}
\DoxyCodeLine{390             \textcolor{keyword}{auto} inLayout = layout;}
\DoxyCodeLine{391 }
\DoxyCodeLine{392             \textcolor{keywordflow}{if} (\textcolor{keyword}{auto}* inBus = processor.\mbox{\hyperlink{class_audio_processor_a74d9ed14b762c9cf8f33118c30fb5936}{getBus}} (\textcolor{keyword}{true}, 0))}
\DoxyCodeLine{393                 \textcolor{keywordflow}{if} (! \mbox{\hyperlink{struct_audio_unit_helpers_a69296da23df2353c6d8964c4383a9c82}{isNumberOfChannelsSupported}} (inBus, inChanNum, inLayout))}
\DoxyCodeLine{394                     \textcolor{keywordflow}{continue};}
\DoxyCodeLine{395 }
\DoxyCodeLine{396             \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} outChanNum = hasMainOutputBus ? 1 : 0; outChanNum <= (hasMainOutputBus ? maxNumChanToCheckFor : 0); ++outChanNum)}
\DoxyCodeLine{397             \{}
\DoxyCodeLine{398                 \textcolor{keyword}{auto} outLayout = inLayout;}
\DoxyCodeLine{399 }
\DoxyCodeLine{400                 \textcolor{keywordflow}{if} (\textcolor{keyword}{auto}* outBus = processor.\mbox{\hyperlink{class_audio_processor_a74d9ed14b762c9cf8f33118c30fb5936}{getBus}} (\textcolor{keyword}{false}, 0))}
\DoxyCodeLine{401                     \textcolor{keywordflow}{if} (! \mbox{\hyperlink{struct_audio_unit_helpers_a69296da23df2353c6d8964c4383a9c82}{isNumberOfChannelsSupported}} (outBus, outChanNum, outLayout))}
\DoxyCodeLine{402                         \textcolor{keywordflow}{continue};}
\DoxyCodeLine{403 }
\DoxyCodeLine{404                 supportedChannels.\mbox{\hyperlink{class_sorted_set_a861274cee3723b88dc742aef24ba65d5}{add}} (\{ \textcolor{keyword}{static\_cast<}SInt16\textcolor{keyword}{>} (hasMainInputBus  ? outLayout.getMainInputChannels()  : 0),}
\DoxyCodeLine{405                                          \textcolor{keyword}{static\_cast<}SInt16\textcolor{keyword}{>} (hasMainOutputBus ? outLayout.getMainOutputChannels() : 0) \});}
\DoxyCodeLine{406             \}}
\DoxyCodeLine{407         \}}
\DoxyCodeLine{408 }
\DoxyCodeLine{409         \textcolor{keyword}{auto} hasInOutMismatch = \textcolor{keyword}{false};}
\DoxyCodeLine{410 }
\DoxyCodeLine{411         \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}\& supported : supportedChannels)}
\DoxyCodeLine{412         \{}
\DoxyCodeLine{413             \textcolor{keywordflow}{if} (supported.ins != supported.outs)}
\DoxyCodeLine{414             \{}
\DoxyCodeLine{415                 hasInOutMismatch = \textcolor{keyword}{true};}
\DoxyCodeLine{416                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{417             \}}
\DoxyCodeLine{418         \}}
\DoxyCodeLine{419 }
\DoxyCodeLine{420         \textcolor{keyword}{auto} hasUnsupportedInput = ! hasMainInputBus, hasUnsupportedOutput = ! hasMainOutputBus;}
\DoxyCodeLine{421 }
\DoxyCodeLine{422         \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} inChanNum = hasMainInputBus ? 1 : 0; inChanNum <= (hasMainInputBus ? maxNumChanToCheckFor : 0); ++inChanNum)}
\DoxyCodeLine{423         \{}
\DoxyCodeLine{424             Channels channelConfiguration \{ \textcolor{keyword}{static\_cast<}SInt16\textcolor{keyword}{>} (inChanNum),}
\DoxyCodeLine{425                                             \textcolor{keyword}{static\_cast<}SInt16\textcolor{keyword}{>} (hasInOutMismatch ? defaultOutputs : inChanNum) \};}
\DoxyCodeLine{426 }
\DoxyCodeLine{427             \textcolor{keywordflow}{if} (! supportedChannels.\mbox{\hyperlink{class_sorted_set_ae1e68e73d12e73d1cd4d63b4ee7fa791}{contains}} (channelConfiguration))}
\DoxyCodeLine{428             \{}
\DoxyCodeLine{429                 hasUnsupportedInput = \textcolor{keyword}{true};}
\DoxyCodeLine{430                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{431             \}}
\DoxyCodeLine{432         \}}
\DoxyCodeLine{433 }
\DoxyCodeLine{434         \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} outChanNum = hasMainOutputBus ? 1 : 0; outChanNum <= (hasMainOutputBus ? maxNumChanToCheckFor : 0); ++outChanNum)}
\DoxyCodeLine{435         \{}
\DoxyCodeLine{436             Channels channelConfiguration \{ \textcolor{keyword}{static\_cast<}SInt16\textcolor{keyword}{>} (hasInOutMismatch ? defaultInputs : outChanNum),}
\DoxyCodeLine{437                                             \textcolor{keyword}{static\_cast<}SInt16\textcolor{keyword}{>} (outChanNum) \};}
\DoxyCodeLine{438 }
\DoxyCodeLine{439             \textcolor{keywordflow}{if} (! supportedChannels.\mbox{\hyperlink{class_sorted_set_ae1e68e73d12e73d1cd4d63b4ee7fa791}{contains}} (channelConfiguration))}
\DoxyCodeLine{440             \{}
\DoxyCodeLine{441                 hasUnsupportedOutput = \textcolor{keyword}{true};}
\DoxyCodeLine{442                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{443             \}}
\DoxyCodeLine{444         \}}
\DoxyCodeLine{445 }
\DoxyCodeLine{446         \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}\& supported : supportedChannels)}
\DoxyCodeLine{447         \{}
\DoxyCodeLine{448             AUChannelInfo \mbox{\hyperlink{jmemsys_8h_ab47f8d689440d67514fd99471da2d74d}{info}};}
\DoxyCodeLine{449 }
\DoxyCodeLine{450             \textcolor{comment}{// see here: https://developer.apple.com/library/mac/documentation/MusicAudio/Conceptual/AudioUnitProgrammingGuide/TheAudioUnit/TheAudioUnit.html}}
\DoxyCodeLine{451             \mbox{\hyperlink{jmemsys_8h_ab47f8d689440d67514fd99471da2d74d}{info}}.inChannels  = \textcolor{keyword}{static\_cast<}SInt16\textcolor{keyword}{>} (hasMainInputBus  ? (hasUnsupportedInput  ? supported.ins  : (hasInOutMismatch \&\& (! hasUnsupportedOutput) ? -\/2 : -\/1)) : 0);}
\DoxyCodeLine{452             \mbox{\hyperlink{jmemsys_8h_ab47f8d689440d67514fd99471da2d74d}{info}}.outChannels = \textcolor{keyword}{static\_cast<}SInt16\textcolor{keyword}{>} (hasMainOutputBus ? (hasUnsupportedOutput ? supported.outs : (hasInOutMismatch \&\& (! hasUnsupportedInput)  ? -\/2 : -\/1)) : 0);}
\DoxyCodeLine{453 }
\DoxyCodeLine{454             \textcolor{keywordflow}{if} (\mbox{\hyperlink{jmemsys_8h_ab47f8d689440d67514fd99471da2d74d}{info}}.inChannels == -\/2 \&\& \mbox{\hyperlink{jmemsys_8h_ab47f8d689440d67514fd99471da2d74d}{info}}.outChannels == -\/2)}
\DoxyCodeLine{455                 \mbox{\hyperlink{jmemsys_8h_ab47f8d689440d67514fd99471da2d74d}{info}}.inChannels = -\/1;}
\DoxyCodeLine{456 }
\DoxyCodeLine{457             \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacegl_a8b29d29f83e403429c42969ab094fa9b}{j}};}
\DoxyCodeLine{458             \textcolor{keywordflow}{for} (\mbox{\hyperlink{namespacegl_a8b29d29f83e403429c42969ab094fa9b}{j}} = 0; \mbox{\hyperlink{namespacegl_a8b29d29f83e403429c42969ab094fa9b}{j}} < channelInfo.\mbox{\hyperlink{class_array_ae79ec3b32d0c9a80dfff8ffbc41f8523}{size}}(); ++\mbox{\hyperlink{namespacegl_a8b29d29f83e403429c42969ab094fa9b}{j}})}
\DoxyCodeLine{459                 \textcolor{keywordflow}{if} (\mbox{\hyperlink{jmemsys_8h_ab47f8d689440d67514fd99471da2d74d}{info}}.inChannels == channelInfo.\mbox{\hyperlink{class_array_a56b441ad9d0ea576318120cd0088d2f2}{getReference}} (\mbox{\hyperlink{namespacegl_a8b29d29f83e403429c42969ab094fa9b}{j}}).inChannels}
\DoxyCodeLine{460                       \&\& \mbox{\hyperlink{jmemsys_8h_ab47f8d689440d67514fd99471da2d74d}{info}}.outChannels == channelInfo.\mbox{\hyperlink{class_array_a56b441ad9d0ea576318120cd0088d2f2}{getReference}} (\mbox{\hyperlink{namespacegl_a8b29d29f83e403429c42969ab094fa9b}{j}}).outChannels)}
\DoxyCodeLine{461                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{462 }
\DoxyCodeLine{463             \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacegl_a8b29d29f83e403429c42969ab094fa9b}{j}} >= channelInfo.\mbox{\hyperlink{class_array_ae79ec3b32d0c9a80dfff8ffbc41f8523}{size}}())}
\DoxyCodeLine{464                 channelInfo.\mbox{\hyperlink{class_array_a52da22e285e44171b6d6fa785a7d536a}{add}} (\mbox{\hyperlink{jmemsys_8h_ab47f8d689440d67514fd99471da2d74d}{info}});}
\DoxyCodeLine{465         \}}
\DoxyCodeLine{466 }
\DoxyCodeLine{467         \textcolor{keywordflow}{return} channelInfo;}
\DoxyCodeLine{468     \}}
\DoxyCodeLine{469 }
\DoxyCodeLine{470     \textcolor{keyword}{static} \textcolor{keywordtype}{bool} \mbox{\hyperlink{struct_audio_unit_helpers_a69296da23df2353c6d8964c4383a9c82}{isNumberOfChannelsSupported}} (\textcolor{keyword}{const} \mbox{\hyperlink{class_audio_processor_1_1_bus}{AudioProcessor::Bus}}* \mbox{\hyperlink{jpegint_8h_af320905358fa78701e4cc60b6135601f}{b}}, \textcolor{keywordtype}{int} numChannels, \mbox{\hyperlink{struct_audio_processor_1_1_buses_layout}{AudioProcessor::BusesLayout}}\& inOutCurrentLayout)}
\DoxyCodeLine{471     \{}
\DoxyCodeLine{472         \textcolor{keyword}{auto} potentialSets = \mbox{\hyperlink{class_audio_channel_set_a464b32c65ad422cf18622f704e94db70}{AudioChannelSet::channelSetsWithNumberOfChannels}} (\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>} (numChannels));}
\DoxyCodeLine{473 }
\DoxyCodeLine{474         \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} set : potentialSets)}
\DoxyCodeLine{475         \{}
\DoxyCodeLine{476             \textcolor{keyword}{auto} \mbox{\hyperlink{namespace_standard_application_command_i_ds_a994fb4dfda21935c7dfd723144b38778a3584c202667823072c928fd699725466}{copy}} = inOutCurrentLayout;}
\DoxyCodeLine{477 }
\DoxyCodeLine{478             \textcolor{keywordflow}{if} (\mbox{\hyperlink{jpegint_8h_af320905358fa78701e4cc60b6135601f}{b}}-\/>isLayoutSupported (set, \&\mbox{\hyperlink{namespace_standard_application_command_i_ds_a994fb4dfda21935c7dfd723144b38778a3584c202667823072c928fd699725466}{copy}}))}
\DoxyCodeLine{479             \{}
\DoxyCodeLine{480                 inOutCurrentLayout = \mbox{\hyperlink{namespace_standard_application_command_i_ds_a994fb4dfda21935c7dfd723144b38778a3584c202667823072c928fd699725466}{copy}};}
\DoxyCodeLine{481                 \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{482             \}}
\DoxyCodeLine{483         \}}
\DoxyCodeLine{484 }
\DoxyCodeLine{485         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{486     \}}
\DoxyCodeLine{487 }
\DoxyCodeLine{488     \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{489     \textcolor{keyword}{static} \textcolor{keywordtype}{int} \mbox{\hyperlink{struct_audio_unit_helpers_acb4a6c0b905573676d2066061fcf087e}{getBusCount}} (\textcolor{keyword}{const} \mbox{\hyperlink{class_audio_processor}{AudioProcessor}}\& juceFilter, \textcolor{keywordtype}{bool} isInput)}
\DoxyCodeLine{490     \{}
\DoxyCodeLine{491         \textcolor{keywordtype}{int} busCount = juceFilter.\mbox{\hyperlink{class_audio_processor_a349a6c1a08d916db53224675c897cd5b}{getBusCount}} (isInput);}
\DoxyCodeLine{492 }
\DoxyCodeLine{493 \textcolor{preprocessor}{       \#ifdef JucePlugin\_PreferredChannelConfigurations}}
\DoxyCodeLine{494         \textcolor{keywordtype}{short} configs[][2] = \{JucePlugin\_PreferredChannelConfigurations\};}
\DoxyCodeLine{495         \textcolor{keyword}{const} \textcolor{keywordtype}{int} numConfigs = \textcolor{keyword}{sizeof} (configs) / \textcolor{keyword}{sizeof} (\textcolor{keywordtype}{short}[2]);}
\DoxyCodeLine{496 }
\DoxyCodeLine{497         \textcolor{keywordtype}{bool} hasOnlyZeroChannels = \textcolor{keyword}{true};}
\DoxyCodeLine{498 }
\DoxyCodeLine{499         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < numConfigs \&\& hasOnlyZeroChannels == \textcolor{keyword}{true}; ++i)}
\DoxyCodeLine{500             \textcolor{keywordflow}{if} (configs[i][isInput ? 0 : 1] != 0)}
\DoxyCodeLine{501                 hasOnlyZeroChannels = \textcolor{keyword}{false};}
\DoxyCodeLine{502 }
\DoxyCodeLine{503         busCount = \mbox{\hyperlink{group__juce__core-maths_gae8394cdf11279b266f4aa741758c1669}{jmin}} (busCount, hasOnlyZeroChannels ? 0 : 1);}
\DoxyCodeLine{504 \textcolor{preprocessor}{       \#endif}}
\DoxyCodeLine{505 }
\DoxyCodeLine{506         \textcolor{keywordflow}{return} busCount;}
\DoxyCodeLine{507     \}}
\DoxyCodeLine{508 }
\DoxyCodeLine{509     \textcolor{keyword}{static} \textcolor{keywordtype}{int} \mbox{\hyperlink{struct_audio_unit_helpers_a6fa7fe95ab43b13496a6ef1e3d0686c6}{getBusCountForWrapper}} (\textcolor{keyword}{const} \mbox{\hyperlink{class_audio_processor}{AudioProcessor}}\& juceFilter, \textcolor{keywordtype}{bool} isInput)}
\DoxyCodeLine{510     \{}
\DoxyCodeLine{511 \textcolor{preprocessor}{       \#if JucePlugin\_IsMidiEffect}}
\DoxyCodeLine{512         \textcolor{keyword}{const} \textcolor{keyword}{auto} numRequiredBuses = isInput ? 0 : 1;}
\DoxyCodeLine{513 \textcolor{preprocessor}{       \#else}}
\DoxyCodeLine{514         \textcolor{keyword}{const} \textcolor{keyword}{auto} numRequiredBuses = 0;}
\DoxyCodeLine{515 \textcolor{preprocessor}{       \#endif}}
\DoxyCodeLine{516 }
\DoxyCodeLine{517         \textcolor{keywordflow}{return} \mbox{\hyperlink{group__juce__core-maths_gadfd716f36f80987d66ebc2fce819c1fe}{jmax}} (numRequiredBuses, \mbox{\hyperlink{struct_audio_unit_helpers_acb4a6c0b905573676d2066061fcf087e}{getBusCount}} (juceFilter, isInput));}
\DoxyCodeLine{518     \}}
\DoxyCodeLine{519 }
\DoxyCodeLine{520     \textcolor{keyword}{static} \textcolor{keywordtype}{bool} \mbox{\hyperlink{struct_audio_unit_helpers_ad1e17712bdffc5d7a180c09d561329fa}{setBusesLayout}} (\mbox{\hyperlink{class_audio_processor}{AudioProcessor}}* juceFilter, \textcolor{keyword}{const} \mbox{\hyperlink{struct_audio_processor_1_1_buses_layout}{AudioProcessor::BusesLayout}}\& requestedLayouts)}
\DoxyCodeLine{521     \{}
\DoxyCodeLine{522 \textcolor{preprocessor}{       \#ifdef JucePlugin\_PreferredChannelConfigurations}}
\DoxyCodeLine{523         \mbox{\hyperlink{struct_audio_processor_1_1_buses_layout}{AudioProcessor::BusesLayout}} \mbox{\hyperlink{namespace_standard_application_command_i_ds_a994fb4dfda21935c7dfd723144b38778a3584c202667823072c928fd699725466}{copy}} (requestedLayouts);}
\DoxyCodeLine{524 }
\DoxyCodeLine{525         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} dir = 0; dir < 2; ++dir)}
\DoxyCodeLine{526         \{}
\DoxyCodeLine{527             \textcolor{keyword}{const} \textcolor{keywordtype}{bool} isInput = (dir == 0);}
\DoxyCodeLine{528 }
\DoxyCodeLine{529             \textcolor{keyword}{const} \textcolor{keywordtype}{int} actualBuses = juceFilter-\/>\mbox{\hyperlink{class_audio_processor_a349a6c1a08d916db53224675c897cd5b}{getBusCount}} (isInput);}
\DoxyCodeLine{530             \textcolor{keyword}{const} \textcolor{keywordtype}{int} auNumBuses  = \mbox{\hyperlink{struct_audio_unit_helpers_acb4a6c0b905573676d2066061fcf087e}{getBusCount}} (*juceFilter, isInput);}
\DoxyCodeLine{531             \mbox{\hyperlink{class_array}{Array<AudioChannelSet>}}\& buses = (isInput ? \mbox{\hyperlink{namespace_standard_application_command_i_ds_a994fb4dfda21935c7dfd723144b38778a3584c202667823072c928fd699725466}{copy}}.inputBuses : \mbox{\hyperlink{namespace_standard_application_command_i_ds_a994fb4dfda21935c7dfd723144b38778a3584c202667823072c928fd699725466}{copy}}.outputBuses);}
\DoxyCodeLine{532 }
\DoxyCodeLine{533             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = auNumBuses; i < actualBuses; ++i)}
\DoxyCodeLine{534                 buses.\mbox{\hyperlink{class_array_a52da22e285e44171b6d6fa785a7d536a}{add}} (\mbox{\hyperlink{class_audio_channel_set_a1a030ee87e03d286edf4be0f25201122}{AudioChannelSet::disabled}}());}
\DoxyCodeLine{535         \}}
\DoxyCodeLine{536 }
\DoxyCodeLine{537         \textcolor{keywordflow}{return} juceFilter-\/>\mbox{\hyperlink{class_audio_processor_acd92c2d343de66816b290015cd15517f}{setBusesLayout}} (\mbox{\hyperlink{namespace_standard_application_command_i_ds_a994fb4dfda21935c7dfd723144b38778a3584c202667823072c928fd699725466}{copy}});}
\DoxyCodeLine{538 \textcolor{preprocessor}{       \#else}}
\DoxyCodeLine{539         \textcolor{keywordflow}{return} juceFilter-\/>\mbox{\hyperlink{class_audio_processor_acd92c2d343de66816b290015cd15517f}{setBusesLayout}} (requestedLayouts);}
\DoxyCodeLine{540 \textcolor{preprocessor}{       \#endif}}
\DoxyCodeLine{541     \}}
\DoxyCodeLine{542 }
\DoxyCodeLine{543     \textcolor{keyword}{static} \mbox{\hyperlink{struct_audio_processor_1_1_buses_layout}{AudioProcessor::BusesLayout}} \mbox{\hyperlink{struct_audio_unit_helpers_a2e13cc1304fce78d837abe4a8cccef61}{getBusesLayout}} (\textcolor{keyword}{const} \mbox{\hyperlink{class_audio_processor}{AudioProcessor}}* juceFilter)}
\DoxyCodeLine{544     \{}
\DoxyCodeLine{545 \textcolor{preprocessor}{       \#ifdef JucePlugin\_PreferredChannelConfigurations}}
\DoxyCodeLine{546         \mbox{\hyperlink{struct_audio_processor_1_1_buses_layout}{AudioProcessor::BusesLayout}} layout = juceFilter-\/>\mbox{\hyperlink{class_audio_processor_af0c79b1057336389cd219de94080bf9f}{getBusesLayout}}();}
\DoxyCodeLine{547 }
\DoxyCodeLine{548         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} dir = 0; dir < 2; ++dir)}
\DoxyCodeLine{549         \{}
\DoxyCodeLine{550             \textcolor{keyword}{const} \textcolor{keywordtype}{bool} isInput = (dir == 0);}
\DoxyCodeLine{551 }
\DoxyCodeLine{552             \textcolor{keyword}{const} \textcolor{keywordtype}{int} actualBuses = juceFilter-\/>\mbox{\hyperlink{class_audio_processor_a349a6c1a08d916db53224675c897cd5b}{getBusCount}} (isInput);}
\DoxyCodeLine{553             \textcolor{keyword}{const} \textcolor{keywordtype}{int} auNumBuses  = \mbox{\hyperlink{struct_audio_unit_helpers_acb4a6c0b905573676d2066061fcf087e}{getBusCount}} (*juceFilter, isInput);}
\DoxyCodeLine{554             \textcolor{keyword}{auto}\& buses = (isInput ? layout.\mbox{\hyperlink{struct_audio_processor_1_1_buses_layout_a73c26adffea9b970150aa2c204155db6}{inputBuses}} : layout.\mbox{\hyperlink{struct_audio_processor_1_1_buses_layout_aeb39a2b0609cdecfa2b2e7075724acf5}{outputBuses}});}
\DoxyCodeLine{555 }
\DoxyCodeLine{556             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = auNumBuses; i < actualBuses; ++i)}
\DoxyCodeLine{557                 buses.removeLast();}
\DoxyCodeLine{558         \}}
\DoxyCodeLine{559 }
\DoxyCodeLine{560         \textcolor{keywordflow}{return} layout;}
\DoxyCodeLine{561 \textcolor{preprocessor}{       \#else}}
\DoxyCodeLine{562         \textcolor{keywordflow}{return} juceFilter-\/>\mbox{\hyperlink{class_audio_processor_af0c79b1057336389cd219de94080bf9f}{getBusesLayout}}();}
\DoxyCodeLine{563 \textcolor{preprocessor}{       \#endif}}
\DoxyCodeLine{564     \}}
\DoxyCodeLine{565 \};}
\DoxyCodeLine{566 }
\DoxyCodeLine{567 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{568 }
\DoxyCodeLine{569  \textcolor{comment}{// namespace juce}}
\DoxyCodeLine{570 }

\end{DoxyCode}
