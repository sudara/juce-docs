\hypertarget{class_child_process_worker}{}\doxysection{Child\+Process\+Worker Class Reference}
\label{class_child_process_worker}\index{ChildProcessWorker@{ChildProcessWorker}}


{\ttfamily \#include $<$juce\+\_\+\+Connected\+Child\+Process.\+h$>$}

\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_child_process_worker_ad6b1f3ce39f480e8164dbf53d3ea467c}{Child\+Process\+Worker}} ()
\item 
virtual \mbox{\hyperlink{class_child_process_worker_a14027793e14ac20c57cfbefbae85f45e}{$\sim$\+Child\+Process\+Worker}} ()
\item 
bool \mbox{\hyperlink{class_child_process_worker_af91c21f46e434889ce6867814b36f7a9}{initialise\+From\+Command\+Line}} (\mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{class_string}{String}} \&command\+Line, \mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{class_string}{String}} \&command\+Line\+Unique\+ID, \mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} timeout\+Ms=0)
\item 
virtual \mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} \mbox{\hyperlink{class_child_process_worker_a38f00d138b959b8d3285e99bd107653d}{handle\+Message\+From\+Coordinator}} (\mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{class_memory_block}{Memory\+Block}} \&mb)
\item 
virtual \mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} \mbox{\hyperlink{class_child_process_worker_a21dcdca9530e22e608401a0e4c04eb10}{handle\+Message\+From\+Master}} (\mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{class_memory_block}{Memory\+Block}} \&)
\item 
virtual \mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} \mbox{\hyperlink{class_child_process_worker_a9820aa749fc27efa5d11a9cc219a9e06}{handle\+Connection\+Made}} ()
\item 
virtual \mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} \mbox{\hyperlink{class_child_process_worker_a5e6b8194e9e34dbb5a80b558e12ddd9f}{handle\+Connection\+Lost}} ()
\item 
bool \mbox{\hyperlink{class_child_process_worker_adbf5b4b9d31ed722715c218694cee93b}{send\+Message\+To\+Coordinator}} (\mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{class_memory_block}{Memory\+Block}} \&)
\item 
bool \mbox{\hyperlink{class_child_process_worker_af80dcbcda9c15e2ee1d34ddd67388bc4}{send\+Message\+To\+Master}} (\mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{class_memory_block}{Memory\+Block}} \&mb)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Acts as the worker end of a coordinator/worker pair of connected processes.

The \mbox{\hyperlink{class_child_process_worker}{Child\+Process\+Worker}} and \mbox{\hyperlink{class_child_process_coordinator}{Child\+Process\+Coordinator}} classes make it easy for an app to spawn a child process, and to manage a 2-\/way messaging connection to control it.

To use the system, you need to create subclasses of both \mbox{\hyperlink{class_child_process_worker}{Child\+Process\+Worker}} and \mbox{\hyperlink{class_child_process_coordinator}{Child\+Process\+Coordinator}}. To instantiate the \mbox{\hyperlink{class_child_process_worker}{Child\+Process\+Worker}} object, you must add some code to your main() or \mbox{\hyperlink{class_j_u_c_e_application_base_ad584bed05116674a1e68f60a1ac546f5}{JUCEApplication\+::initialise()}} function that calls the \mbox{\hyperlink{class_child_process_worker_af91c21f46e434889ce6867814b36f7a9}{initialise\+From\+Command\+Line()}} method to check the app\textquotesingle{}s command-\/line parameters to see whether it\textquotesingle{}s being launched as a child process. If this returns true then the worker process can be allowed to run, and its \mbox{\hyperlink{class_child_process_worker_a38f00d138b959b8d3285e99bd107653d}{handle\+Message\+From\+Coordinator()}} method will be called whenever a message arrives.

The juce demo app has a good example of this class in action.

\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{class_child_process_coordinator}{Child\+Process\+Coordinator}}, \mbox{\hyperlink{class_interprocess_connection}{Interprocess\+Connection}}, \mbox{\hyperlink{class_child_process}{Child\+Process}}
\end{DoxySeeAlso}
@tags\{Events\} 

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_child_process_worker_ad6b1f3ce39f480e8164dbf53d3ea467c}\label{class_child_process_worker_ad6b1f3ce39f480e8164dbf53d3ea467c}} 
\index{ChildProcessWorker@{ChildProcessWorker}!ChildProcessWorker@{ChildProcessWorker}}
\index{ChildProcessWorker@{ChildProcessWorker}!ChildProcessWorker@{ChildProcessWorker}}
\doxysubsubsection{\texorpdfstring{ChildProcessWorker()}{ChildProcessWorker()}}
{\footnotesize\ttfamily Child\+Process\+Worker\+::\+Child\+Process\+Worker (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Creates a non-\/connected worker process. Use initialise\+From\+Command\+Line to connect to a coordinator process. \mbox{\Hypertarget{class_child_process_worker_a14027793e14ac20c57cfbefbae85f45e}\label{class_child_process_worker_a14027793e14ac20c57cfbefbae85f45e}} 
\index{ChildProcessWorker@{ChildProcessWorker}!````~ChildProcessWorker@{$\sim$ChildProcessWorker}}
\index{````~ChildProcessWorker@{$\sim$ChildProcessWorker}!ChildProcessWorker@{ChildProcessWorker}}
\doxysubsubsection{\texorpdfstring{$\sim$ChildProcessWorker()}{~ChildProcessWorker()}}
{\footnotesize\ttfamily virtual Child\+Process\+Worker\+::$\sim$\+Child\+Process\+Worker (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

Destructor. 

\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_child_process_worker_a5e6b8194e9e34dbb5a80b558e12ddd9f}\label{class_child_process_worker_a5e6b8194e9e34dbb5a80b558e12ddd9f}} 
\index{ChildProcessWorker@{ChildProcessWorker}!handleConnectionLost@{handleConnectionLost}}
\index{handleConnectionLost@{handleConnectionLost}!ChildProcessWorker@{ChildProcessWorker}}
\doxysubsubsection{\texorpdfstring{handleConnectionLost()}{handleConnectionLost()}}
{\footnotesize\ttfamily virtual \mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} Child\+Process\+Worker\+::handle\+Connection\+Lost (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

This will be called when the connection to the coordinator process is lost. The call may be made from any thread (including the message thread). Typically, if your process only exists to act as a worker, you should probably exit when this happens. \mbox{\Hypertarget{class_child_process_worker_a9820aa749fc27efa5d11a9cc219a9e06}\label{class_child_process_worker_a9820aa749fc27efa5d11a9cc219a9e06}} 
\index{ChildProcessWorker@{ChildProcessWorker}!handleConnectionMade@{handleConnectionMade}}
\index{handleConnectionMade@{handleConnectionMade}!ChildProcessWorker@{ChildProcessWorker}}
\doxysubsubsection{\texorpdfstring{handleConnectionMade()}{handleConnectionMade()}}
{\footnotesize\ttfamily virtual \mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} Child\+Process\+Worker\+::handle\+Connection\+Made (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

This will be called when the coordinator process finishes connecting to this worker. The call will probably be made on a background thread, so be careful with your thread-\/safety! \mbox{\Hypertarget{class_child_process_worker_a38f00d138b959b8d3285e99bd107653d}\label{class_child_process_worker_a38f00d138b959b8d3285e99bd107653d}} 
\index{ChildProcessWorker@{ChildProcessWorker}!handleMessageFromCoordinator@{handleMessageFromCoordinator}}
\index{handleMessageFromCoordinator@{handleMessageFromCoordinator}!ChildProcessWorker@{ChildProcessWorker}}
\doxysubsubsection{\texorpdfstring{handleMessageFromCoordinator()}{handleMessageFromCoordinator()}}
{\footnotesize\ttfamily virtual \mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} Child\+Process\+Worker\+::handle\+Message\+From\+Coordinator (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{class_memory_block}{Memory\+Block}} \&}]{mb }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

This will be called to deliver messages from the coordinator process. The call will probably be made on a background thread, so be careful with your thread-\/safety! You may want to respond by sending back a message with \mbox{\hyperlink{class_child_process_worker_adbf5b4b9d31ed722715c218694cee93b}{send\+Message\+To\+Coordinator()}} \mbox{\Hypertarget{class_child_process_worker_a21dcdca9530e22e608401a0e4c04eb10}\label{class_child_process_worker_a21dcdca9530e22e608401a0e4c04eb10}} 
\index{ChildProcessWorker@{ChildProcessWorker}!handleMessageFromMaster@{handleMessageFromMaster}}
\index{handleMessageFromMaster@{handleMessageFromMaster}!ChildProcessWorker@{ChildProcessWorker}}
\doxysubsubsection{\texorpdfstring{handleMessageFromMaster()}{handleMessageFromMaster()}}
{\footnotesize\ttfamily virtual \mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} Child\+Process\+Worker\+::handle\+Message\+From\+Master (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{class_memory_block}{Memory\+Block}} \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}

\mbox{\Hypertarget{class_child_process_worker_af91c21f46e434889ce6867814b36f7a9}\label{class_child_process_worker_af91c21f46e434889ce6867814b36f7a9}} 
\index{ChildProcessWorker@{ChildProcessWorker}!initialiseFromCommandLine@{initialiseFromCommandLine}}
\index{initialiseFromCommandLine@{initialiseFromCommandLine}!ChildProcessWorker@{ChildProcessWorker}}
\doxysubsubsection{\texorpdfstring{initialiseFromCommandLine()}{initialiseFromCommandLine()}}
{\footnotesize\ttfamily bool Child\+Process\+Worker\+::initialise\+From\+Command\+Line (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{class_string}{String}} \&}]{command\+Line,  }\item[{\mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{class_string}{String}} \&}]{command\+Line\+Unique\+ID,  }\item[{\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}}}]{timeout\+Ms = {\ttfamily 0} }\end{DoxyParamCaption})}

This checks some command-\/line parameters to see whether they were generated by \mbox{\hyperlink{class_child_process_coordinator_a577bc423e513199e77563a9ae09598ea}{Child\+Process\+Coordinator\+::launch\+Worker\+Process()}}, and if so, connects to that coordinator process.

In an exe that can be used as a child process, you should add some code to your main() or \mbox{\hyperlink{class_j_u_c_e_application_base_ad584bed05116674a1e68f60a1ac546f5}{JUCEApplication\+::initialise()}} that calls this method.

The command\+Line\+Unique\+ID should be a short alphanumeric identifier (no spaces!) that matches the string passed to \mbox{\hyperlink{class_child_process_coordinator_a577bc423e513199e77563a9ae09598ea}{Child\+Process\+Coordinator\+::launch\+Worker\+Process()}}.

The timeout\+Ms parameter lets you specify how long the child process is allowed to run without receiving a ping from the coordinator before the coordinator is considered to have died, and \mbox{\hyperlink{class_child_process_worker_a5e6b8194e9e34dbb5a80b558e12ddd9f}{handle\+Connection\+Lost()}} will be called. Passing \texorpdfstring{$<$}{<}= 0 for this timeout makes it use a default value.

Returns true if the command-\/line matches and the connection is made successfully. \mbox{\Hypertarget{class_child_process_worker_adbf5b4b9d31ed722715c218694cee93b}\label{class_child_process_worker_adbf5b4b9d31ed722715c218694cee93b}} 
\index{ChildProcessWorker@{ChildProcessWorker}!sendMessageToCoordinator@{sendMessageToCoordinator}}
\index{sendMessageToCoordinator@{sendMessageToCoordinator}!ChildProcessWorker@{ChildProcessWorker}}
\doxysubsubsection{\texorpdfstring{sendMessageToCoordinator()}{sendMessageToCoordinator()}}
{\footnotesize\ttfamily bool Child\+Process\+Worker\+::send\+Message\+To\+Coordinator (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{class_memory_block}{Memory\+Block}} \&}]{ }\end{DoxyParamCaption})}

Tries to send a message to the coordinator process. This returns true if the message was sent, but doesn\textquotesingle{}t check that it actually gets delivered at the other end. If successful, the data will emerge in a call to your \mbox{\hyperlink{class_child_process_coordinator_ae1fea851bd6acf14c7605a5696802324}{Child\+Process\+Coordinator\+::handle\+Message\+From\+Worker()}}. \mbox{\Hypertarget{class_child_process_worker_af80dcbcda9c15e2ee1d34ddd67388bc4}\label{class_child_process_worker_af80dcbcda9c15e2ee1d34ddd67388bc4}} 
\index{ChildProcessWorker@{ChildProcessWorker}!sendMessageToMaster@{sendMessageToMaster}}
\index{sendMessageToMaster@{sendMessageToMaster}!ChildProcessWorker@{ChildProcessWorker}}
\doxysubsubsection{\texorpdfstring{sendMessageToMaster()}{sendMessageToMaster()}}
{\footnotesize\ttfamily bool Child\+Process\+Worker\+::send\+Message\+To\+Master (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{class_memory_block}{Memory\+Block}} \&}]{mb }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
build/juce\+\_\+events/interprocess/\mbox{\hyperlink{juce___connected_child_process_8h}{juce\+\_\+\+Connected\+Child\+Process.\+h}}\end{DoxyCompactItemize}
