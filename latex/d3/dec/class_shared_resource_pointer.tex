\hypertarget{class_shared_resource_pointer}{}\doxysection{Shared\+Resource\+Pointer\texorpdfstring{$<$}{<} Shared\+Object\+Type \texorpdfstring{$>$}{>} Class Template Reference}
\label{class_shared_resource_pointer}\index{SharedResourcePointer$<$ SharedObjectType $>$@{SharedResourcePointer$<$ SharedObjectType $>$}}


{\ttfamily \#include $<$juce\+\_\+\+Shared\+Resource\+Pointer.\+h$>$}

\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_shared_resource_pointer_a37f5da91a94a3f34a8d467a11b1db2ae}{Shared\+Resource\+Pointer}} ()
\item 
\mbox{\hyperlink{class_shared_resource_pointer_ae0e471d40bbf73438dec6480935341bf}{Shared\+Resource\+Pointer}} (\mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{class_shared_resource_pointer}{Shared\+Resource\+Pointer}} \&)
\item 
\mbox{\hyperlink{class_shared_resource_pointer_a47c04d52fa4de0490c3d3873dbc2ecf2}{$\sim$\+Shared\+Resource\+Pointer}} ()
\item 
\mbox{\hyperlink{class_shared_resource_pointer_a5c266850a363bc4fb9ee2079d8c96397}{operator Shared\+Object\+Type $\ast$}} () \mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} noexcept
\item 
Shared\+Object\+Type \& \mbox{\hyperlink{class_shared_resource_pointer_a04d30f01fb74d8589d7a84d4fe05923a}{get}} () \mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} noexcept
\item 
Shared\+Object\+Type \& \mbox{\hyperlink{class_shared_resource_pointer_a2779ff566a665e7d1b3bfdea40248114}{get\+Object}} () \mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} noexcept
\item 
Shared\+Object\+Type $\ast$ \mbox{\hyperlink{class_shared_resource_pointer_a1267ed7028e66290ecd7b9956f55b367}{operator-\/$>$}} () \mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} noexcept
\item 
\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} \mbox{\hyperlink{class_shared_resource_pointer_abff7933c3ea884dda535acdfba665c48}{get\+Reference\+Count}} () \mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} noexcept
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\subsubsection*{template$<$typename Shared\+Object\+Type$>$\newline
class Shared\+Resource\+Pointer$<$ Shared\+Object\+Type $>$}
A smart-\/pointer that automatically creates and manages the lifetime of a shared static instance of a class.

The Shared\+Object\+Type template type indicates the class to use for the shared object -\/ the only requirements on this class are that it must have a public default constructor and destructor.

The \mbox{\hyperlink{class_shared_resource_pointer}{Shared\+Resource\+Pointer}} offers a pattern that differs from using a singleton or static instance of an object, because it uses reference-\/counting to make sure that the underlying shared object is automatically created/destroyed according to the number of \mbox{\hyperlink{class_shared_resource_pointer}{Shared\+Resource\+Pointer}} objects that exist. When the last one is deleted, the underlying object is also immediately destroyed. This allows you to use scoping to manage the lifetime of a shared resource.

Note\+: The construction/deletion of the shared object must not involve any code that makes recursive calls to a \mbox{\hyperlink{class_shared_resource_pointer}{Shared\+Resource\+Pointer}}, or you\textquotesingle{}ll cause a deadlock.

Example\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{comment}{// An example of a class that contains the shared data you want to use.}}
\DoxyCodeLine{\textcolor{keyword}{struct }MySharedData}
\DoxyCodeLine{\{}
\DoxyCodeLine{    \textcolor{comment}{// There's no need to ever create an instance of this class directly yourself,}}
\DoxyCodeLine{    \textcolor{comment}{// but it does need a public constructor that does the initialisation.}}
\DoxyCodeLine{    MySharedData()}
\DoxyCodeLine{    \{}
\DoxyCodeLine{        sharedStuff = generateHeavyweightStuff();}
\DoxyCodeLine{    \}}
\DoxyCodeLine{}
\DoxyCodeLine{    \mbox{\hyperlink{class_array}{Array<SomeKindOfData>}} sharedStuff;}
\DoxyCodeLine{\};}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{struct }DataUserClass}
\DoxyCodeLine{\{}
\DoxyCodeLine{    DataUserClass()}
\DoxyCodeLine{    \{}
\DoxyCodeLine{        \textcolor{comment}{// Multiple instances of the DataUserClass will all have the same}}
\DoxyCodeLine{        \textcolor{comment}{// shared common instance of MySharedData referenced by their sharedData}}
\DoxyCodeLine{        \textcolor{comment}{// member variables.}}
\DoxyCodeLine{        useSharedStuff (sharedData-\/>sharedStuff);}
\DoxyCodeLine{    \}}
\DoxyCodeLine{}
\DoxyCodeLine{    \textcolor{comment}{// By keeping this pointer as a member variable, the shared resource}}
\DoxyCodeLine{    \textcolor{comment}{// is guaranteed to be available for as long as the DataUserClass object.}}
\DoxyCodeLine{    \mbox{\hyperlink{class_shared_resource_pointer}{SharedResourcePointer<MySharedData>}} sharedData;}
\DoxyCodeLine{\};}

\end{DoxyCode}


@tags\{Core\} 

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_shared_resource_pointer_a37f5da91a94a3f34a8d467a11b1db2ae}\label{class_shared_resource_pointer_a37f5da91a94a3f34a8d467a11b1db2ae}} 
\index{SharedResourcePointer$<$ SharedObjectType $>$@{SharedResourcePointer$<$ SharedObjectType $>$}!SharedResourcePointer@{SharedResourcePointer}}
\index{SharedResourcePointer@{SharedResourcePointer}!SharedResourcePointer$<$ SharedObjectType $>$@{SharedResourcePointer$<$ SharedObjectType $>$}}
\doxysubsubsection{\texorpdfstring{SharedResourcePointer()}{SharedResourcePointer()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily template$<$typename Shared\+Object\+Type $>$ \\
\mbox{\hyperlink{class_shared_resource_pointer}{Shared\+Resource\+Pointer}}$<$ Shared\+Object\+Type $>$\+::\mbox{\hyperlink{class_shared_resource_pointer}{Shared\+Resource\+Pointer}} (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Creates an instance of the shared object. If other \mbox{\hyperlink{class_shared_resource_pointer}{Shared\+Resource\+Pointer}} objects for this type already exist, then this one will simply point to the same shared object that they are already using. Otherwise, if this is the first \mbox{\hyperlink{class_shared_resource_pointer}{Shared\+Resource\+Pointer}} to be created, then a shared object will be created automatically. \mbox{\Hypertarget{class_shared_resource_pointer_ae0e471d40bbf73438dec6480935341bf}\label{class_shared_resource_pointer_ae0e471d40bbf73438dec6480935341bf}} 
\index{SharedResourcePointer$<$ SharedObjectType $>$@{SharedResourcePointer$<$ SharedObjectType $>$}!SharedResourcePointer@{SharedResourcePointer}}
\index{SharedResourcePointer@{SharedResourcePointer}!SharedResourcePointer$<$ SharedObjectType $>$@{SharedResourcePointer$<$ SharedObjectType $>$}}
\doxysubsubsection{\texorpdfstring{SharedResourcePointer()}{SharedResourcePointer()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily template$<$typename Shared\+Object\+Type $>$ \\
\mbox{\hyperlink{class_shared_resource_pointer}{Shared\+Resource\+Pointer}}$<$ Shared\+Object\+Type $>$\+::\mbox{\hyperlink{class_shared_resource_pointer}{Shared\+Resource\+Pointer}} (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{class_shared_resource_pointer}{Shared\+Resource\+Pointer}}$<$ Shared\+Object\+Type $>$ \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

\mbox{\Hypertarget{class_shared_resource_pointer_a47c04d52fa4de0490c3d3873dbc2ecf2}\label{class_shared_resource_pointer_a47c04d52fa4de0490c3d3873dbc2ecf2}} 
\index{SharedResourcePointer$<$ SharedObjectType $>$@{SharedResourcePointer$<$ SharedObjectType $>$}!````~SharedResourcePointer@{$\sim$SharedResourcePointer}}
\index{````~SharedResourcePointer@{$\sim$SharedResourcePointer}!SharedResourcePointer$<$ SharedObjectType $>$@{SharedResourcePointer$<$ SharedObjectType $>$}}
\doxysubsubsection{\texorpdfstring{$\sim$SharedResourcePointer()}{~SharedResourcePointer()}}
{\footnotesize\ttfamily template$<$typename Shared\+Object\+Type $>$ \\
\mbox{\hyperlink{class_shared_resource_pointer}{Shared\+Resource\+Pointer}}$<$ Shared\+Object\+Type $>$\+::$\sim$\mbox{\hyperlink{class_shared_resource_pointer}{Shared\+Resource\+Pointer}} (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Destructor. If no other \mbox{\hyperlink{class_shared_resource_pointer}{Shared\+Resource\+Pointer}} objects exist, this will also delete the shared object to which it refers. 

\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_shared_resource_pointer_a04d30f01fb74d8589d7a84d4fe05923a}\label{class_shared_resource_pointer_a04d30f01fb74d8589d7a84d4fe05923a}} 
\index{SharedResourcePointer$<$ SharedObjectType $>$@{SharedResourcePointer$<$ SharedObjectType $>$}!get@{get}}
\index{get@{get}!SharedResourcePointer$<$ SharedObjectType $>$@{SharedResourcePointer$<$ SharedObjectType $>$}}
\doxysubsubsection{\texorpdfstring{get()}{get()}}
{\footnotesize\ttfamily template$<$typename Shared\+Object\+Type $>$ \\
Shared\+Object\+Type \& \mbox{\hyperlink{class_shared_resource_pointer}{Shared\+Resource\+Pointer}}$<$ Shared\+Object\+Type $>$\+::get (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [noexcept]}}

Returns the shared object. \mbox{\Hypertarget{class_shared_resource_pointer_a2779ff566a665e7d1b3bfdea40248114}\label{class_shared_resource_pointer_a2779ff566a665e7d1b3bfdea40248114}} 
\index{SharedResourcePointer$<$ SharedObjectType $>$@{SharedResourcePointer$<$ SharedObjectType $>$}!getObject@{getObject}}
\index{getObject@{getObject}!SharedResourcePointer$<$ SharedObjectType $>$@{SharedResourcePointer$<$ SharedObjectType $>$}}
\doxysubsubsection{\texorpdfstring{getObject()}{getObject()}}
{\footnotesize\ttfamily template$<$typename Shared\+Object\+Type $>$ \\
Shared\+Object\+Type \& \mbox{\hyperlink{class_shared_resource_pointer}{Shared\+Resource\+Pointer}}$<$ Shared\+Object\+Type $>$\+::get\+Object (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [noexcept]}}

Returns the object that this pointer references. \mbox{\Hypertarget{class_shared_resource_pointer_abff7933c3ea884dda535acdfba665c48}\label{class_shared_resource_pointer_abff7933c3ea884dda535acdfba665c48}} 
\index{SharedResourcePointer$<$ SharedObjectType $>$@{SharedResourcePointer$<$ SharedObjectType $>$}!getReferenceCount@{getReferenceCount}}
\index{getReferenceCount@{getReferenceCount}!SharedResourcePointer$<$ SharedObjectType $>$@{SharedResourcePointer$<$ SharedObjectType $>$}}
\doxysubsubsection{\texorpdfstring{getReferenceCount()}{getReferenceCount()}}
{\footnotesize\ttfamily template$<$typename Shared\+Object\+Type $>$ \\
\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} \mbox{\hyperlink{class_shared_resource_pointer}{Shared\+Resource\+Pointer}}$<$ Shared\+Object\+Type $>$\+::get\+Reference\+Count (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [noexcept]}}

Returns the number of Shared\+Resource\+Pointers that are currently holding the shared object. \mbox{\Hypertarget{class_shared_resource_pointer_a5c266850a363bc4fb9ee2079d8c96397}\label{class_shared_resource_pointer_a5c266850a363bc4fb9ee2079d8c96397}} 
\index{SharedResourcePointer$<$ SharedObjectType $>$@{SharedResourcePointer$<$ SharedObjectType $>$}!operator SharedObjectType $\ast$@{operator SharedObjectType $\ast$}}
\index{operator SharedObjectType $\ast$@{operator SharedObjectType $\ast$}!SharedResourcePointer$<$ SharedObjectType $>$@{SharedResourcePointer$<$ SharedObjectType $>$}}
\doxysubsubsection{\texorpdfstring{operator SharedObjectType $\ast$()}{operator SharedObjectType *()}}
{\footnotesize\ttfamily template$<$typename Shared\+Object\+Type $>$ \\
\mbox{\hyperlink{class_shared_resource_pointer}{Shared\+Resource\+Pointer}}$<$ Shared\+Object\+Type $>$\+::operator Shared\+Object\+Type $\ast$ (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [noexcept]}}

Returns the shared object. \mbox{\Hypertarget{class_shared_resource_pointer_a1267ed7028e66290ecd7b9956f55b367}\label{class_shared_resource_pointer_a1267ed7028e66290ecd7b9956f55b367}} 
\index{SharedResourcePointer$<$ SharedObjectType $>$@{SharedResourcePointer$<$ SharedObjectType $>$}!operator-\/$>$@{operator-\/$>$}}
\index{operator-\/$>$@{operator-\/$>$}!SharedResourcePointer$<$ SharedObjectType $>$@{SharedResourcePointer$<$ SharedObjectType $>$}}
\doxysubsubsection{\texorpdfstring{operator-\/$>$()}{operator->()}}
{\footnotesize\ttfamily template$<$typename Shared\+Object\+Type $>$ \\
Shared\+Object\+Type $\ast$ \mbox{\hyperlink{class_shared_resource_pointer}{Shared\+Resource\+Pointer}}$<$ Shared\+Object\+Type $>$\+::operator-\/$>$ (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [noexcept]}}

Returns the shared object pointer. 

The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
build/juce\+\_\+core/memory/\mbox{\hyperlink{juce___shared_resource_pointer_8h}{juce\+\_\+\+Shared\+Resource\+Pointer.\+h}}\end{DoxyCompactItemize}
