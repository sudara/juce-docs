\hypertarget{_filter_audio_stream_8h_source}{}\doxysection{Filter\+Audio\+Stream.\+h}
\label{_filter_audio_stream_8h_source}\index{build/juce\_audio\_devices/native/oboe/src/common/FilterAudioStream.h@{build/juce\_audio\_devices/native/oboe/src/common/FilterAudioStream.h}}
\mbox{\hyperlink{_filter_audio_stream_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{/*}}
\DoxyCodeLine{2 \textcolor{comment}{ * Copyright 2019 The Android Open Source Project}}
\DoxyCodeLine{3 \textcolor{comment}{ *}}
\DoxyCodeLine{4 \textcolor{comment}{ * Licensed under the Apache License, Version 2.0 (the "{}License"{});}}
\DoxyCodeLine{5 \textcolor{comment}{ * you may not use this file except in compliance with the License.}}
\DoxyCodeLine{6 \textcolor{comment}{ * You may obtain a copy of the License at}}
\DoxyCodeLine{7 \textcolor{comment}{ *}}
\DoxyCodeLine{8 \textcolor{comment}{ *      http://www.apache.org/licenses/LICENSE-\/2.0}}
\DoxyCodeLine{9 \textcolor{comment}{ *}}
\DoxyCodeLine{10 \textcolor{comment}{ * Unless required by applicable law or agreed to in writing, software}}
\DoxyCodeLine{11 \textcolor{comment}{ * distributed under the License is distributed on an "{}AS IS"{} BASIS,}}
\DoxyCodeLine{12 \textcolor{comment}{ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.}}
\DoxyCodeLine{13 \textcolor{comment}{ * See the License for the specific language governing permissions and}}
\DoxyCodeLine{14 \textcolor{comment}{ * limitations under the License.}}
\DoxyCodeLine{15 \textcolor{comment}{ */}}
\DoxyCodeLine{16 }
\DoxyCodeLine{17 \textcolor{preprocessor}{\#ifndef OBOE\_FILTER\_AUDIO\_STREAM\_H}}
\DoxyCodeLine{18 \textcolor{preprocessor}{\#define OBOE\_FILTER\_AUDIO\_STREAM\_H}}
\DoxyCodeLine{19 }
\DoxyCodeLine{20 \textcolor{preprocessor}{\#include <memory>}}
\DoxyCodeLine{21 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{_audio_stream_8h}{oboe/AudioStream.h}}>}}
\DoxyCodeLine{22 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_data_conversion_flow_graph_8h}{DataConversionFlowGraph.h}}"{}}}
\DoxyCodeLine{23 }
\DoxyCodeLine{24 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespaceoboe}{oboe}} \{}
\DoxyCodeLine{25 }
\DoxyCodeLine{30 \textcolor{keyword}{class }\mbox{\hyperlink{classoboe_1_1_filter_audio_stream}{FilterAudioStream}} : \textcolor{keyword}{public} \mbox{\hyperlink{classoboe_1_1_audio_stream}{AudioStream}}, \mbox{\hyperlink{classoboe_1_1_audio_stream_callback}{AudioStreamCallback}} \{}
\DoxyCodeLine{31 \textcolor{keyword}{public}:}
\DoxyCodeLine{32 }
\DoxyCodeLine{41     \mbox{\hyperlink{classoboe_1_1_filter_audio_stream_a422f2011cf7976f9be6451f5f9ddee52}{FilterAudioStream}}(\textcolor{keyword}{const} \mbox{\hyperlink{classoboe_1_1_audio_stream_builder}{AudioStreamBuilder}} \&builder, \mbox{\hyperlink{classoboe_1_1_audio_stream}{AudioStream}} *childStream)}
\DoxyCodeLine{42     : \mbox{\hyperlink{classoboe_1_1_audio_stream}{AudioStream}}(builder)}
\DoxyCodeLine{43     , mChildStream(childStream) \{}
\DoxyCodeLine{44         \textcolor{comment}{// Intercept the callback if used.}}
\DoxyCodeLine{45         \textcolor{keywordflow}{if} (builder.\mbox{\hyperlink{classoboe_1_1_audio_stream_base_aef579f6d1f779c89d051f0963f2976b3}{isErrorCallbackSpecified}}()) \{}
\DoxyCodeLine{46             \mbox{\hyperlink{classoboe_1_1_audio_stream_base_adc0c8cc54adb6d3350c62b8a74b9c57b}{mErrorCallback}} = mChildStream-\/>swapErrorCallback(\textcolor{keyword}{this});}
\DoxyCodeLine{47         \}}
\DoxyCodeLine{48         \textcolor{keywordflow}{if} (builder.\mbox{\hyperlink{classoboe_1_1_audio_stream_base_a9a54d38b985a2eb12c6972104dc0ce73}{isDataCallbackSpecified}}()) \{}
\DoxyCodeLine{49             \mbox{\hyperlink{classoboe_1_1_audio_stream_base_a6d8493f66a945cb426506c70f0358e5f}{mDataCallback}} = mChildStream-\/>swapDataCallback(\textcolor{keyword}{this});}
\DoxyCodeLine{50         \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{51             \textcolor{keyword}{const} \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacegl_a441d79156826d7dfbf89100bb934a38d}{size}} = childStream-\/>\mbox{\hyperlink{classoboe_1_1_audio_stream_a2b9a90edb31c03fc034d1d79dac14d92}{getFramesPerBurst}}() * childStream-\/>\mbox{\hyperlink{classoboe_1_1_audio_stream_a5c01907a59d5f89a5e4b819fe66b08bc}{getBytesPerFrame}}();}
\DoxyCodeLine{52             mBlockingBuffer = std::make\_unique<uint8\_t[]>(\mbox{\hyperlink{namespacegl_a441d79156826d7dfbf89100bb934a38d}{size}});}
\DoxyCodeLine{53         \}}
\DoxyCodeLine{54 }
\DoxyCodeLine{55         \textcolor{comment}{// Copy parameters that may not match builder.}}
\DoxyCodeLine{56         \mbox{\hyperlink{classoboe_1_1_audio_stream_base_ac81d4719b350f8138aad1af38f0873b6}{mBufferCapacityInFrames}} = mChildStream-\/>getBufferCapacityInFrames();}
\DoxyCodeLine{57         \mbox{\hyperlink{classoboe_1_1_audio_stream_base_ab99671c2d0552557e75dc7b4afe91765}{mPerformanceMode}} = mChildStream-\/>getPerformanceMode();}
\DoxyCodeLine{58         \mbox{\hyperlink{classoboe_1_1_audio_stream_base_a1e5d4f5b30c4cc36f81ffd858cc00589}{mInputPreset}} = mChildStream-\/>getInputPreset();}
\DoxyCodeLine{59         \mbox{\hyperlink{classoboe_1_1_audio_stream_a0187b0557bb9c7b7ea8bb64fe421d7b4}{mFramesPerBurst}} = mChildStream-\/>getFramesPerBurst();}
\DoxyCodeLine{60         \mbox{\hyperlink{classoboe_1_1_audio_stream_base_a23dafa12fb1a6242b088ebd5a52798c8}{mDeviceId}} = mChildStream-\/>getDeviceId();}
\DoxyCodeLine{61     \}}
\DoxyCodeLine{62 }
\DoxyCodeLine{63     \textcolor{keyword}{virtual} \mbox{\hyperlink{classoboe_1_1_filter_audio_stream_ac2d737eddaa1cc6e82a660d89130b0c9}{\string~FilterAudioStream}}() = \textcolor{keywordflow}{default};}
\DoxyCodeLine{64 }
\DoxyCodeLine{65     \mbox{\hyperlink{classoboe_1_1_audio_stream}{AudioStream}} *\mbox{\hyperlink{classoboe_1_1_filter_audio_stream_a5835412b9280ae48dc9dc9c656b0b5b7}{getChildStream}}()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{66         \textcolor{keywordflow}{return} mChildStream.get();}
\DoxyCodeLine{67     \}}
\DoxyCodeLine{68 }
\DoxyCodeLine{69     \mbox{\hyperlink{class_result}{Result}} \mbox{\hyperlink{classoboe_1_1_filter_audio_stream_aa4383e763d0a8fee92abf220b6b19601}{configureFlowGraph}}();}
\DoxyCodeLine{70 }
\DoxyCodeLine{71     \textcolor{comment}{// Close child and parent.}}
\DoxyCodeLine{72     \mbox{\hyperlink{class_result}{Result}} \mbox{\hyperlink{classoboe_1_1_filter_audio_stream_a554fee972b341178fa1857d1467a2492}{close}}()\textcolor{keyword}{  override }\{}
\DoxyCodeLine{73         \textcolor{keyword}{const} \mbox{\hyperlink{class_result}{Result}} result1 = mChildStream-\/>close();}
\DoxyCodeLine{74         \textcolor{keyword}{const} \mbox{\hyperlink{class_result}{Result}} result2 = \mbox{\hyperlink{classoboe_1_1_audio_stream_aff203570197f0061581b58f5506e3089}{AudioStream::close}}();}
\DoxyCodeLine{75         \textcolor{keywordflow}{return} (result1 != \mbox{\hyperlink{namespaceoboe_a486512e787b609c80ba4436f23929af1ae0aa021e21dddbd6d8cecec71e9cf564}{Result::OK}} ? result1 : result2);}
\DoxyCodeLine{76     \}}
\DoxyCodeLine{77 }
\DoxyCodeLine{82     \mbox{\hyperlink{class_result}{Result}} \mbox{\hyperlink{classoboe_1_1_filter_audio_stream_ab98a6b6d664c02374cc382d1d0a18cc5}{requestStart}}()\textcolor{keyword}{ override }\{}
\DoxyCodeLine{83         \textcolor{keywordflow}{return} mChildStream-\/>requestStart();}
\DoxyCodeLine{84     \}}
\DoxyCodeLine{85 }
\DoxyCodeLine{90     \mbox{\hyperlink{class_result}{Result}} \mbox{\hyperlink{classoboe_1_1_filter_audio_stream_aeebf54e03f819dbe1a59b28cbeb6a1bb}{requestPause}}()\textcolor{keyword}{ override }\{}
\DoxyCodeLine{91         \textcolor{keywordflow}{return} mChildStream-\/>requestPause();}
\DoxyCodeLine{92     \}}
\DoxyCodeLine{93 }
\DoxyCodeLine{98     \mbox{\hyperlink{class_result}{Result}} \mbox{\hyperlink{classoboe_1_1_filter_audio_stream_a04ad3e6875e79bee18014e7b9ab3496d}{requestFlush}}()\textcolor{keyword}{ override }\{}
\DoxyCodeLine{99         \textcolor{keywordflow}{return} mChildStream-\/>requestFlush();}
\DoxyCodeLine{100     \}}
\DoxyCodeLine{101 }
\DoxyCodeLine{106     \mbox{\hyperlink{class_result}{Result}} \mbox{\hyperlink{classoboe_1_1_filter_audio_stream_ac1a0fa0fcc94084ba00f08984af1a543}{requestStop}}()\textcolor{keyword}{ override }\{}
\DoxyCodeLine{107         \textcolor{keywordflow}{return} mChildStream-\/>requestStop();}
\DoxyCodeLine{108     \}}
\DoxyCodeLine{109 }
\DoxyCodeLine{110     \mbox{\hyperlink{classoboe_1_1_result_with_value}{ResultWithValue<int32\_t>}} \mbox{\hyperlink{classoboe_1_1_filter_audio_stream_a9be76ca6202a1c9c207c3e18bc3df997}{read}}(\textcolor{keywordtype}{void} *buffer,}
\DoxyCodeLine{111             int32\_t numFrames,}
\DoxyCodeLine{112             int64\_t timeoutNanoseconds) \textcolor{keyword}{override};}
\DoxyCodeLine{113 }
\DoxyCodeLine{114     \mbox{\hyperlink{classoboe_1_1_result_with_value}{ResultWithValue<int32\_t>}} \mbox{\hyperlink{classoboe_1_1_filter_audio_stream_a0693f876a3567b11642c72037466730b}{write}}(\textcolor{keyword}{const} \textcolor{keywordtype}{void} *buffer,}
\DoxyCodeLine{115             int32\_t numFrames,}
\DoxyCodeLine{116             int64\_t timeoutNanoseconds) \textcolor{keyword}{override};}
\DoxyCodeLine{117 }
\DoxyCodeLine{118     \mbox{\hyperlink{namespaceoboe_a89fa2ce046723764618c29db737917f6}{StreamState}} \mbox{\hyperlink{classoboe_1_1_filter_audio_stream_ae7eb3c2f28a2feccb5e6cf129d66a459}{getState}}()\textcolor{keyword}{ override }\{}
\DoxyCodeLine{119         \textcolor{keywordflow}{return} mChildStream-\/>getState();}
\DoxyCodeLine{120     \}}
\DoxyCodeLine{121 }
\DoxyCodeLine{122     \mbox{\hyperlink{class_result}{Result}} \mbox{\hyperlink{classoboe_1_1_filter_audio_stream_a0f5477e0eeb250513a222d1a51114fc8}{waitForStateChange}}(}
\DoxyCodeLine{123             \mbox{\hyperlink{namespaceoboe_a89fa2ce046723764618c29db737917f6}{StreamState}} inputState,}
\DoxyCodeLine{124             \mbox{\hyperlink{namespaceoboe_a89fa2ce046723764618c29db737917f6}{StreamState}} *nextState,}
\DoxyCodeLine{125             int64\_t timeoutNanoseconds)\textcolor{keyword}{ override }\{}
\DoxyCodeLine{126         \textcolor{keywordflow}{return} mChildStream-\/>waitForStateChange(inputState, nextState, timeoutNanoseconds);}
\DoxyCodeLine{127     \}}
\DoxyCodeLine{128 }
\DoxyCodeLine{129     \textcolor{keywordtype}{bool} \mbox{\hyperlink{classoboe_1_1_filter_audio_stream_a584168bbeec9e0b71598ce4353b4ca50}{isXRunCountSupported}}()\textcolor{keyword}{ const override }\{}
\DoxyCodeLine{130         \textcolor{keywordflow}{return} mChildStream-\/>isXRunCountSupported();}
\DoxyCodeLine{131     \}}
\DoxyCodeLine{132 }
\DoxyCodeLine{133     \mbox{\hyperlink{namespaceoboe_a92972414867c81d5974cb2ed7abefbf6}{AudioApi}} \mbox{\hyperlink{classoboe_1_1_filter_audio_stream_a7e4df87cf9734e1be4653507bd4f9cce}{getAudioApi}}()\textcolor{keyword}{ const override }\{}
\DoxyCodeLine{134         \textcolor{keywordflow}{return} mChildStream-\/>getAudioApi();}
\DoxyCodeLine{135     \}}
\DoxyCodeLine{136 }
\DoxyCodeLine{137     \textcolor{keywordtype}{void} \mbox{\hyperlink{classoboe_1_1_filter_audio_stream_a85492443406b82930fd194d4de738ed1}{updateFramesWritten}}()\textcolor{keyword}{ override }\{}
\DoxyCodeLine{138         \textcolor{comment}{// TODO for output, just count local writes?}}
\DoxyCodeLine{139         \mbox{\hyperlink{classoboe_1_1_audio_stream_a88a63317b7c58815bac074976b00aa23}{mFramesWritten}} = \textcolor{keyword}{static\_cast<}int64\_t\textcolor{keyword}{>}(mChildStream-\/>getFramesWritten() * mRateScaler);}
\DoxyCodeLine{140     \}}
\DoxyCodeLine{141 }
\DoxyCodeLine{142     \textcolor{keywordtype}{void} \mbox{\hyperlink{classoboe_1_1_filter_audio_stream_a0dc69698b317ddfea6ee176d7abfef68}{updateFramesRead}}()\textcolor{keyword}{ override }\{}
\DoxyCodeLine{143         \textcolor{comment}{// TODO for input, just count local reads?}}
\DoxyCodeLine{144         \mbox{\hyperlink{classoboe_1_1_audio_stream_a07e82f9b9e2e4800f23ae9a7193c3b58}{mFramesRead}} = \textcolor{keyword}{static\_cast<}int64\_t\textcolor{keyword}{>}(mChildStream-\/>getFramesRead() * mRateScaler);}
\DoxyCodeLine{145     \}}
\DoxyCodeLine{146 }
\DoxyCodeLine{147     \textcolor{keywordtype}{void} *\mbox{\hyperlink{classoboe_1_1_filter_audio_stream_ac31a7bdb483d21c7bb2678deed2afd5e}{getUnderlyingStream}}()\textcolor{keyword}{ const  override }\{}
\DoxyCodeLine{148         \textcolor{keywordflow}{return} mChildStream-\/>getUnderlyingStream();}
\DoxyCodeLine{149     \}}
\DoxyCodeLine{150 }
\DoxyCodeLine{151     \mbox{\hyperlink{classoboe_1_1_result_with_value}{ResultWithValue<int32\_t>}} \mbox{\hyperlink{classoboe_1_1_filter_audio_stream_a0c89badb07c29f5c5d3c84155fb81d4a}{setBufferSizeInFrames}}(int32\_t requestedFrames)\textcolor{keyword}{ override }\{}
\DoxyCodeLine{152         \textcolor{keywordflow}{return} mChildStream-\/>setBufferSizeInFrames(requestedFrames);}
\DoxyCodeLine{153     \}}
\DoxyCodeLine{154 }
\DoxyCodeLine{155     int32\_t \mbox{\hyperlink{classoboe_1_1_filter_audio_stream_afe98a86074aaaaf073896ccd5b55140b}{getBufferSizeInFrames}}()\textcolor{keyword}{ override }\{}
\DoxyCodeLine{156         \mbox{\hyperlink{classoboe_1_1_audio_stream_base_a3b65595d26d1eae1b8ce9925a5b98f6a}{mBufferSizeInFrames}} = mChildStream-\/>getBufferSizeInFrames();}
\DoxyCodeLine{157         \textcolor{keywordflow}{return} \mbox{\hyperlink{classoboe_1_1_audio_stream_base_a3b65595d26d1eae1b8ce9925a5b98f6a}{mBufferSizeInFrames}};}
\DoxyCodeLine{158     \}}
\DoxyCodeLine{159 }
\DoxyCodeLine{160     \mbox{\hyperlink{classoboe_1_1_result_with_value}{ResultWithValue<int32\_t>}} \mbox{\hyperlink{classoboe_1_1_filter_audio_stream_afb39e7c017752862bd7b51921eec6632}{getXRunCount}}()\textcolor{keyword}{ override }\{}
\DoxyCodeLine{161         \textcolor{keywordflow}{return} mChildStream-\/>getXRunCount();}
\DoxyCodeLine{162     \}}
\DoxyCodeLine{163 }
\DoxyCodeLine{164     \mbox{\hyperlink{classoboe_1_1_result_with_value}{ResultWithValue<double>}} \mbox{\hyperlink{classoboe_1_1_filter_audio_stream_a57a45e991f48b933805a30e5761b7ca0}{calculateLatencyMillis}}()\textcolor{keyword}{ override }\{}
\DoxyCodeLine{165         \textcolor{comment}{// This will automatically include the latency of the flowgraph?}}
\DoxyCodeLine{166         \textcolor{keywordflow}{return} mChildStream-\/>calculateLatencyMillis();}
\DoxyCodeLine{167     \}}
\DoxyCodeLine{168 }
\DoxyCodeLine{169     \mbox{\hyperlink{class_result}{Result}} \mbox{\hyperlink{classoboe_1_1_filter_audio_stream_a210a1aee20bc2533b264783ebdf63175}{getTimestamp}}(clockid\_t clockId,}
\DoxyCodeLine{170             int64\_t *framePosition,}
\DoxyCodeLine{171             int64\_t *timeNanoseconds)\textcolor{keyword}{ override }\{}
\DoxyCodeLine{172         int64\_t childPosition = 0;}
\DoxyCodeLine{173         \mbox{\hyperlink{class_result}{Result}} \mbox{\hyperlink{namespacegl_a7cb1126dbc1cb105bcce082cff5ae633}{result}} = mChildStream-\/>getTimestamp(clockId, \&childPosition, timeNanoseconds);}
\DoxyCodeLine{174         \textcolor{comment}{// It is OK if framePosition is null.}}
\DoxyCodeLine{175         \textcolor{keywordflow}{if} (framePosition) \{}
\DoxyCodeLine{176             *framePosition = childPosition * mRateScaler;}
\DoxyCodeLine{177         \}}
\DoxyCodeLine{178         \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacegl_a7cb1126dbc1cb105bcce082cff5ae633}{result}};}
\DoxyCodeLine{179     \}}
\DoxyCodeLine{180 }
\DoxyCodeLine{181     \mbox{\hyperlink{namespaceoboe_af85fc9910a287df6c5df0ed396bb75cd}{DataCallbackResult}} \mbox{\hyperlink{classoboe_1_1_filter_audio_stream_a508051da60160dc9ac1932fffc7e084c}{onAudioReady}}(\mbox{\hyperlink{classoboe_1_1_audio_stream}{AudioStream}} *oboeStream,}
\DoxyCodeLine{182             \textcolor{keywordtype}{void} *audioData,}
\DoxyCodeLine{183             int32\_t numFrames) \textcolor{keyword}{override};}
\DoxyCodeLine{184 }
\DoxyCodeLine{185     \textcolor{keywordtype}{bool} \mbox{\hyperlink{classoboe_1_1_filter_audio_stream_ad1d6f12f7a6c2c85d3c4f54d3f7b5b13}{onError}}(\mbox{\hyperlink{classoboe_1_1_audio_stream}{AudioStream}} * \textcolor{comment}{/*audioStream*/}, \mbox{\hyperlink{class_result}{Result}} \mbox{\hyperlink{juce__linux___a_l_s_a_8cpp_af44443f87d7b66dff07b3d884445dca1}{error}})\textcolor{keyword}{ override }\{}
\DoxyCodeLine{186         \textcolor{keywordflow}{if} (\mbox{\hyperlink{classoboe_1_1_audio_stream_base_adc0c8cc54adb6d3350c62b8a74b9c57b}{mErrorCallback}} != \textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{187             \textcolor{keywordflow}{return} \mbox{\hyperlink{classoboe_1_1_audio_stream_base_adc0c8cc54adb6d3350c62b8a74b9c57b}{mErrorCallback}}-\/>\mbox{\hyperlink{classoboe_1_1_audio_stream_error_callback_a5ad4b8936746ecbb2160a9389b117fc3}{onError}}(\textcolor{keyword}{this}, \mbox{\hyperlink{juce__linux___a_l_s_a_8cpp_af44443f87d7b66dff07b3d884445dca1}{error}});}
\DoxyCodeLine{188         \}}
\DoxyCodeLine{189         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{190     \}}
\DoxyCodeLine{191 }
\DoxyCodeLine{192     \textcolor{keywordtype}{void} \mbox{\hyperlink{classoboe_1_1_filter_audio_stream_a181378afd876969c6ac9c7183a41fd53}{onErrorBeforeClose}}(\mbox{\hyperlink{classoboe_1_1_audio_stream}{AudioStream}} * \textcolor{comment}{/*oboeStream*/}, \mbox{\hyperlink{class_result}{Result}} \mbox{\hyperlink{juce__linux___a_l_s_a_8cpp_af44443f87d7b66dff07b3d884445dca1}{error}})\textcolor{keyword}{ override }\{}
\DoxyCodeLine{193         \textcolor{keywordflow}{if} (\mbox{\hyperlink{classoboe_1_1_audio_stream_base_adc0c8cc54adb6d3350c62b8a74b9c57b}{mErrorCallback}} != \textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{194             \mbox{\hyperlink{classoboe_1_1_audio_stream_base_adc0c8cc54adb6d3350c62b8a74b9c57b}{mErrorCallback}}-\/>\mbox{\hyperlink{classoboe_1_1_audio_stream_error_callback_a4eb1e4916b71d8231e97b19898bc9bf0}{onErrorBeforeClose}}(\textcolor{keyword}{this}, \mbox{\hyperlink{juce__linux___a_l_s_a_8cpp_af44443f87d7b66dff07b3d884445dca1}{error}});}
\DoxyCodeLine{195         \}}
\DoxyCodeLine{196     \}}
\DoxyCodeLine{197 }
\DoxyCodeLine{198     \textcolor{keywordtype}{void} \mbox{\hyperlink{classoboe_1_1_filter_audio_stream_a48202130d218ab2ff4a57f83516334f9}{onErrorAfterClose}}(\mbox{\hyperlink{classoboe_1_1_audio_stream}{AudioStream}} * \textcolor{comment}{/*oboeStream*/}, \mbox{\hyperlink{class_result}{Result}} \mbox{\hyperlink{juce__linux___a_l_s_a_8cpp_af44443f87d7b66dff07b3d884445dca1}{error}})\textcolor{keyword}{ override }\{}
\DoxyCodeLine{199         \textcolor{comment}{// Close this parent stream because the callback will only close the child.}}
\DoxyCodeLine{200         \mbox{\hyperlink{classoboe_1_1_audio_stream_aff203570197f0061581b58f5506e3089}{AudioStream::close}}();}
\DoxyCodeLine{201         \textcolor{keywordflow}{if} (\mbox{\hyperlink{classoboe_1_1_audio_stream_base_adc0c8cc54adb6d3350c62b8a74b9c57b}{mErrorCallback}} != \textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{202             \mbox{\hyperlink{classoboe_1_1_audio_stream_base_adc0c8cc54adb6d3350c62b8a74b9c57b}{mErrorCallback}}-\/>\mbox{\hyperlink{classoboe_1_1_audio_stream_error_callback_a76bd3ef3e00396e10c21812003654cfe}{onErrorAfterClose}}(\textcolor{keyword}{this}, \mbox{\hyperlink{juce__linux___a_l_s_a_8cpp_af44443f87d7b66dff07b3d884445dca1}{error}});}
\DoxyCodeLine{203         \}}
\DoxyCodeLine{204     \}}
\DoxyCodeLine{205 }
\DoxyCodeLine{209     \mbox{\hyperlink{namespaceoboe_a486512e787b609c80ba4436f23929af1}{oboe::Result}} \mbox{\hyperlink{classoboe_1_1_filter_audio_stream_a34312a0d0bb546559921cf8de4d9e293}{getLastErrorCallbackResult}}()\textcolor{keyword}{ const override }\{}
\DoxyCodeLine{210         \textcolor{keywordflow}{return} mChildStream-\/>getLastErrorCallbackResult();}
\DoxyCodeLine{211     \}}
\DoxyCodeLine{212 }
\DoxyCodeLine{213 \textcolor{keyword}{private}:}
\DoxyCodeLine{214 }
\DoxyCodeLine{215     std::unique\_ptr<AudioStream>             mChildStream; \textcolor{comment}{// this stream wraps the child stream}}
\DoxyCodeLine{216     std::unique\_ptr<DataConversionFlowGraph> mFlowGraph; \textcolor{comment}{// for converting data}}
\DoxyCodeLine{217     std::unique\_ptr<uint8\_t[]>               mBlockingBuffer; \textcolor{comment}{// temp buffer for write()}}
\DoxyCodeLine{218     \textcolor{keywordtype}{double}                                   mRateScaler = 1.0; \textcolor{comment}{// ratio parent/child sample rates}}
\DoxyCodeLine{219 \};}
\DoxyCodeLine{220 }
\DoxyCodeLine{221 \} \textcolor{comment}{// oboe}}
\DoxyCodeLine{222 }
\DoxyCodeLine{223 \textcolor{preprocessor}{\#endif }\textcolor{comment}{//OBOE\_FILTER\_AUDIO\_STREAM\_H}}

\end{DoxyCode}
