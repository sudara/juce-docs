\hypertarget{juce___modal_component_manager_8h_source}{}\doxysection{juce\+\_\+\+Modal\+Component\+Manager.\+h}
\label{juce___modal_component_manager_8h_source}\index{build/juce\_gui\_basics/components/juce\_ModalComponentManager.h@{build/juce\_gui\_basics/components/juce\_ModalComponentManager.h}}
\mbox{\hyperlink{juce___modal_component_manager_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 }
\DoxyCodeLine{5 \textcolor{comment}{/*}}
\DoxyCodeLine{6 \textcolor{comment}{  ==============================================================================}}
\DoxyCodeLine{7 \textcolor{comment}{}}
\DoxyCodeLine{8 \textcolor{comment}{   This file is part of the JUCE library.}}
\DoxyCodeLine{9 \textcolor{comment}{   Copyright (c) 2020 -\/ Raw Material Software Limited}}
\DoxyCodeLine{10 \textcolor{comment}{}}
\DoxyCodeLine{11 \textcolor{comment}{   JUCE is an open source library subject to commercial or open-\/source}}
\DoxyCodeLine{12 \textcolor{comment}{   licensing.}}
\DoxyCodeLine{13 \textcolor{comment}{}}
\DoxyCodeLine{14 \textcolor{comment}{   By using JUCE, you agree to the terms of both the JUCE 6 End-\/User License}}
\DoxyCodeLine{15 \textcolor{comment}{   Agreement and JUCE Privacy Policy (both effective as of the 16th June 2020).}}
\DoxyCodeLine{16 \textcolor{comment}{}}
\DoxyCodeLine{17 \textcolor{comment}{   End User License Agreement: www.juce.com/juce-\/6-\/licence}}
\DoxyCodeLine{18 \textcolor{comment}{   Privacy Policy: www.juce.com/juce-\/privacy-\/policy}}
\DoxyCodeLine{19 \textcolor{comment}{}}
\DoxyCodeLine{20 \textcolor{comment}{   Or: You may also use this code under the terms of the GPL v3 (see}}
\DoxyCodeLine{21 \textcolor{comment}{   www.gnu.org/licenses).}}
\DoxyCodeLine{22 \textcolor{comment}{}}
\DoxyCodeLine{23 \textcolor{comment}{   JUCE IS PROVIDED "{}AS IS"{} WITHOUT ANY WARRANTY, AND ALL WARRANTIES, WHETHER}}
\DoxyCodeLine{24 \textcolor{comment}{   EXPRESSED OR IMPLIED, INCLUDING MERCHANTABILITY AND FITNESS FOR PURPOSE, ARE}}
\DoxyCodeLine{25 \textcolor{comment}{   DISCLAIMED.}}
\DoxyCodeLine{26 \textcolor{comment}{}}
\DoxyCodeLine{27 \textcolor{comment}{  ==============================================================================}}
\DoxyCodeLine{28 \textcolor{comment}{*/}}
\DoxyCodeLine{29 }
\DoxyCodeLine{30 \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{43 \textcolor{comment}{}\textcolor{keyword}{class }\mbox{\hyperlink{group__juce__core-system_ga65961b3bfbda0ffb83750d914cee38fb}{JUCE\_API}}  \mbox{\hyperlink{class_modal_component_manager}{ModalComponentManager}}   : \textcolor{keyword}{private} \mbox{\hyperlink{class_async_updater}{AsyncUpdater}},}
\DoxyCodeLine{44                                           \textcolor{keyword}{private} \mbox{\hyperlink{class_deleted_at_shutdown}{DeletedAtShutdown}}}
\DoxyCodeLine{45 \{}
\DoxyCodeLine{46 \textcolor{keyword}{public}:}
\DoxyCodeLine{47     \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{56 \textcolor{comment}{}    \textcolor{keyword}{class }\mbox{\hyperlink{group__juce__core-system_ga65961b3bfbda0ffb83750d914cee38fb}{JUCE\_API}}  \mbox{\hyperlink{class_modal_component_manager_1_1_callback}{Callback}}}
\DoxyCodeLine{57     \{}
\DoxyCodeLine{58     \textcolor{keyword}{public}:}
\DoxyCodeLine{60         \mbox{\hyperlink{class_modal_component_manager_1_1_callback_a1fa7f9bbc55fc52559e73b4df0b62b61}{Callback}}() = \textcolor{keywordflow}{default};}
\DoxyCodeLine{61 }
\DoxyCodeLine{63         \textcolor{keyword}{virtual} \mbox{\hyperlink{class_modal_component_manager_1_1_callback_a2178b8874f2df7f3666a841615369af2}{\string~Callback}}() = \textcolor{keywordflow}{default};}
\DoxyCodeLine{64 }
\DoxyCodeLine{75         \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_modal_component_manager_1_1_callback_ad44cd3225753579084bdb3ba7bd8e625}{modalStateFinished}} (\textcolor{keywordtype}{int} returnValue) = 0;}
\DoxyCodeLine{76     \};}
\DoxyCodeLine{77 }
\DoxyCodeLine{78     \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{79 \textcolor{preprocessor}{   \#ifndef DOXYGEN}}
\DoxyCodeLine{80     \mbox{\hyperlink{group__juce__core-memory_gaf86c4799059ea3f12feb2c9a90abc5d1}{JUCE\_DECLARE\_SINGLETON\_SINGLETHREADED\_MINIMAL}} (\mbox{\hyperlink{class_modal_component_manager}{ModalComponentManager}})}
\DoxyCodeLine{81    \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{82 }
\DoxyCodeLine{83     \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{87 \textcolor{comment}{}    \textcolor{keywordtype}{int} \mbox{\hyperlink{class_modal_component_manager_aa5d4338779a27fac756763d486ea9dc3}{getNumModalComponents}}() \textcolor{keyword}{const};}
\DoxyCodeLine{88 }
\DoxyCodeLine{92     \mbox{\hyperlink{class_component}{Component}}* \mbox{\hyperlink{class_modal_component_manager_a582a5f9d73683d0bdc82760edc5315a5}{getModalComponent}} (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacegl_a06a196a98fd7b17e699cbea6c66c37cb}{index}}) \textcolor{keyword}{const};}
\DoxyCodeLine{93 }
\DoxyCodeLine{95     \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_modal_component_manager_a74c9cbd66733f97559e2eb55c7863106}{isModal}} (\textcolor{keyword}{const} \mbox{\hyperlink{class_component}{Component}}* component) \textcolor{keyword}{const};}
\DoxyCodeLine{96 }
\DoxyCodeLine{98     \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_modal_component_manager_a825b474ea0fef3ce179ce5b03b9dfb3d}{isFrontModalComponent}} (\textcolor{keyword}{const} \mbox{\hyperlink{class_component}{Component}}* component) \textcolor{keyword}{const};}
\DoxyCodeLine{99 }
\DoxyCodeLine{113     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_modal_component_manager_a2ce962253cf2c8e42d5575ad2a41d888}{attachCallback}} (\mbox{\hyperlink{class_component}{Component}}* component, \mbox{\hyperlink{class_modal_component_manager_1_1_callback}{Callback}}* \mbox{\hyperlink{juce__linux___a_l_s_a_8cpp_a7d161ccbd94169c2108f6a40711e3a76}{callback}});}
\DoxyCodeLine{114 }
\DoxyCodeLine{116     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_modal_component_manager_a3e398829cf3016f4f370b21330686d1b}{bringModalComponentsToFront}} (\textcolor{keywordtype}{bool} topOneShouldGrabFocus = \textcolor{keyword}{true});}
\DoxyCodeLine{117 }
\DoxyCodeLine{121     \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_modal_component_manager_a634c1a1fedcea4eeec1a17e778fa2aea}{cancelAllModalComponents}}();}
\DoxyCodeLine{122 }
\DoxyCodeLine{123 \textcolor{preprocessor}{   \#if JUCE\_MODAL\_LOOPS\_PERMITTED}}
\DoxyCodeLine{127     \textcolor{keywordtype}{int} runEventLoopForCurrentComponent();}
\DoxyCodeLine{128 \textcolor{preprocessor}{   \#endif}}
\DoxyCodeLine{129 }
\DoxyCodeLine{130 \textcolor{keyword}{protected}:}
\DoxyCodeLine{134     \mbox{\hyperlink{class_modal_component_manager_aaf0be23075467f26330a77781e1f3ed9}{ModalComponentManager}}();}
\DoxyCodeLine{135 }
\DoxyCodeLine{137     \mbox{\hyperlink{class_modal_component_manager_afd9d7d0c68e7c742e8dbfa2f5e878bd9}{\string~ModalComponentManager}}() \textcolor{keyword}{override};}
\DoxyCodeLine{138 }
\DoxyCodeLine{140     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_modal_component_manager_a47d303fb64f3ae02deb986d58bfeb893}{handleAsyncUpdate}}() \textcolor{keyword}{override};}
\DoxyCodeLine{141 }
\DoxyCodeLine{142 \textcolor{keyword}{private}:}
\DoxyCodeLine{143     \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{144     \textcolor{keyword}{friend} \textcolor{keyword}{class }\mbox{\hyperlink{class_component}{Component}};}
\DoxyCodeLine{145 }
\DoxyCodeLine{146     \textcolor{keyword}{struct }ModalItem;}
\DoxyCodeLine{147     \mbox{\hyperlink{class_owned_array}{OwnedArray<ModalItem>}} stack;}
\DoxyCodeLine{148 }
\DoxyCodeLine{149     \textcolor{keywordtype}{void} startModal (\mbox{\hyperlink{class_component}{Component}}*, \textcolor{keywordtype}{bool} autoDelete);}
\DoxyCodeLine{150     \textcolor{keywordtype}{void} endModal (\mbox{\hyperlink{class_component}{Component}}*, \textcolor{keywordtype}{int} returnValue);}
\DoxyCodeLine{151     \textcolor{keywordtype}{void} endModal (\mbox{\hyperlink{class_component}{Component}}*);}
\DoxyCodeLine{152 }
\DoxyCodeLine{153     \mbox{\hyperlink{group__juce__core-system_ga6ab7a603bf4435c7cb286b1744366eb2}{JUCE\_DECLARE\_NON\_COPYABLE}} (\mbox{\hyperlink{class_modal_component_manager}{ModalComponentManager}})}
\DoxyCodeLine{154 \};}
\DoxyCodeLine{155 }
\DoxyCodeLine{156 \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{163 \textcolor{comment}{}\textcolor{keyword}{class }\mbox{\hyperlink{group__juce__core-system_ga65961b3bfbda0ffb83750d914cee38fb}{JUCE\_API}} \mbox{\hyperlink{class_modal_callback_function}{ModalCallbackFunction}}}
\DoxyCodeLine{164 \{}
\DoxyCodeLine{165 \textcolor{keyword}{public}:}
\DoxyCodeLine{174     \textcolor{keyword}{template} <\textcolor{keyword}{typename} CallbackFn>}
\DoxyCodeLine{175     \textcolor{keyword}{static} \mbox{\hyperlink{class_modal_component_manager_1_1_callback}{ModalComponentManager::Callback}}* \mbox{\hyperlink{class_modal_callback_function_a628dd5f75f470b04b62e121196ffb4d9}{create}} (CallbackFn\&\& fn)}
\DoxyCodeLine{176     \{}
\DoxyCodeLine{177         \textcolor{keyword}{struct }Callable  : \textcolor{keyword}{public} \mbox{\hyperlink{class_modal_component_manager_1_1_callback}{ModalComponentManager::Callback}}}
\DoxyCodeLine{178         \{}
\DoxyCodeLine{179             \textcolor{keyword}{explicit} Callable (CallbackFn\&\& \mbox{\hyperlink{namespacegl_a36f31b2741707f905f4a62d054da4931}{f}})  : fn (std::forward<CallbackFn> (\mbox{\hyperlink{namespacegl_a36f31b2741707f905f4a62d054da4931}{f}})) \{\}}
\DoxyCodeLine{180             \textcolor{keywordtype}{void} modalStateFinished (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacegl_a7cb1126dbc1cb105bcce082cff5ae633}{result}})\textcolor{keyword}{ override  }\{ \mbox{\hyperlink{struct_null_checked_invocation_a244acf6ff720e6b46d41d66ea81daad5}{NullCheckedInvocation::invoke}} (\mbox{\hyperlink{namespacedsp_1_1detail_afe40dd96c3100ef2d29a2c0ab7947423}{std::move}} (fn), \mbox{\hyperlink{namespacegl_a7cb1126dbc1cb105bcce082cff5ae633}{result}}); \}}
\DoxyCodeLine{181 }
\DoxyCodeLine{182             std::remove\_reference\_t<CallbackFn> fn;}
\DoxyCodeLine{183         \};}
\DoxyCodeLine{184 }
\DoxyCodeLine{185         \textcolor{keywordflow}{return} \textcolor{keyword}{new} Callable (std::forward<CallbackFn> (fn));}
\DoxyCodeLine{186     \}}
\DoxyCodeLine{187 }
\DoxyCodeLine{188     \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{210 \textcolor{comment}{}    \textcolor{keyword}{template} <\textcolor{keyword}{typename} ParamType>}
\DoxyCodeLine{211     \textcolor{keyword}{static} \mbox{\hyperlink{class_modal_component_manager_1_1_callback}{ModalComponentManager::Callback}}* \mbox{\hyperlink{class_modal_callback_function_a63854487cfefaced8be4830704b09d19}{create}} (\textcolor{keywordtype}{void} (*functionToCall) (\textcolor{keywordtype}{int}, ParamType),}
\DoxyCodeLine{212                                                     ParamType parameterValue)}
\DoxyCodeLine{213     \{}
\DoxyCodeLine{214         \textcolor{keywordflow}{return} create ([functionToCall, parameterValue] (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacegl_aaa813f59532257ed092c4fad1b443fa5}{r}})}
\DoxyCodeLine{215         \{}
\DoxyCodeLine{216             functionToCall (\mbox{\hyperlink{namespacegl_aaa813f59532257ed092c4fad1b443fa5}{r}}, parameterValue);}
\DoxyCodeLine{217         \});}
\DoxyCodeLine{218     \}}
\DoxyCodeLine{219 }
\DoxyCodeLine{220     \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{242 \textcolor{comment}{}    \textcolor{keyword}{template} <\textcolor{keyword}{typename} ParamType1, \textcolor{keyword}{typename} ParamType2>}
\DoxyCodeLine{243     \textcolor{keyword}{static} \mbox{\hyperlink{class_modal_component_manager_1_1_callback}{ModalComponentManager::Callback}}* \mbox{\hyperlink{class_modal_callback_function_a9ab41e6c131bfe88e1cc31494e23088c}{withParam}} (\textcolor{keywordtype}{void} (*functionToCall) (\textcolor{keywordtype}{int}, ParamType1, ParamType2),}
\DoxyCodeLine{244                                                        ParamType1 parameterValue1,}
\DoxyCodeLine{245                                                        ParamType2 parameterValue2)}
\DoxyCodeLine{246     \{}
\DoxyCodeLine{247         \textcolor{keywordflow}{return} create ([functionToCall, parameterValue1, parameterValue2] (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacegl_aaa813f59532257ed092c4fad1b443fa5}{r}})}
\DoxyCodeLine{248         \{}
\DoxyCodeLine{249             functionToCall (\mbox{\hyperlink{namespacegl_aaa813f59532257ed092c4fad1b443fa5}{r}}, parameterValue1, parameterValue2);}
\DoxyCodeLine{250         \});}
\DoxyCodeLine{251     \}}
\DoxyCodeLine{252 }
\DoxyCodeLine{253     \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{276 \textcolor{comment}{}    \textcolor{keyword}{template} <\textcolor{keyword}{class} ComponentType>}
\DoxyCodeLine{277     \textcolor{keyword}{static} \mbox{\hyperlink{class_modal_component_manager_1_1_callback}{ModalComponentManager::Callback}}* \mbox{\hyperlink{class_modal_callback_function_a0f18df6d973919734089eed7db763782}{forComponent}} (\textcolor{keywordtype}{void} (*functionToCall) (\textcolor{keywordtype}{int}, ComponentType*),}
\DoxyCodeLine{278                                                           ComponentType* component)}
\DoxyCodeLine{279     \{}
\DoxyCodeLine{280         \textcolor{keywordflow}{return} create ([functionToCall, comp = \mbox{\hyperlink{class_weak_reference}{WeakReference<Component>}} \{ component \}] (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacegl_aaa813f59532257ed092c4fad1b443fa5}{r}})}
\DoxyCodeLine{281         \{}
\DoxyCodeLine{282             functionToCall (\mbox{\hyperlink{namespacegl_aaa813f59532257ed092c4fad1b443fa5}{r}}, \textcolor{keyword}{static\_cast<}ComponentType*\textcolor{keyword}{>} (comp.get()));}
\DoxyCodeLine{283         \});}
\DoxyCodeLine{284     \}}
\DoxyCodeLine{285 }
\DoxyCodeLine{286     \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{309 \textcolor{comment}{}    \textcolor{keyword}{template} <\textcolor{keyword}{class} ComponentType, \textcolor{keyword}{typename} ParamType>}
\DoxyCodeLine{310     \textcolor{keyword}{static} \mbox{\hyperlink{class_modal_component_manager_1_1_callback}{ModalComponentManager::Callback}}* \mbox{\hyperlink{class_modal_callback_function_abb6ffab4721481fa3c8ea44c3feb58ec}{forComponent}} (\textcolor{keywordtype}{void} (*functionToCall) (\textcolor{keywordtype}{int}, ComponentType*, ParamType),}
\DoxyCodeLine{311                                                           ComponentType* component,}
\DoxyCodeLine{312                                                           ParamType \mbox{\hyperlink{namespacegl_a4183e00b2c28020528ce95cfcce5b571}{param}})}
\DoxyCodeLine{313     \{}
\DoxyCodeLine{314         \textcolor{keywordflow}{return} create ([functionToCall, \mbox{\hyperlink{namespacegl_a4183e00b2c28020528ce95cfcce5b571}{param}}, comp = \mbox{\hyperlink{class_weak_reference}{WeakReference<Component>}} \{ component \}] (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacegl_aaa813f59532257ed092c4fad1b443fa5}{r}})}
\DoxyCodeLine{315         \{}
\DoxyCodeLine{316             functionToCall (\mbox{\hyperlink{namespacegl_aaa813f59532257ed092c4fad1b443fa5}{r}}, \textcolor{keyword}{static\_cast<}ComponentType*\textcolor{keyword}{>} (comp.get()), \mbox{\hyperlink{namespacegl_a4183e00b2c28020528ce95cfcce5b571}{param}});}
\DoxyCodeLine{317         \});}
\DoxyCodeLine{318     \}}
\DoxyCodeLine{319 }
\DoxyCodeLine{320 \textcolor{keyword}{private}:}
\DoxyCodeLine{321     \mbox{\hyperlink{class_modal_callback_function}{ModalCallbackFunction}}() = \textcolor{keyword}{delete};}
\DoxyCodeLine{322     \mbox{\hyperlink{class_modal_callback_function}{\string~ModalCallbackFunction}}() = \textcolor{keyword}{delete};}
\DoxyCodeLine{323 \};}
\DoxyCodeLine{324 }
\DoxyCodeLine{325  \textcolor{comment}{// namespace juce}}
\DoxyCodeLine{326 }

\end{DoxyCode}
