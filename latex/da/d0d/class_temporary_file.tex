\hypertarget{class_temporary_file}{}\doxysection{Temporary\+File Class Reference}
\label{class_temporary_file}\index{TemporaryFile@{TemporaryFile}}


{\ttfamily \#include $<$juce\+\_\+\+Temporary\+File.\+h$>$}

\doxysubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
enum \mbox{\hyperlink{class_temporary_file_af04f4ef2ea1bee0b20cdb4c072442e8d}{Option\+Flags}} \{ \mbox{\hyperlink{class_temporary_file_af04f4ef2ea1bee0b20cdb4c072442e8da5a8f2dba38db83ba22b75362598feaf6}{use\+Hidden\+File}} = 1
, \mbox{\hyperlink{class_temporary_file_af04f4ef2ea1bee0b20cdb4c072442e8da756fae13005d397744383ecd04539914}{put\+Numbers\+In\+Brackets}} = 2
 \}
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_temporary_file_a65662b1103831b0dfa323547284724c4}{Temporary\+File}} (\mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{class_string}{String}} \&suffix=\mbox{\hyperlink{class_string}{String}}(), \mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} option\+Flags=0)
\item 
\mbox{\hyperlink{class_temporary_file_a7039b78139b7d1c0661a4e1307929127}{Temporary\+File}} (\mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{class_file}{File}} \&target\+File, \mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} option\+Flags=0)
\item 
\mbox{\hyperlink{class_temporary_file_acccfa18e501075be52d80c99443694cb}{Temporary\+File}} (\mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{class_file}{File}} \&target\+File, \mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{class_file}{File}} \&temporary\+File)
\item 
\mbox{\hyperlink{class_temporary_file_a7a0f828343c95d3a7e81d6d3587ad116}{$\sim$\+Temporary\+File}} ()
\item 
\mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{class_file}{File}} \& \mbox{\hyperlink{class_temporary_file_ac99881666fbeb222b074313c80f678ac}{get\+File}} () \mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} noexcept
\item 
\mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{class_file}{File}} \& \mbox{\hyperlink{class_temporary_file_a5bdf86fa28f7604cbaae3343fd44f137}{get\+Target\+File}} () \mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} noexcept
\item 
bool \mbox{\hyperlink{class_temporary_file_a21379b8b4737b07594ea0e649f2600ae}{overwrite\+Target\+File\+With\+Temporary}} () \mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}}
\item 
bool \mbox{\hyperlink{class_temporary_file_a1126c8c5375d2f5262d55722c32643e9}{delete\+Temporary\+File}} () \mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Manages a temporary file, which will be deleted when this object is deleted.

This object is intended to be used as a stack based object, using its scope to make sure the temporary file isn\textquotesingle{}t left lying around.

For example\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\{}
\DoxyCodeLine{    \mbox{\hyperlink{class_file}{File}} myTargetFile (\textcolor{stringliteral}{"{}\string~/myfile.txt"{}});}
\DoxyCodeLine{}
\DoxyCodeLine{    \textcolor{comment}{// this will choose a file called something like "{}\string~/myfile\_temp239348.txt"{}}}
\DoxyCodeLine{    \textcolor{comment}{// which definitely doesn't exist at the time the constructor is called.}}
\DoxyCodeLine{    \mbox{\hyperlink{class_temporary_file}{TemporaryFile}} temp (myTargetFile);}
\DoxyCodeLine{}
\DoxyCodeLine{    \textcolor{comment}{// create a stream to the temporary file, and write some data to it...}}
\DoxyCodeLine{    \textcolor{keywordflow}{if} (\textcolor{keyword}{auto} out = std::unique\_ptr<FileOutputStream> (temp.getFile().createOutputStream()))}
\DoxyCodeLine{    \{}
\DoxyCodeLine{        out-\/>write ( ...etc )}
\DoxyCodeLine{        out.reset(); \textcolor{comment}{// (deletes the stream)}}
\DoxyCodeLine{}
\DoxyCodeLine{        \textcolor{comment}{// ..now we've finished writing, this will rename the temp file to}}
\DoxyCodeLine{        \textcolor{comment}{// make it replace the target file we specified above.}}
\DoxyCodeLine{        \textcolor{keywordtype}{bool} succeeded = temp.overwriteTargetFileWithTemporary();}
\DoxyCodeLine{    \}}
\DoxyCodeLine{}
\DoxyCodeLine{    \textcolor{comment}{// ..and even if something went wrong and our overwrite failed,}}
\DoxyCodeLine{    \textcolor{comment}{// as the TemporaryFile object goes out of scope here, it'll make sure}}
\DoxyCodeLine{    \textcolor{comment}{// that the temp file gets deleted.}}
\DoxyCodeLine{\}}

\end{DoxyCode}


\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{class_file}{File}}, \mbox{\hyperlink{class_file_output_stream}{File\+Output\+Stream}}
\end{DoxySeeAlso}
@tags\{Core\} 

\doxysubsection{Member Enumeration Documentation}
\mbox{\Hypertarget{class_temporary_file_af04f4ef2ea1bee0b20cdb4c072442e8d}\label{class_temporary_file_af04f4ef2ea1bee0b20cdb4c072442e8d}} 
\index{TemporaryFile@{TemporaryFile}!OptionFlags@{OptionFlags}}
\index{OptionFlags@{OptionFlags}!TemporaryFile@{TemporaryFile}}
\doxysubsubsection{\texorpdfstring{OptionFlags}{OptionFlags}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{class_temporary_file_af04f4ef2ea1bee0b20cdb4c072442e8d}{Temporary\+File\+::\+Option\+Flags}}}

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{useHiddenFile@{useHiddenFile}!TemporaryFile@{TemporaryFile}}\index{TemporaryFile@{TemporaryFile}!useHiddenFile@{useHiddenFile}}}\mbox{\Hypertarget{class_temporary_file_af04f4ef2ea1bee0b20cdb4c072442e8da5a8f2dba38db83ba22b75362598feaf6}\label{class_temporary_file_af04f4ef2ea1bee0b20cdb4c072442e8da5a8f2dba38db83ba22b75362598feaf6}} 
use\+Hidden\+File&Indicates that the temporary file should be hidden -\/ i.\+e. its name should start with a dot. \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{putNumbersInBrackets@{putNumbersInBrackets}!TemporaryFile@{TemporaryFile}}\index{TemporaryFile@{TemporaryFile}!putNumbersInBrackets@{putNumbersInBrackets}}}\mbox{\Hypertarget{class_temporary_file_af04f4ef2ea1bee0b20cdb4c072442e8da756fae13005d397744383ecd04539914}\label{class_temporary_file_af04f4ef2ea1bee0b20cdb4c072442e8da756fae13005d397744383ecd04539914}} 
put\+Numbers\+In\+Brackets&Indicates that when numbers are appended to make sure the file is unique, they should go in brackets rather than just being appended (see \mbox{\hyperlink{class_file_a33380dca33bb4611dc173d1fb35abbc5}{File\+::get\+Nonexistent\+Sibling()}} ) \\
\hline

\end{DoxyEnumFields}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_temporary_file_a65662b1103831b0dfa323547284724c4}\label{class_temporary_file_a65662b1103831b0dfa323547284724c4}} 
\index{TemporaryFile@{TemporaryFile}!TemporaryFile@{TemporaryFile}}
\index{TemporaryFile@{TemporaryFile}!TemporaryFile@{TemporaryFile}}
\doxysubsubsection{\texorpdfstring{TemporaryFile()}{TemporaryFile()}\hspace{0.1cm}{\footnotesize\ttfamily [1/3]}}
{\footnotesize\ttfamily Temporary\+File\+::\+Temporary\+File (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{class_string}{String}} \&}]{suffix = {\ttfamily \mbox{\hyperlink{class_string}{String}}()},  }\item[{\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}}}]{option\+Flags = {\ttfamily 0} }\end{DoxyParamCaption})}

Creates a randomly-\/named temporary file in the default temp directory.


\begin{DoxyParams}{Parameters}
{\em suffix} & a file suffix to use for the file \\
\hline
{\em option\+Flags} & a combination of the values listed in the Option\+Flags enum The file will not be created until you write to it. And remember that when this object is deleted, the file will also be deleted! \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{class_temporary_file_a7039b78139b7d1c0661a4e1307929127}\label{class_temporary_file_a7039b78139b7d1c0661a4e1307929127}} 
\index{TemporaryFile@{TemporaryFile}!TemporaryFile@{TemporaryFile}}
\index{TemporaryFile@{TemporaryFile}!TemporaryFile@{TemporaryFile}}
\doxysubsubsection{\texorpdfstring{TemporaryFile()}{TemporaryFile()}\hspace{0.1cm}{\footnotesize\ttfamily [2/3]}}
{\footnotesize\ttfamily Temporary\+File\+::\+Temporary\+File (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{class_file}{File}} \&}]{target\+File,  }\item[{\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}}}]{option\+Flags = {\ttfamily 0} }\end{DoxyParamCaption})}

Creates a temporary file in the same directory as a specified file.

This is useful if you have a file that you want to overwrite, but don\textquotesingle{}t want to harm the original file if the write operation fails. You can use this to create a temporary file next to the target file, then write to the temporary file, and finally use \mbox{\hyperlink{class_temporary_file_a21379b8b4737b07594ea0e649f2600ae}{overwrite\+Target\+File\+With\+Temporary()}} to replace the target file with the one you\textquotesingle{}ve just written.

This class won\textquotesingle{}t create any files until you actually write to them. And remember that when this object is deleted, the temporary file will also be deleted!


\begin{DoxyParams}{Parameters}
{\em target\+File} & the file that you intend to overwrite -\/ the temporary file will be created in the same directory as this \\
\hline
{\em option\+Flags} & a combination of the values listed in the Option\+Flags enum \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{class_temporary_file_acccfa18e501075be52d80c99443694cb}\label{class_temporary_file_acccfa18e501075be52d80c99443694cb}} 
\index{TemporaryFile@{TemporaryFile}!TemporaryFile@{TemporaryFile}}
\index{TemporaryFile@{TemporaryFile}!TemporaryFile@{TemporaryFile}}
\doxysubsubsection{\texorpdfstring{TemporaryFile()}{TemporaryFile()}\hspace{0.1cm}{\footnotesize\ttfamily [3/3]}}
{\footnotesize\ttfamily Temporary\+File\+::\+Temporary\+File (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{class_file}{File}} \&}]{target\+File,  }\item[{\mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{class_file}{File}} \&}]{temporary\+File }\end{DoxyParamCaption})}

Creates a temporary file using an explicit filename. The other constructors are a better choice than this one, unless for some reason you need to explicitly specify the temporary file you want to use.


\begin{DoxyParams}{Parameters}
{\em target\+File} & the file that you intend to overwrite \\
\hline
{\em temporary\+File} & the temporary file to be used \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{class_temporary_file_a7a0f828343c95d3a7e81d6d3587ad116}\label{class_temporary_file_a7a0f828343c95d3a7e81d6d3587ad116}} 
\index{TemporaryFile@{TemporaryFile}!````~TemporaryFile@{$\sim$TemporaryFile}}
\index{````~TemporaryFile@{$\sim$TemporaryFile}!TemporaryFile@{TemporaryFile}}
\doxysubsubsection{\texorpdfstring{$\sim$TemporaryFile()}{~TemporaryFile()}}
{\footnotesize\ttfamily Temporary\+File\+::$\sim$\+Temporary\+File (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Destructor.

When this object is deleted it will make sure that its temporary file is also deleted! If the operation fails, it\textquotesingle{}ll throw an assertion in debug mode. 

\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_temporary_file_a1126c8c5375d2f5262d55722c32643e9}\label{class_temporary_file_a1126c8c5375d2f5262d55722c32643e9}} 
\index{TemporaryFile@{TemporaryFile}!deleteTemporaryFile@{deleteTemporaryFile}}
\index{deleteTemporaryFile@{deleteTemporaryFile}!TemporaryFile@{TemporaryFile}}
\doxysubsubsection{\texorpdfstring{deleteTemporaryFile()}{deleteTemporaryFile()}}
{\footnotesize\ttfamily bool Temporary\+File\+::delete\+Temporary\+File (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}

Attempts to delete the temporary file, if it exists. \begin{DoxyReturn}{Returns}
true if the file is successfully deleted (or if it didn\textquotesingle{}t exist). 
\end{DoxyReturn}
\mbox{\Hypertarget{class_temporary_file_ac99881666fbeb222b074313c80f678ac}\label{class_temporary_file_ac99881666fbeb222b074313c80f678ac}} 
\index{TemporaryFile@{TemporaryFile}!getFile@{getFile}}
\index{getFile@{getFile}!TemporaryFile@{TemporaryFile}}
\doxysubsubsection{\texorpdfstring{getFile()}{getFile()}}
{\footnotesize\ttfamily \mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{class_file}{File}} \& Temporary\+File\+::get\+File (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [noexcept]}}

Returns the temporary file. \mbox{\Hypertarget{class_temporary_file_a5bdf86fa28f7604cbaae3343fd44f137}\label{class_temporary_file_a5bdf86fa28f7604cbaae3343fd44f137}} 
\index{TemporaryFile@{TemporaryFile}!getTargetFile@{getTargetFile}}
\index{getTargetFile@{getTargetFile}!TemporaryFile@{TemporaryFile}}
\doxysubsubsection{\texorpdfstring{getTargetFile()}{getTargetFile()}}
{\footnotesize\ttfamily \mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{class_file}{File}} \& Temporary\+File\+::get\+Target\+File (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [noexcept]}}

Returns the target file that was specified in the constructor. \mbox{\Hypertarget{class_temporary_file_a21379b8b4737b07594ea0e649f2600ae}\label{class_temporary_file_a21379b8b4737b07594ea0e649f2600ae}} 
\index{TemporaryFile@{TemporaryFile}!overwriteTargetFileWithTemporary@{overwriteTargetFileWithTemporary}}
\index{overwriteTargetFileWithTemporary@{overwriteTargetFileWithTemporary}!TemporaryFile@{TemporaryFile}}
\doxysubsubsection{\texorpdfstring{overwriteTargetFileWithTemporary()}{overwriteTargetFileWithTemporary()}}
{\footnotesize\ttfamily bool Temporary\+File\+::overwrite\+Target\+File\+With\+Temporary (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}

Tries to move the temporary file to overwrite the target file that was specified in the constructor.

If you used the constructor that specified a target file, this will attempt to replace that file with the temporary one.

Before calling this, make sure\+:
\begin{DoxyItemize}
\item that you\textquotesingle{}ve actually written to the temporary file
\item that you\textquotesingle{}ve closed any open streams that you were using to write to it
\item and that you don\textquotesingle{}t have any streams open to the target file, which would prevent it being overwritten
\end{DoxyItemize}

If the file move succeeds, this returns true, and the temporary file will have disappeared. If it fails, the temporary file will probably still exist, but will be deleted when this object is destroyed. 

The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
build/juce\+\_\+core/files/\mbox{\hyperlink{juce___temporary_file_8h}{juce\+\_\+\+Temporary\+File.\+h}}\item 
build/juce\+\_\+core/files/\mbox{\hyperlink{juce___temporary_file_8cpp}{juce\+\_\+\+Temporary\+File.\+cpp}}\end{DoxyCompactItemize}
