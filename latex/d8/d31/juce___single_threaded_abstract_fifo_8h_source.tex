\hypertarget{juce___single_threaded_abstract_fifo_8h_source}{}\doxysection{juce\+\_\+\+Single\+Threaded\+Abstract\+Fifo.\+h}
\label{juce___single_threaded_abstract_fifo_8h_source}\index{build/juce\_core/containers/juce\_SingleThreadedAbstractFifo.h@{build/juce\_core/containers/juce\_SingleThreadedAbstractFifo.h}}
\mbox{\hyperlink{juce___single_threaded_abstract_fifo_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 }
\DoxyCodeLine{5 \textcolor{comment}{/*}}
\DoxyCodeLine{6 \textcolor{comment}{  ==============================================================================}}
\DoxyCodeLine{7 \textcolor{comment}{}}
\DoxyCodeLine{8 \textcolor{comment}{   This file is part of the JUCE library.}}
\DoxyCodeLine{9 \textcolor{comment}{   Copyright (c) 2020 -\/ Raw Material Software Limited}}
\DoxyCodeLine{10 \textcolor{comment}{}}
\DoxyCodeLine{11 \textcolor{comment}{   JUCE is an open source library subject to commercial or open-\/source}}
\DoxyCodeLine{12 \textcolor{comment}{   licensing.}}
\DoxyCodeLine{13 \textcolor{comment}{}}
\DoxyCodeLine{14 \textcolor{comment}{   The code included in this file is provided under the terms of the ISC license}}
\DoxyCodeLine{15 \textcolor{comment}{   http://www.isc.org/downloads/software-\/support-\/policy/isc-\/license. Permission}}
\DoxyCodeLine{16 \textcolor{comment}{   To use, copy, modify, and/or distribute this software for any purpose with or}}
\DoxyCodeLine{17 \textcolor{comment}{   without fee is hereby granted provided that the above copyright notice and}}
\DoxyCodeLine{18 \textcolor{comment}{   this permission notice appear in all copies.}}
\DoxyCodeLine{19 \textcolor{comment}{}}
\DoxyCodeLine{20 \textcolor{comment}{   JUCE IS PROVIDED "{}AS IS"{} WITHOUT ANY WARRANTY, AND ALL WARRANTIES, WHETHER}}
\DoxyCodeLine{21 \textcolor{comment}{   EXPRESSED OR IMPLIED, INCLUDING MERCHANTABILITY AND FITNESS FOR PURPOSE, ARE}}
\DoxyCodeLine{22 \textcolor{comment}{   DISCLAIMED.}}
\DoxyCodeLine{23 \textcolor{comment}{}}
\DoxyCodeLine{24 \textcolor{comment}{  ==============================================================================}}
\DoxyCodeLine{25 \textcolor{comment}{*/}}
\DoxyCodeLine{26 }
\DoxyCodeLine{27 \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{64 \textcolor{comment}{}\textcolor{keyword}{class }\mbox{\hyperlink{class_single_threaded_abstract_fifo}{SingleThreadedAbstractFifo}}}
\DoxyCodeLine{65 \{}
\DoxyCodeLine{66 \textcolor{keyword}{public}:}
\DoxyCodeLine{68     \mbox{\hyperlink{class_single_threaded_abstract_fifo_a268ca3d69ef47b8d546edf44d389ff85}{SingleThreadedAbstractFifo}}() = \textcolor{keywordflow}{default};}
\DoxyCodeLine{69 }
\DoxyCodeLine{71     \textcolor{keyword}{explicit} \mbox{\hyperlink{class_single_threaded_abstract_fifo_aa6bdd5fa52358ed251be6ccf18533bca}{SingleThreadedAbstractFifo}} (\textcolor{keywordtype}{int} sizeIn)}
\DoxyCodeLine{72         : size (sizeIn)}
\DoxyCodeLine{73     \{}
\DoxyCodeLine{74         \textcolor{comment}{// This class only works properly when the size is a power of two.}}
\DoxyCodeLine{75         \textcolor{comment}{// Use nextPowerOfTwo() to find a good size, and ensure that your}}
\DoxyCodeLine{76         \textcolor{comment}{// backing storage is the same size.}}
\DoxyCodeLine{77         \mbox{\hyperlink{group__juce__core-system_ga1f96ab6751237979b907a54f52a7296a}{jassert}} (\mbox{\hyperlink{group__juce__core-maths_gac442d75bab44cd364cda70eb02ec5fb9}{isPowerOfTwo}} (sizeIn));}
\DoxyCodeLine{78     \}}
\DoxyCodeLine{79 }
\DoxyCodeLine{81     \textcolor{keywordtype}{int} \mbox{\hyperlink{class_single_threaded_abstract_fifo_a748d13d940354617b5fe8c73aa77973b}{getRemainingSpace}}()\textcolor{keyword}{ const   }\{ \textcolor{keywordflow}{return} size -\/ numReadable; \}}
\DoxyCodeLine{82 }
\DoxyCodeLine{84     \textcolor{keywordtype}{int} \mbox{\hyperlink{class_single_threaded_abstract_fifo_ab83c943b44c120be35bf12943063500e}{getNumReadable}}()\textcolor{keyword}{ const      }\{ \textcolor{keywordflow}{return} numReadable; \}}
\DoxyCodeLine{85 }
\DoxyCodeLine{87     \textcolor{keywordtype}{int} \mbox{\hyperlink{class_single_threaded_abstract_fifo_a53ed44c0c5fdf80a97dc12870dfb0a58}{getSize}}()\textcolor{keyword}{ const             }\{ \textcolor{keywordflow}{return} size; \}}
\DoxyCodeLine{88 }
\DoxyCodeLine{94     std::array<Range<int>, 2> \mbox{\hyperlink{class_single_threaded_abstract_fifo_aafd143b76bb2c54539d1bb7b2b05c1a9}{write}} (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacegl_aaed5c28b6e2fe572794fada7bfb4862c}{num}})}
\DoxyCodeLine{95     \{}
\DoxyCodeLine{96         \textcolor{keyword}{const} \textcolor{keyword}{auto} startPos = (readPos + numReadable) \& (size -\/ 1);}
\DoxyCodeLine{97         \textcolor{keyword}{const} \textcolor{keyword}{auto} maxToWrite = \mbox{\hyperlink{group__juce__core-maths_gae8394cdf11279b266f4aa741758c1669}{jmin}} (\mbox{\hyperlink{class_single_threaded_abstract_fifo_a748d13d940354617b5fe8c73aa77973b}{getRemainingSpace}}(), \mbox{\hyperlink{namespacegl_aaed5c28b6e2fe572794fada7bfb4862c}{num}});}
\DoxyCodeLine{98         \textcolor{keyword}{const} \textcolor{keyword}{auto} firstBlockSize = \mbox{\hyperlink{group__juce__core-maths_gae8394cdf11279b266f4aa741758c1669}{jmin}} (maxToWrite, size -\/ startPos);}
\DoxyCodeLine{99 }
\DoxyCodeLine{100         numReadable += maxToWrite;}
\DoxyCodeLine{101 }
\DoxyCodeLine{102         \textcolor{keywordflow}{return} \{ \{ \{ startPos, startPos + firstBlockSize \}, \{ 0, maxToWrite -\/ firstBlockSize \} \} \};}
\DoxyCodeLine{103     \}}
\DoxyCodeLine{104 }
\DoxyCodeLine{110     std::array<Range<int>, 2> \mbox{\hyperlink{class_single_threaded_abstract_fifo_a91ec1d5f8a4a505169e69580a80cbf74}{read}} (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacegl_aaed5c28b6e2fe572794fada7bfb4862c}{num}})}
\DoxyCodeLine{111     \{}
\DoxyCodeLine{112         \textcolor{keyword}{const} \textcolor{keyword}{auto} startPos = readPos;}
\DoxyCodeLine{113         \textcolor{keyword}{const} \textcolor{keyword}{auto} maxToRead = \mbox{\hyperlink{group__juce__core-maths_gae8394cdf11279b266f4aa741758c1669}{jmin}} (numReadable, \mbox{\hyperlink{namespacegl_aaed5c28b6e2fe572794fada7bfb4862c}{num}});}
\DoxyCodeLine{114         \textcolor{keyword}{const} \textcolor{keyword}{auto} firstBlockSize = \mbox{\hyperlink{group__juce__core-maths_gae8394cdf11279b266f4aa741758c1669}{jmin}} (maxToRead, size -\/ startPos);}
\DoxyCodeLine{115 }
\DoxyCodeLine{116         readPos = (startPos + maxToRead) \& (size -\/ 1);}
\DoxyCodeLine{117         numReadable -\/= maxToRead;}
\DoxyCodeLine{118 }
\DoxyCodeLine{119         \textcolor{keywordflow}{return} \{ \{ \{ startPos, startPos + firstBlockSize \}, \{ 0, maxToRead -\/ firstBlockSize \} \} \};}
\DoxyCodeLine{120     \}}
\DoxyCodeLine{121 }
\DoxyCodeLine{122 \textcolor{keyword}{private}:}
\DoxyCodeLine{123     \textcolor{keywordtype}{int} size = 0, readPos = 0, numReadable = 0;}
\DoxyCodeLine{124 \};}
\DoxyCodeLine{125 }
\DoxyCodeLine{126 }
\DoxyCodeLine{127  \textcolor{comment}{// namespace juce}}
\DoxyCodeLine{128 }

\end{DoxyCode}
