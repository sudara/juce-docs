\hypertarget{class_m_p_e_channel_assigner}{}\doxysection{MPEChannel\+Assigner Class Reference}
\label{class_m_p_e_channel_assigner}\index{MPEChannelAssigner@{MPEChannelAssigner}}


{\ttfamily \#include $<$juce\+\_\+\+MPEUtils.\+h$>$}

\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_m_p_e_channel_assigner_a18f73a2c8962e955c6b18d9f4e82edc2}{MPEChannel\+Assigner}} (\mbox{\hyperlink{class_m_p_e_zone_layout_a59bcf4ffbabf73b83e66b8ad081b6902}{MPEZone\+Layout\+::\+Zone}} zone\+To\+Use)
\item 
\mbox{\hyperlink{class_m_p_e_channel_assigner_a12f12990dc1524004d66875e9a6b8326}{MPEChannel\+Assigner}} (\mbox{\hyperlink{class_range}{Range}}$<$ \mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} $>$ channel\+Range=\mbox{\hyperlink{class_range}{Range}}$<$ \mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} $>$(1, 17))
\item 
\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} \mbox{\hyperlink{class_m_p_e_channel_assigner_ac27c3b488becccb99f03a162741af9ff}{find\+Midi\+Channel\+For\+New\+Note}} (\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} note\+Number) noexcept
\item 
\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} \mbox{\hyperlink{class_m_p_e_channel_assigner_acec1a6efee54562ec4302b5b9231dce7}{find\+Midi\+Channel\+For\+Existing\+Note}} (\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} initial\+Note\+On\+Number) noexcept
\item 
\mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} \mbox{\hyperlink{class_m_p_e_channel_assigner_ab669ae36201903b0ff2e2bf8e78d5869}{note\+Off}} (\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} note\+Number, \mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} midi\+Channel=-\/1)
\item 
\mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} \mbox{\hyperlink{class_m_p_e_channel_assigner_ac8ceeac62eaf5f9252d754e4b385293c}{all\+Notes\+Off}} ()
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
This class handles the assignment of new MIDI notes to member channels of an active MPE zone.

To use it, create an instance passing in the MPE zone that it should operate on and then call use the \mbox{\hyperlink{class_m_p_e_channel_assigner_ac27c3b488becccb99f03a162741af9ff}{find\+Midi\+Channel\+For\+New\+Note()}} method for all note-\/on messages and the \mbox{\hyperlink{class_m_p_e_channel_assigner_ab669ae36201903b0ff2e2bf8e78d5869}{note\+Off()}} method for all note-\/off messages.

@tags\{Audio\} 

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_m_p_e_channel_assigner_a18f73a2c8962e955c6b18d9f4e82edc2}\label{class_m_p_e_channel_assigner_a18f73a2c8962e955c6b18d9f4e82edc2}} 
\index{MPEChannelAssigner@{MPEChannelAssigner}!MPEChannelAssigner@{MPEChannelAssigner}}
\index{MPEChannelAssigner@{MPEChannelAssigner}!MPEChannelAssigner@{MPEChannelAssigner}}
\doxysubsubsection{\texorpdfstring{MPEChannelAssigner()}{MPEChannelAssigner()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily MPEChannel\+Assigner\+::\+MPEChannel\+Assigner (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_m_p_e_zone_layout_a59bcf4ffbabf73b83e66b8ad081b6902}{MPEZone\+Layout\+::\+Zone}}}]{zone\+To\+Use }\end{DoxyParamCaption})}

Constructor.

This will assign channels within the range of the specified MPE zone. \mbox{\Hypertarget{class_m_p_e_channel_assigner_a12f12990dc1524004d66875e9a6b8326}\label{class_m_p_e_channel_assigner_a12f12990dc1524004d66875e9a6b8326}} 
\index{MPEChannelAssigner@{MPEChannelAssigner}!MPEChannelAssigner@{MPEChannelAssigner}}
\index{MPEChannelAssigner@{MPEChannelAssigner}!MPEChannelAssigner@{MPEChannelAssigner}}
\doxysubsubsection{\texorpdfstring{MPEChannelAssigner()}{MPEChannelAssigner()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily MPEChannel\+Assigner\+::\+MPEChannel\+Assigner (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_range}{Range}}$<$ \mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} $>$}]{channel\+Range = {\ttfamily \mbox{\hyperlink{class_range}{Range}}$<$\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}}$>$~(1,~17)} }\end{DoxyParamCaption})}

Legacy mode constructor.

This will assign channels within the specified range. 

\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_m_p_e_channel_assigner_ac8ceeac62eaf5f9252d754e4b385293c}\label{class_m_p_e_channel_assigner_ac8ceeac62eaf5f9252d754e4b385293c}} 
\index{MPEChannelAssigner@{MPEChannelAssigner}!allNotesOff@{allNotesOff}}
\index{allNotesOff@{allNotesOff}!MPEChannelAssigner@{MPEChannelAssigner}}
\doxysubsubsection{\texorpdfstring{allNotesOff()}{allNotesOff()}}
{\footnotesize\ttfamily \mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} MPEChannel\+Assigner\+::all\+Notes\+Off (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Call this to clear all currently playing notes. \mbox{\Hypertarget{class_m_p_e_channel_assigner_acec1a6efee54562ec4302b5b9231dce7}\label{class_m_p_e_channel_assigner_acec1a6efee54562ec4302b5b9231dce7}} 
\index{MPEChannelAssigner@{MPEChannelAssigner}!findMidiChannelForExistingNote@{findMidiChannelForExistingNote}}
\index{findMidiChannelForExistingNote@{findMidiChannelForExistingNote}!MPEChannelAssigner@{MPEChannelAssigner}}
\doxysubsubsection{\texorpdfstring{findMidiChannelForExistingNote()}{findMidiChannelForExistingNote()}}
{\footnotesize\ttfamily \mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} MPEChannel\+Assigner\+::find\+Midi\+Channel\+For\+Existing\+Note (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}}}]{initial\+Note\+On\+Number }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [noexcept]}}

If a note has been added using \mbox{\hyperlink{class_m_p_e_channel_assigner_ac27c3b488becccb99f03a162741af9ff}{find\+Midi\+Channel\+For\+New\+Note()}} this will return the channel to which it was assigned, otherwise it will return -\/1. \mbox{\Hypertarget{class_m_p_e_channel_assigner_ac27c3b488becccb99f03a162741af9ff}\label{class_m_p_e_channel_assigner_ac27c3b488becccb99f03a162741af9ff}} 
\index{MPEChannelAssigner@{MPEChannelAssigner}!findMidiChannelForNewNote@{findMidiChannelForNewNote}}
\index{findMidiChannelForNewNote@{findMidiChannelForNewNote}!MPEChannelAssigner@{MPEChannelAssigner}}
\doxysubsubsection{\texorpdfstring{findMidiChannelForNewNote()}{findMidiChannelForNewNote()}}
{\footnotesize\ttfamily \mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} MPEChannel\+Assigner\+::find\+Midi\+Channel\+For\+New\+Note (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}}}]{note\+Number }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [noexcept]}}

This method will use a set of rules recommended in the MPE specification to determine which member channel the specified MIDI note should be assigned to and will return this channel number.

The rules have the following precedence\+:
\begin{DoxyItemize}
\item find a free channel on which the last note played was the same as the one specified
\item find the next free channel in round-\/robin assignment
\item find the channel number that is currently playing the closest note (but not the same)
\end{DoxyItemize}


\begin{DoxyParams}{Parameters}
{\em note\+Number} & the MIDI note number to be assigned to a channel \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the zone\textquotesingle{}s member channel that this note should be assigned to 
\end{DoxyReturn}
\mbox{\Hypertarget{class_m_p_e_channel_assigner_ab669ae36201903b0ff2e2bf8e78d5869}\label{class_m_p_e_channel_assigner_ab669ae36201903b0ff2e2bf8e78d5869}} 
\index{MPEChannelAssigner@{MPEChannelAssigner}!noteOff@{noteOff}}
\index{noteOff@{noteOff}!MPEChannelAssigner@{MPEChannelAssigner}}
\doxysubsubsection{\texorpdfstring{noteOff()}{noteOff()}}
{\footnotesize\ttfamily \mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} MPEChannel\+Assigner\+::note\+Off (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}}}]{note\+Number,  }\item[{\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}}}]{midi\+Channel = {\ttfamily -\/1} }\end{DoxyParamCaption})}

You must call this method for all note-\/offs that you receive so that this class can keep track of the currently playing notes internally.

You can specify the channel number the note off happened on. If you don\textquotesingle{}t, it will look through all channels to find the registered midi note matching the given note number. 

The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
build/juce\+\_\+audio\+\_\+basics/mpe/\mbox{\hyperlink{juce___m_p_e_utils_8h}{juce\+\_\+\+MPEUtils.\+h}}\item 
build/juce\+\_\+audio\+\_\+basics/mpe/\mbox{\hyperlink{juce___m_p_e_utils_8cpp}{juce\+\_\+\+MPEUtils.\+cpp}}\end{DoxyCompactItemize}
