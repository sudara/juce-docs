\hypertarget{struct_reservoir}{}\doxysection{Reservoir Struct Reference}
\label{struct_reservoir}\index{Reservoir@{Reservoir}}


{\ttfamily \#include $<$juce\+\_\+\+Reservoir.\+h$>$}

\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
{\footnotesize template$<$typename Index , typename Get\+Buffered\+Range , typename Read\+From\+Reservoir , typename Fill\+Reservoir $>$ }\\static \mbox{\hyperlink{class_range}{Range}}$<$ Index $>$ \mbox{\hyperlink{struct_reservoir_af55daa3cafc389dca251eaee3641508f}{do\+Buffered\+Read}} (\mbox{\hyperlink{class_range}{Range}}$<$ Index $>$ range\+To\+Read, Get\+Buffered\+Range \&\&get\+Buffered\+Range, Read\+From\+Reservoir \&\&read\+From\+Reservoir, Fill\+Reservoir \&\&fill\+Reservoir)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Helper functions for managing buffered readers. 

\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{struct_reservoir_af55daa3cafc389dca251eaee3641508f}\label{struct_reservoir_af55daa3cafc389dca251eaee3641508f}} 
\index{Reservoir@{Reservoir}!doBufferedRead@{doBufferedRead}}
\index{doBufferedRead@{doBufferedRead}!Reservoir@{Reservoir}}
\doxysubsubsection{\texorpdfstring{doBufferedRead()}{doBufferedRead()}}
{\footnotesize\ttfamily template$<$typename Index , typename Get\+Buffered\+Range , typename Read\+From\+Reservoir , typename Fill\+Reservoir $>$ \\
static \mbox{\hyperlink{class_range}{Range}}$<$ Index $>$ Reservoir\+::do\+Buffered\+Read (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_range}{Range}}$<$ Index $>$}]{range\+To\+Read,  }\item[{Get\+Buffered\+Range \&\&}]{get\+Buffered\+Range,  }\item[{Read\+From\+Reservoir \&\&}]{read\+From\+Reservoir,  }\item[{Fill\+Reservoir \&\&}]{fill\+Reservoir }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}

Attempts to read the requested range from some kind of input stream, with intermediate buffering in a \textquotesingle{}reservoir\textquotesingle{}.

While there are still samples in the requested range left to read, this function will check whether the next part of the requested range is already loaded into the reservoir. If the range is available, then do\+Buffered\+Read will call read\+From\+Reservoir with the range that should be copied to the output buffer. If the range is not available, do\+Buffered\+Read will call fill\+Reservoir to request that a new region is loaded into the reservoir. It will repeat these steps until either the entire requested region has been read, or the stream ends.

This will return the range that could not be read successfully, if any. An empty range implies that the entire read was successful.

Note that all ranges, including those provided as arguments to the callbacks, are relative to the original unbuffered input. That is, if get\+Buffered\+Range returns the range \mbox{[}200, 300), then read\+From\+Reservoir might be passed the range \mbox{[}250, 300) in order to copy the final 50 samples from the reservoir.


\begin{DoxyParams}{Parameters}
{\em range\+To\+Read} & the absolute position of the range that should be read \\
\hline
{\em get\+Buffered\+Range} & a function void -\/\texorpdfstring{$>$}{>} Range$<$\+Index$>$ that returns the region currently held in the reservoir \\
\hline
{\em read\+From\+Reservoir} & a function Range$<$\+Index$>$ -\/\texorpdfstring{$>$}{>} void that can be used to copy samples from the region in the reservoir specified in the input range \\
\hline
{\em fill\+Reservoir} & a function Index -\/\texorpdfstring{$>$}{>} void that is given a requested read location, and that should attempt to fill the reservoir starting at this location. After this function, get\+Buffered\+Range should return the new region contained in the managed buffer \\
\hline
\end{DoxyParams}


The documentation for this struct was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
build/juce\+\_\+core/memory/\mbox{\hyperlink{juce___reservoir_8h}{juce\+\_\+\+Reservoir.\+h}}\end{DoxyCompactItemize}
