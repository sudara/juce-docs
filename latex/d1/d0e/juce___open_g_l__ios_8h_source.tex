\hypertarget{juce___open_g_l__ios_8h_source}{}\doxysection{juce\+\_\+\+Open\+GL\+\_\+ios.\+h}
\label{juce___open_g_l__ios_8h_source}\index{build/juce\_opengl/native/juce\_OpenGL\_ios.h@{build/juce\_opengl/native/juce\_OpenGL\_ios.h}}
\mbox{\hyperlink{juce___open_g_l__ios_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{/*}}
\DoxyCodeLine{2 \textcolor{comment}{  ==============================================================================}}
\DoxyCodeLine{3 \textcolor{comment}{}}
\DoxyCodeLine{4 \textcolor{comment}{   This file is part of the JUCE library.}}
\DoxyCodeLine{5 \textcolor{comment}{   Copyright (c) 2020 -\/ Raw Material Software Limited}}
\DoxyCodeLine{6 \textcolor{comment}{}}
\DoxyCodeLine{7 \textcolor{comment}{   JUCE is an open source library subject to commercial or open-\/source}}
\DoxyCodeLine{8 \textcolor{comment}{   licensing.}}
\DoxyCodeLine{9 \textcolor{comment}{}}
\DoxyCodeLine{10 \textcolor{comment}{   By using JUCE, you agree to the terms of both the JUCE 6 End-\/User License}}
\DoxyCodeLine{11 \textcolor{comment}{   Agreement and JUCE Privacy Policy (both effective as of the 16th June 2020).}}
\DoxyCodeLine{12 \textcolor{comment}{}}
\DoxyCodeLine{13 \textcolor{comment}{   End User License Agreement: www.juce.com/juce-\/6-\/licence}}
\DoxyCodeLine{14 \textcolor{comment}{   Privacy Policy: www.juce.com/juce-\/privacy-\/policy}}
\DoxyCodeLine{15 \textcolor{comment}{}}
\DoxyCodeLine{16 \textcolor{comment}{   Or: You may also use this code under the terms of the GPL v3 (see}}
\DoxyCodeLine{17 \textcolor{comment}{   www.gnu.org/licenses).}}
\DoxyCodeLine{18 \textcolor{comment}{}}
\DoxyCodeLine{19 \textcolor{comment}{   JUCE IS PROVIDED "{}AS IS"{} WITHOUT ANY WARRANTY, AND ALL WARRANTIES, WHETHER}}
\DoxyCodeLine{20 \textcolor{comment}{   EXPRESSED OR IMPLIED, INCLUDING MERCHANTABILITY AND FITNESS FOR PURPOSE, ARE}}
\DoxyCodeLine{21 \textcolor{comment}{   DISCLAIMED.}}
\DoxyCodeLine{22 \textcolor{comment}{}}
\DoxyCodeLine{23 \textcolor{comment}{  ==============================================================================}}
\DoxyCodeLine{24 \textcolor{comment}{*/}}
\DoxyCodeLine{25 }
\DoxyCodeLine{26 \textcolor{keyword}{@interface }\mbox{\hyperlink{interface_juce_g_l_view}{JuceGLView}}   : UIView}
\DoxyCodeLine{27 \{}
\DoxyCodeLine{28 \}}
\DoxyCodeLine{29 + (Class) layerClass;}
\DoxyCodeLine{30 \textcolor{keyword}{@end}}
\DoxyCodeLine{31 }
\DoxyCodeLine{32 \textcolor{keyword}{@implementation }\mbox{\hyperlink{interface_juce_g_l_view}{JuceGLView}}}
\DoxyCodeLine{33 + (Class) \mbox{\hyperlink{interface_juce_g_l_view_ac672db3baf89bd91368eb3ade9c1ba27}{layerClass}}}
\DoxyCodeLine{34 \{}
\DoxyCodeLine{35     \textcolor{keywordflow}{return} [CAEAGLLayer class];}
\DoxyCodeLine{36 \}}
\DoxyCodeLine{37 \textcolor{keyword}{@end}}
\DoxyCodeLine{38 }
\DoxyCodeLine{39 \textcolor{keyword}{extern} \textcolor{stringliteral}{"{}C"{}} \mbox{\hyperlink{group__juce__opengl-opengl_ga1e5eb1ac5e47603cc80ab58338b92393}{GLvoid}} \mbox{\hyperlink{juce___open_g_l__ios_8h_a8392affa81436701f1fbf6cb5f1a2a12}{glResolveMultisampleFramebufferAPPLE}}();}
\DoxyCodeLine{40 }
\DoxyCodeLine{41 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespacejuce}{juce}}}
\DoxyCodeLine{42 \{}
\DoxyCodeLine{43 }
\DoxyCodeLine{44 \textcolor{keyword}{class }OpenGLContext::NativeContext}
\DoxyCodeLine{45 \{}
\DoxyCodeLine{46 \textcolor{keyword}{public}:}
\DoxyCodeLine{47     \mbox{\hyperlink{classjuce_1_1_open_g_l_context_1_1_native_context_a9b97fb45fb8af6ba6151e96b1469a27c}{NativeContext}} (\mbox{\hyperlink{class_component}{Component}}\& \mbox{\hyperlink{namespacegl_a1bde49b4e268a18d021f931060e1cbb1}{c}},}
\DoxyCodeLine{48                    \textcolor{keyword}{const} \mbox{\hyperlink{class_open_g_l_pixel_format}{OpenGLPixelFormat}}\& pixFormat,}
\DoxyCodeLine{49                    \textcolor{keywordtype}{void}* contextToShare,}
\DoxyCodeLine{50                    \textcolor{keywordtype}{bool} multisampling,}
\DoxyCodeLine{51                    \mbox{\hyperlink{class_open_g_l_context_a3a6b8eeed7dbc7c7c649528252c07d02}{OpenGLVersion}} \mbox{\hyperlink{jpeglib_8h_aad880fc4455c253781e8968f2239d56f}{version}})}
\DoxyCodeLine{52         : component (\mbox{\hyperlink{namespacegl_a1bde49b4e268a18d021f931060e1cbb1}{c}}), openGLversion (\mbox{\hyperlink{jpeglib_8h_aad880fc4455c253781e8968f2239d56f}{version}}),}
\DoxyCodeLine{53           useDepthBuffer (pixFormat.depthBufferBits > 0),}
\DoxyCodeLine{54           useMSAA (multisampling)}
\DoxyCodeLine{55     \{}
\DoxyCodeLine{56         \mbox{\hyperlink{group__juce__core-memory_gad73fadcd76040b11a626d5bdf833ad49}{JUCE\_AUTORELEASEPOOL}}}
\DoxyCodeLine{57         \{}
\DoxyCodeLine{58             \textcolor{keywordflow}{if} (\textcolor{keyword}{auto}* peer = component.getPeer())}
\DoxyCodeLine{59             \{}
\DoxyCodeLine{60                 \textcolor{keyword}{auto} bounds = peer-\/>getAreaCoveredBy (component);}
\DoxyCodeLine{61 }
\DoxyCodeLine{62                 view = [[\mbox{\hyperlink{interface_juce_g_l_view}{JuceGLView}} alloc] initWithFrame: convertToCGRect (bounds)];}
\DoxyCodeLine{63                 view.opaque = YES;}
\DoxyCodeLine{64                 view.hidden = NO;}
\DoxyCodeLine{65                 view.backgroundColor = [UIColor blackColor];}
\DoxyCodeLine{66                 view.userInteractionEnabled = NO;}
\DoxyCodeLine{67 }
\DoxyCodeLine{68                 glLayer = (CAEAGLLayer*) [view \mbox{\hyperlink{namespacegl_ad4ec37b767f7e70cf277b69177030d3f}{layer}}];}
\DoxyCodeLine{69                 glLayer.opaque = \textcolor{keyword}{true};}
\DoxyCodeLine{70 }
\DoxyCodeLine{71                 updateWindowPosition (bounds);}
\DoxyCodeLine{72 }
\DoxyCodeLine{73                 [((UIView*) peer-\/>getNativeHandle()) addSubview: view];}
\DoxyCodeLine{74 }
\DoxyCodeLine{75                 \textcolor{keywordflow}{if} (\mbox{\hyperlink{jpeglib_8h_aad880fc4455c253781e8968f2239d56f}{version}} == \mbox{\hyperlink{class_open_g_l_context_a3a6b8eeed7dbc7c7c649528252c07d02a360335be2efbcff04897b872de9b8e45}{openGL3\_2}} \&\& [[UIDevice currentDevice].systemVersion floatValue] >= 7.0)}
\DoxyCodeLine{76                 \{}
\DoxyCodeLine{77                     \textcolor{keywordflow}{if} (! createContext (kEAGLRenderingAPIOpenGLES3, contextToShare))}
\DoxyCodeLine{78                     \{}
\DoxyCodeLine{79                         releaseContext();}
\DoxyCodeLine{80                         createContext (kEAGLRenderingAPIOpenGLES2, contextToShare);}
\DoxyCodeLine{81                     \}}
\DoxyCodeLine{82                 \}}
\DoxyCodeLine{83                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{84                 \{}
\DoxyCodeLine{85                     createContext (kEAGLRenderingAPIOpenGLES2, contextToShare);}
\DoxyCodeLine{86                 \}}
\DoxyCodeLine{87 }
\DoxyCodeLine{88                 \textcolor{keywordflow}{if} (context != nil)}
\DoxyCodeLine{89                 \{}
\DoxyCodeLine{90                     \textcolor{comment}{// I'd prefer to put this stuff in the initialiseOnRenderThread() call, but doing}}
\DoxyCodeLine{91                     \textcolor{comment}{// so causes mysterious timing-\/related failures.}}
\DoxyCodeLine{92                     [EAGLContext setCurrentContext: context];}
\DoxyCodeLine{93                     \mbox{\hyperlink{namespacegl_afb72a78ef708f210528777a41d20bad6}{gl::loadFunctions}}();}
\DoxyCodeLine{94                     createGLBuffers();}
\DoxyCodeLine{95                     \mbox{\hyperlink{class_open_g_l_context_a5a3ece9be728d97e0343ae17a71f6562}{deactivateCurrentContext}}();}
\DoxyCodeLine{96                 \}}
\DoxyCodeLine{97                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{98                 \{}
\DoxyCodeLine{99                     \mbox{\hyperlink{group__juce__core-system_gadc044ce5efecbecf2f5a44cd00db67b3}{jassertfalse}};}
\DoxyCodeLine{100                 \}}
\DoxyCodeLine{101             \}}
\DoxyCodeLine{102             \textcolor{keywordflow}{else}}
\DoxyCodeLine{103             \{}
\DoxyCodeLine{104                 \mbox{\hyperlink{group__juce__core-system_gadc044ce5efecbecf2f5a44cd00db67b3}{jassertfalse}};}
\DoxyCodeLine{105             \}}
\DoxyCodeLine{106         \}}
\DoxyCodeLine{107     \}}
\DoxyCodeLine{108 }
\DoxyCodeLine{109     \mbox{\hyperlink{classjuce_1_1_open_g_l_context_1_1_native_context_a4dcd9465383664cb47599c1bcf36cead}{\string~NativeContext}}()}
\DoxyCodeLine{110     \{}
\DoxyCodeLine{111         releaseContext();}
\DoxyCodeLine{112         [\mbox{\hyperlink{interface_juce_g_l_view}{view}} removeFromSuperview];}
\DoxyCodeLine{113         [\mbox{\hyperlink{interface_juce_g_l_view}{view}} release];}
\DoxyCodeLine{114     \}}
\DoxyCodeLine{115 }
\DoxyCodeLine{116     \textcolor{keywordtype}{bool} \mbox{\hyperlink{classjuce_1_1_open_g_l_context_1_1_native_context_a742182ad07d682c5c8b2510278aa76cf}{initialiseOnRenderThread}} (\mbox{\hyperlink{class_open_g_l_context}{OpenGLContext}}\&)    \{ \textcolor{keywordflow}{return} \textcolor{keyword}{true}; \}}
\DoxyCodeLine{117 }
\DoxyCodeLine{118     \textcolor{keywordtype}{void} \mbox{\hyperlink{classjuce_1_1_open_g_l_context_1_1_native_context_a6e1196b3b781c7c19482d05da617c278}{shutdownOnRenderThread}}()}
\DoxyCodeLine{119     \{}
\DoxyCodeLine{120         \mbox{\hyperlink{juce__opengl_8cpp_aeed6f55b8275158a5c6ebf905f785e52}{JUCE\_CHECK\_OPENGL\_ERROR}}}
\DoxyCodeLine{121         freeGLBuffers();}
\DoxyCodeLine{122         \mbox{\hyperlink{class_open_g_l_context_a5a3ece9be728d97e0343ae17a71f6562}{deactivateCurrentContext}}();}
\DoxyCodeLine{123     \}}
\DoxyCodeLine{124 }
\DoxyCodeLine{125     \textcolor{keywordtype}{bool} \mbox{\hyperlink{classjuce_1_1_open_g_l_context_1_1_native_context_a2ecb6616cf2f6245ca612926ca2abb36}{createdOk}}() \mbox{\hyperlink{zconf_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} noexcept             \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{class_open_g_l_context_a1993e86d7de92ade91f14b8023c5ac7c}{getRawContext}}() != \textcolor{keyword}{nullptr}; \}}
\DoxyCodeLine{126     \textcolor{keywordtype}{void}* \mbox{\hyperlink{classjuce_1_1_open_g_l_context_1_1_native_context_a257ae639ec056fd40dc2cdab4ce5b0a1}{getRawContext}}() \mbox{\hyperlink{zconf_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} noexcept        \{ \textcolor{keywordflow}{return} context; \}}
\DoxyCodeLine{127     \mbox{\hyperlink{group__juce__opengl-opengl_gaa311c7f0d6ec4f1a33f9235c3651b86b}{GLuint}} \mbox{\hyperlink{classjuce_1_1_open_g_l_context_1_1_native_context_a73edff45b80aff59be9d9d97f31ebf08}{getFrameBufferID}}() \mbox{\hyperlink{zconf_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} noexcept    \{ \textcolor{keywordflow}{return} useMSAA ? msaaBufferHandle : frameBufferHandle; \}}
\DoxyCodeLine{128 }
\DoxyCodeLine{129     \textcolor{keywordtype}{bool} \mbox{\hyperlink{classjuce_1_1_open_g_l_context_1_1_native_context_a19faa47bc4f990290a9bcf012dc52ffd}{makeActive}}() \mbox{\hyperlink{zconf_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} noexcept}
\DoxyCodeLine{130     \{}
\DoxyCodeLine{131         \textcolor{keywordflow}{if} (! [EAGLContext setCurrentContext: context])}
\DoxyCodeLine{132             \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{133 }
\DoxyCodeLine{134         glBindFramebuffer (\mbox{\hyperlink{namespacegl_a8bf4988cdccebe221fc345be71de61faa47a3f1732932d84bbffcd20a5d7c2ca0}{GL\_FRAMEBUFFER}}, useMSAA ? msaaBufferHandle}
\DoxyCodeLine{135                                                    : frameBufferHandle);}
\DoxyCodeLine{136         \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{137     \}}
\DoxyCodeLine{138 }
\DoxyCodeLine{139     \textcolor{keywordtype}{bool} \mbox{\hyperlink{classjuce_1_1_open_g_l_context_1_1_native_context_a5fcab534018251ab17a12b0955381247}{isActive}}() \mbox{\hyperlink{zconf_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} noexcept}
\DoxyCodeLine{140     \{}
\DoxyCodeLine{141         \textcolor{keywordflow}{return} [EAGLContext currentContext] == context;}
\DoxyCodeLine{142     \}}
\DoxyCodeLine{143 }
\DoxyCodeLine{144     \textcolor{keyword}{static} \textcolor{keywordtype}{void} \mbox{\hyperlink{classjuce_1_1_open_g_l_context_1_1_native_context_ac55d381f7cff0548693ce2248bae5be5}{deactivateCurrentContext}}()}
\DoxyCodeLine{145     \{}
\DoxyCodeLine{146         [EAGLContext setCurrentContext: nil];}
\DoxyCodeLine{147     \}}
\DoxyCodeLine{148 }
\DoxyCodeLine{149     \textcolor{keywordtype}{void} \mbox{\hyperlink{classjuce_1_1_open_g_l_context_1_1_native_context_a1464c376f70efa8d5302ffcd8c85e7fe}{swapBuffers}}()}
\DoxyCodeLine{150     \{}
\DoxyCodeLine{151         \textcolor{keywordflow}{if} (useMSAA)}
\DoxyCodeLine{152         \{}
\DoxyCodeLine{153             glBindFramebuffer (\mbox{\hyperlink{namespacegl_adc65c84ddd8830e15e01ed8bede467faa71fefc7921b7dcf21cbc7bf558654a69}{GL\_DRAW\_FRAMEBUFFER}}, frameBufferHandle);}
\DoxyCodeLine{154             glBindFramebuffer (\mbox{\hyperlink{namespacegl_adc65c84ddd8830e15e01ed8bede467faa9ec4e930a4942eabc324ba301f9c75fc}{GL\_READ\_FRAMEBUFFER}}, msaaBufferHandle);}
\DoxyCodeLine{155 }
\DoxyCodeLine{156             \textcolor{keywordflow}{if} (openGLversion >= \mbox{\hyperlink{class_open_g_l_context_a3a6b8eeed7dbc7c7c649528252c07d02a360335be2efbcff04897b872de9b8e45}{openGL3\_2}})}
\DoxyCodeLine{157             \{}
\DoxyCodeLine{158                 \textcolor{keyword}{auto} \mbox{\hyperlink{namespacegl_a4a17fbf5c7c6ae1f233cf4944a70237d}{w}} = \mbox{\hyperlink{group__juce__core-maths_gafe8eb86381d389f4ba9f9931a38e1a44}{roundToInt}} (lastBounds.getWidth()  * glLayer.contentsScale);}
\DoxyCodeLine{159                 \textcolor{keyword}{auto} \mbox{\hyperlink{namespacegl_ae0306c9e6aca74fac45e19b5f64f7ba7}{h}} = \mbox{\hyperlink{group__juce__core-maths_gafe8eb86381d389f4ba9f9931a38e1a44}{roundToInt}} (lastBounds.getHeight() * glLayer.contentsScale);}
\DoxyCodeLine{160 }
\DoxyCodeLine{161                 glBlitFramebuffer (0, 0, \mbox{\hyperlink{namespacegl_a4a17fbf5c7c6ae1f233cf4944a70237d}{w}}, \mbox{\hyperlink{namespacegl_ae0306c9e6aca74fac45e19b5f64f7ba7}{h}},}
\DoxyCodeLine{162                                    0, 0, \mbox{\hyperlink{namespacegl_a4a17fbf5c7c6ae1f233cf4944a70237d}{w}}, \mbox{\hyperlink{namespacegl_ae0306c9e6aca74fac45e19b5f64f7ba7}{h}},}
\DoxyCodeLine{163                                    \mbox{\hyperlink{namespacegl_a8bf4988cdccebe221fc345be71de61faadb34885cb3ff3f68264d11354b123e23}{GL\_COLOR\_BUFFER\_BIT}},}
\DoxyCodeLine{164                                    \mbox{\hyperlink{namespacegl_a8bf4988cdccebe221fc345be71de61faa1d39d73ea9ce64d78fa5efe675ce649b}{GL\_NEAREST}});}
\DoxyCodeLine{165             \}}
\DoxyCodeLine{166             \textcolor{keywordflow}{else}}
\DoxyCodeLine{167             \{}
\DoxyCodeLine{168                 \mbox{\hyperlink{juce___open_g_l__ios_8h_a8392affa81436701f1fbf6cb5f1a2a12}{::glResolveMultisampleFramebufferAPPLE}}();}
\DoxyCodeLine{169             \}}
\DoxyCodeLine{170         \}}
\DoxyCodeLine{171 }
\DoxyCodeLine{172         glBindRenderbuffer (\mbox{\hyperlink{namespacegl_a8bf4988cdccebe221fc345be71de61faa83e61896941c530d428796fd2371cd29}{GL\_RENDERBUFFER}}, colorBufferHandle);}
\DoxyCodeLine{173         [context presentRenderbuffer: GL\_RENDERBUFFER];}
\DoxyCodeLine{174 }
\DoxyCodeLine{175         \textcolor{keywordflow}{if} (needToRebuildBuffers)}
\DoxyCodeLine{176         \{}
\DoxyCodeLine{177             needToRebuildBuffers = \textcolor{keyword}{false};}
\DoxyCodeLine{178 }
\DoxyCodeLine{179             freeGLBuffers();}
\DoxyCodeLine{180             createGLBuffers();}
\DoxyCodeLine{181             \mbox{\hyperlink{class_open_g_l_context_a318c8cc5821b9b2b2a9f726c623385f8}{makeActive}}();}
\DoxyCodeLine{182         \}}
\DoxyCodeLine{183     \}}
\DoxyCodeLine{184 }
\DoxyCodeLine{185     \textcolor{keywordtype}{void} \mbox{\hyperlink{classjuce_1_1_open_g_l_context_1_1_native_context_abeb647e9b62dd9c3f44f9a4ddaebdb99}{updateWindowPosition}} (\mbox{\hyperlink{class_rectangle}{Rectangle<int>}} bounds)}
\DoxyCodeLine{186     \{}
\DoxyCodeLine{187         view.frame = convertToCGRect (bounds);}
\DoxyCodeLine{188         glLayer.contentsScale = (CGFloat) (\mbox{\hyperlink{class_desktop_aedeca95ef32376027263bd39c693eeda}{Desktop::getInstance}}().\mbox{\hyperlink{class_desktop_a024778a0833810513d24a44e7306d117}{getDisplays}}().\mbox{\hyperlink{class_displays_a9bf0b06e3918fbb21501389b82caacf5}{getPrimaryDisplay}}()-\/>\mbox{\hyperlink{struct_displays_1_1_display_a611a3fe584fa04e86538866af0e5d788}{scale}}}
\DoxyCodeLine{189                                             / component.getDesktopScaleFactor());}
\DoxyCodeLine{190 }
\DoxyCodeLine{191         \textcolor{keywordflow}{if} (lastBounds != bounds)}
\DoxyCodeLine{192         \{}
\DoxyCodeLine{193             lastBounds = bounds;}
\DoxyCodeLine{194             needToRebuildBuffers = \textcolor{keyword}{true};}
\DoxyCodeLine{195         \}}
\DoxyCodeLine{196     \}}
\DoxyCodeLine{197 }
\DoxyCodeLine{198     \textcolor{keywordtype}{bool} \mbox{\hyperlink{classjuce_1_1_open_g_l_context_1_1_native_context_a88e4ba841f51a5922ffc10833ac428df}{setSwapInterval}} (\textcolor{keywordtype}{int} numFramesPerSwap) \textcolor{keyword}{noexcept}}
\DoxyCodeLine{199     \{}
\DoxyCodeLine{200         swapFrames = numFramesPerSwap;}
\DoxyCodeLine{201         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{202     \}}
\DoxyCodeLine{203 }
\DoxyCodeLine{204     \textcolor{keywordtype}{int} \mbox{\hyperlink{classjuce_1_1_open_g_l_context_1_1_native_context_a5dc40d790acaf92864f163dea5e27a0d}{getSwapInterval}}() \mbox{\hyperlink{zconf_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} noexcept    \{ \textcolor{keywordflow}{return} swapFrames; \}}
\DoxyCodeLine{205 }
\DoxyCodeLine{206     \textcolor{keyword}{struct }\mbox{\hyperlink{structjuce_1_1_open_g_l_context_1_1_native_context_1_1_locker}{Locker}} \{ \mbox{\hyperlink{structjuce_1_1_open_g_l_context_1_1_native_context_1_1_locker_a7c74e61af684e05befa334a49c8e0be4}{Locker}} (\mbox{\hyperlink{classjuce_1_1_open_g_l_context_1_1_native_context}{NativeContext}}\&) \{\} \};}
\DoxyCodeLine{207 }
\DoxyCodeLine{208 \textcolor{keyword}{private}:}
\DoxyCodeLine{209     \mbox{\hyperlink{class_component}{Component}}\& component;}
\DoxyCodeLine{210     \mbox{\hyperlink{interface_juce_g_l_view}{JuceGLView}}* view = nil;}
\DoxyCodeLine{211     CAEAGLLayer* glLayer = nil;}
\DoxyCodeLine{212     EAGLContext* context = nil;}
\DoxyCodeLine{213     \textcolor{keyword}{const} OpenGLVersion openGLversion;}
\DoxyCodeLine{214     \textcolor{keyword}{const} \textcolor{keywordtype}{bool} useDepthBuffer, useMSAA;}
\DoxyCodeLine{215 }
\DoxyCodeLine{216     \mbox{\hyperlink{group__juce__opengl-opengl_gaa311c7f0d6ec4f1a33f9235c3651b86b}{GLuint}} frameBufferHandle = 0, colorBufferHandle = 0, depthBufferHandle = 0,}
\DoxyCodeLine{217            msaaColorHandle = 0, msaaBufferHandle = 0;}
\DoxyCodeLine{218 }
\DoxyCodeLine{219     \mbox{\hyperlink{class_rectangle}{Rectangle<int>}} lastBounds;}
\DoxyCodeLine{220     \textcolor{keywordtype}{int} swapFrames = 0;}
\DoxyCodeLine{221     \textcolor{keywordtype}{bool} needToRebuildBuffers = \textcolor{keyword}{false};}
\DoxyCodeLine{222 }
\DoxyCodeLine{223     \textcolor{keywordtype}{bool} createContext (EAGLRenderingAPI \mbox{\hyperlink{namespacegl_aeba9cad8d6b4f72e1da983fe48c14132}{type}}, \textcolor{keywordtype}{void}* contextToShare)}
\DoxyCodeLine{224     \{}
\DoxyCodeLine{225         \mbox{\hyperlink{group__juce__core-system_ga1f96ab6751237979b907a54f52a7296a}{jassert}} (context == nil);}
\DoxyCodeLine{226         context = [EAGLContext alloc];}
\DoxyCodeLine{227 }
\DoxyCodeLine{228         context = contextToShare != \textcolor{keyword}{nullptr}}
\DoxyCodeLine{229                     ? [context initWithAPI: type  sharegroup: [(EAGLContext*) contextToShare sharegroup]]}
\DoxyCodeLine{230                     : [context initWithAPI: type];}
\DoxyCodeLine{231 }
\DoxyCodeLine{232         \textcolor{keywordflow}{return} context != nil;}
\DoxyCodeLine{233     \}}
\DoxyCodeLine{234 }
\DoxyCodeLine{235     \textcolor{keywordtype}{void} releaseContext()}
\DoxyCodeLine{236     \{}
\DoxyCodeLine{237         [context release];}
\DoxyCodeLine{238         context = nil;}
\DoxyCodeLine{239     \}}
\DoxyCodeLine{240 }
\DoxyCodeLine{241     \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{242     \textcolor{keywordtype}{void} createGLBuffers()}
\DoxyCodeLine{243     \{}
\DoxyCodeLine{244         glGenFramebuffers (1, \&frameBufferHandle);}
\DoxyCodeLine{245         glGenRenderbuffers (1, \&colorBufferHandle);}
\DoxyCodeLine{246 }
\DoxyCodeLine{247         glBindFramebuffer (\mbox{\hyperlink{namespacegl_a8bf4988cdccebe221fc345be71de61faa47a3f1732932d84bbffcd20a5d7c2ca0}{GL\_FRAMEBUFFER}}, frameBufferHandle);}
\DoxyCodeLine{248         glBindRenderbuffer (\mbox{\hyperlink{namespacegl_a8bf4988cdccebe221fc345be71de61faa83e61896941c530d428796fd2371cd29}{GL\_RENDERBUFFER}}, colorBufferHandle);}
\DoxyCodeLine{249 }
\DoxyCodeLine{250         glFramebufferRenderbuffer (\mbox{\hyperlink{namespacegl_a8bf4988cdccebe221fc345be71de61faa47a3f1732932d84bbffcd20a5d7c2ca0}{GL\_FRAMEBUFFER}}, \mbox{\hyperlink{namespacegl_a8bf4988cdccebe221fc345be71de61faadb97df5ce562fadc72b6ccf759e98eae}{GL\_COLOR\_ATTACHMENT0}}, \mbox{\hyperlink{namespacegl_a8bf4988cdccebe221fc345be71de61faa83e61896941c530d428796fd2371cd29}{GL\_RENDERBUFFER}}, colorBufferHandle);}
\DoxyCodeLine{251 }
\DoxyCodeLine{252         \textcolor{keywordtype}{bool} ok = [context renderbufferStorage: GL\_RENDERBUFFER fromDrawable: glLayer];}
\DoxyCodeLine{253         \mbox{\hyperlink{group__juce__core-system_ga1f96ab6751237979b907a54f52a7296a}{jassert}} (ok); \mbox{\hyperlink{group__juce__core-maths_ga5158e6e8faa5553204f90af596fafaf5}{ignoreUnused}} (ok);}
\DoxyCodeLine{254 }
\DoxyCodeLine{255         \mbox{\hyperlink{group__juce__opengl-opengl_ga5ac0f3c4d7fafd42b284b5487a791017}{GLint}} \mbox{\hyperlink{png_8h_ad46179dbe9c68fdcea52b34c3480ec0f}{width}}, \mbox{\hyperlink{namespacegl_a33074d1196a1300c7cee5c0e42fa5cf8}{height}};}
\DoxyCodeLine{256         glGetRenderbufferParameteriv (\mbox{\hyperlink{namespacegl_a8bf4988cdccebe221fc345be71de61faa83e61896941c530d428796fd2371cd29}{GL\_RENDERBUFFER}}, \mbox{\hyperlink{namespacegl_a8bf4988cdccebe221fc345be71de61faa5a234c0412c59a46292a17cad8286e05}{GL\_RENDERBUFFER\_WIDTH}}, \&\mbox{\hyperlink{png_8h_ad46179dbe9c68fdcea52b34c3480ec0f}{width}});}
\DoxyCodeLine{257         glGetRenderbufferParameteriv (\mbox{\hyperlink{namespacegl_a8bf4988cdccebe221fc345be71de61faa83e61896941c530d428796fd2371cd29}{GL\_RENDERBUFFER}}, \mbox{\hyperlink{namespacegl_a8bf4988cdccebe221fc345be71de61faad27f73e849f62a54508f132feab87443}{GL\_RENDERBUFFER\_HEIGHT}}, \&\mbox{\hyperlink{namespacegl_a33074d1196a1300c7cee5c0e42fa5cf8}{height}});}
\DoxyCodeLine{258 }
\DoxyCodeLine{259         \textcolor{keywordflow}{if} (useMSAA)}
\DoxyCodeLine{260         \{}
\DoxyCodeLine{261             glGenFramebuffers (1, \&msaaBufferHandle);}
\DoxyCodeLine{262             glGenRenderbuffers (1, \&msaaColorHandle);}
\DoxyCodeLine{263 }
\DoxyCodeLine{264             glBindFramebuffer (\mbox{\hyperlink{namespacegl_a8bf4988cdccebe221fc345be71de61faa47a3f1732932d84bbffcd20a5d7c2ca0}{GL\_FRAMEBUFFER}}, msaaBufferHandle);}
\DoxyCodeLine{265             glBindRenderbuffer (\mbox{\hyperlink{namespacegl_a8bf4988cdccebe221fc345be71de61faa83e61896941c530d428796fd2371cd29}{GL\_RENDERBUFFER}}, msaaColorHandle);}
\DoxyCodeLine{266 }
\DoxyCodeLine{267             glRenderbufferStorageMultisample (\mbox{\hyperlink{namespacegl_a8bf4988cdccebe221fc345be71de61faa83e61896941c530d428796fd2371cd29}{GL\_RENDERBUFFER}}, 4, \mbox{\hyperlink{namespacegl_adc65c84ddd8830e15e01ed8bede467faa3a60abf7bf1660966d9c13b2a4dfb96e}{GL\_RGBA8}}, \mbox{\hyperlink{png_8h_ad46179dbe9c68fdcea52b34c3480ec0f}{width}}, \mbox{\hyperlink{namespacegl_a33074d1196a1300c7cee5c0e42fa5cf8}{height}});}
\DoxyCodeLine{268 }
\DoxyCodeLine{269             glFramebufferRenderbuffer (\mbox{\hyperlink{namespacegl_a8bf4988cdccebe221fc345be71de61faa47a3f1732932d84bbffcd20a5d7c2ca0}{GL\_FRAMEBUFFER}}, \mbox{\hyperlink{namespacegl_a8bf4988cdccebe221fc345be71de61faadb97df5ce562fadc72b6ccf759e98eae}{GL\_COLOR\_ATTACHMENT0}}, \mbox{\hyperlink{namespacegl_a8bf4988cdccebe221fc345be71de61faa83e61896941c530d428796fd2371cd29}{GL\_RENDERBUFFER}}, msaaColorHandle);}
\DoxyCodeLine{270         \}}
\DoxyCodeLine{271 }
\DoxyCodeLine{272         \textcolor{keywordflow}{if} (useDepthBuffer)}
\DoxyCodeLine{273         \{}
\DoxyCodeLine{274             glGenRenderbuffers (1, \&depthBufferHandle);}
\DoxyCodeLine{275             glBindRenderbuffer (\mbox{\hyperlink{namespacegl_a8bf4988cdccebe221fc345be71de61faa83e61896941c530d428796fd2371cd29}{GL\_RENDERBUFFER}}, depthBufferHandle);}
\DoxyCodeLine{276 }
\DoxyCodeLine{277             \textcolor{keywordflow}{if} (useMSAA)}
\DoxyCodeLine{278                 glRenderbufferStorageMultisample (\mbox{\hyperlink{namespacegl_a8bf4988cdccebe221fc345be71de61faa83e61896941c530d428796fd2371cd29}{GL\_RENDERBUFFER}}, 4, \mbox{\hyperlink{namespacegl_a8bf4988cdccebe221fc345be71de61faa115c6a4d18c9d333de22e1e652d3deb7}{GL\_DEPTH\_COMPONENT16}}, \mbox{\hyperlink{png_8h_ad46179dbe9c68fdcea52b34c3480ec0f}{width}}, \mbox{\hyperlink{namespacegl_a33074d1196a1300c7cee5c0e42fa5cf8}{height}});}
\DoxyCodeLine{279             \textcolor{keywordflow}{else}}
\DoxyCodeLine{280                 glRenderbufferStorage (\mbox{\hyperlink{namespacegl_a8bf4988cdccebe221fc345be71de61faa83e61896941c530d428796fd2371cd29}{GL\_RENDERBUFFER}}, \mbox{\hyperlink{namespacegl_a8bf4988cdccebe221fc345be71de61faa115c6a4d18c9d333de22e1e652d3deb7}{GL\_DEPTH\_COMPONENT16}}, \mbox{\hyperlink{png_8h_ad46179dbe9c68fdcea52b34c3480ec0f}{width}}, \mbox{\hyperlink{namespacegl_a33074d1196a1300c7cee5c0e42fa5cf8}{height}});}
\DoxyCodeLine{281 }
\DoxyCodeLine{282             glFramebufferRenderbuffer (\mbox{\hyperlink{namespacegl_a8bf4988cdccebe221fc345be71de61faa47a3f1732932d84bbffcd20a5d7c2ca0}{GL\_FRAMEBUFFER}}, \mbox{\hyperlink{namespacegl_a8bf4988cdccebe221fc345be71de61faaf1a681b44cbb683bbff8a92dfbb1def0}{GL\_DEPTH\_ATTACHMENT}}, \mbox{\hyperlink{namespacegl_a8bf4988cdccebe221fc345be71de61faa83e61896941c530d428796fd2371cd29}{GL\_RENDERBUFFER}}, depthBufferHandle);}
\DoxyCodeLine{283         \}}
\DoxyCodeLine{284 }
\DoxyCodeLine{285         \mbox{\hyperlink{group__juce__core-system_ga1f96ab6751237979b907a54f52a7296a}{jassert}} (glCheckFramebufferStatus (\mbox{\hyperlink{namespacegl_a8bf4988cdccebe221fc345be71de61faa47a3f1732932d84bbffcd20a5d7c2ca0}{GL\_FRAMEBUFFER}}) == \mbox{\hyperlink{namespacegl_a8bf4988cdccebe221fc345be71de61faaa107d2da27279fff14fdad5d25db41cf}{GL\_FRAMEBUFFER\_COMPLETE}});}
\DoxyCodeLine{286         \mbox{\hyperlink{juce__opengl_8cpp_aeed6f55b8275158a5c6ebf905f785e52}{JUCE\_CHECK\_OPENGL\_ERROR}}}
\DoxyCodeLine{287     \}}
\DoxyCodeLine{288 }
\DoxyCodeLine{289     \textcolor{keywordtype}{void} freeGLBuffers()}
\DoxyCodeLine{290     \{}
\DoxyCodeLine{291         \mbox{\hyperlink{juce__opengl_8cpp_aeed6f55b8275158a5c6ebf905f785e52}{JUCE\_CHECK\_OPENGL\_ERROR}}}
\DoxyCodeLine{292         [context renderbufferStorage: GL\_RENDERBUFFER fromDrawable: nil];}
\DoxyCodeLine{293 }
\DoxyCodeLine{294         deleteFrameBuffer (frameBufferHandle);}
\DoxyCodeLine{295         deleteFrameBuffer (msaaBufferHandle);}
\DoxyCodeLine{296         deleteRenderBuffer (colorBufferHandle);}
\DoxyCodeLine{297         deleteRenderBuffer (depthBufferHandle);}
\DoxyCodeLine{298         deleteRenderBuffer (msaaColorHandle);}
\DoxyCodeLine{299 }
\DoxyCodeLine{300         \mbox{\hyperlink{juce__opengl_8cpp_aeed6f55b8275158a5c6ebf905f785e52}{JUCE\_CHECK\_OPENGL\_ERROR}}}
\DoxyCodeLine{301     \}}
\DoxyCodeLine{302 }
\DoxyCodeLine{303     \textcolor{keyword}{static} \textcolor{keywordtype}{void} deleteFrameBuffer  (\mbox{\hyperlink{group__juce__opengl-opengl_gaa311c7f0d6ec4f1a33f9235c3651b86b}{GLuint}}\& i)   \{ \textcolor{keywordflow}{if} (i != 0) glDeleteFramebuffers  (1, \&i); i = 0; \}}
\DoxyCodeLine{304     \textcolor{keyword}{static} \textcolor{keywordtype}{void} deleteRenderBuffer (\mbox{\hyperlink{group__juce__opengl-opengl_gaa311c7f0d6ec4f1a33f9235c3651b86b}{GLuint}}\& i)   \{ \textcolor{keywordflow}{if} (i != 0) glDeleteRenderbuffers (1, \&i); i = 0; \}}
\DoxyCodeLine{305 }
\DoxyCodeLine{306     \mbox{\hyperlink{group__juce__core-system_ga851b02724a8158a7f746c66b5758b3dd}{JUCE\_DECLARE\_NON\_COPYABLE\_WITH\_LEAK\_DETECTOR}} (NativeContext)}
\DoxyCodeLine{307 \};}
\DoxyCodeLine{308 }
\DoxyCodeLine{309 \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{310 \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_open_g_l_helpers_a73632afa87e775c2d1dcbd4f2ac3ad13}{OpenGLHelpers::isContextActive}}()}
\DoxyCodeLine{311 \{}
\DoxyCodeLine{312     \textcolor{keywordflow}{return} [EAGLContext currentContext] != nil;}
\DoxyCodeLine{313 \}}
\DoxyCodeLine{314 }
\DoxyCodeLine{315 \} \textcolor{comment}{// namespace juce}}

\end{DoxyCode}
