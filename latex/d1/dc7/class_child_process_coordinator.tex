\hypertarget{class_child_process_coordinator}{}\doxysection{Child\+Process\+Coordinator Class Reference}
\label{class_child_process_coordinator}\index{ChildProcessCoordinator@{ChildProcessCoordinator}}


{\ttfamily \#include $<$juce\+\_\+\+Connected\+Child\+Process.\+h$>$}

\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_child_process_coordinator_ae87c64b4c53e519d5c1e92471f613893}{Child\+Process\+Coordinator}} ()
\item 
virtual \mbox{\hyperlink{class_child_process_coordinator_a67396d7e3c4fda74501c13cf20b3e275}{$\sim$\+Child\+Process\+Coordinator}} ()
\item 
bool \mbox{\hyperlink{class_child_process_coordinator_a577bc423e513199e77563a9ae09598ea}{launch\+Worker\+Process}} (\mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{class_file}{File}} \&executable\+To\+Launch, \mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{class_string}{String}} \&command\+Line\+Unique\+ID, \mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} timeout\+Ms=0, \mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} stream\+Flags=\mbox{\hyperlink{class_child_process_a9e7be158550b4d2a470e4cceef501892abb52a8d118b221d35bc924efb9f48573}{Child\+Process\+::want\+Std\+Out}}$\vert$\mbox{\hyperlink{class_child_process_a9e7be158550b4d2a470e4cceef501892a99e96160b71df9cd65473f410ac7090e}{Child\+Process\+::want\+Std\+Err}})
\item 
bool \mbox{\hyperlink{class_child_process_coordinator_ac372fa27d0cb60d56c023a54697e6d23}{launch\+Slave\+Process}} (\mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{class_file}{File}} \&executable\+To\+Launch, \mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{class_string}{String}} \&command\+Line\+Unique\+ID, \mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} timeout\+Ms=0, \mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} stream\+Flags=\mbox{\hyperlink{class_child_process_a9e7be158550b4d2a470e4cceef501892abb52a8d118b221d35bc924efb9f48573}{Child\+Process\+::want\+Std\+Out}}$\vert$\mbox{\hyperlink{class_child_process_a9e7be158550b4d2a470e4cceef501892a99e96160b71df9cd65473f410ac7090e}{Child\+Process\+::want\+Std\+Err}})
\item 
\mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} \mbox{\hyperlink{class_child_process_coordinator_aaa98c94ef58f812bf60ec29832dc2cad}{kill\+Worker\+Process}} ()
\item 
\mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} \mbox{\hyperlink{class_child_process_coordinator_af187fcd2042275159dcde3197fb12e74}{kill\+Slave\+Process}} ()
\item 
virtual \mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} \mbox{\hyperlink{class_child_process_coordinator_ae1fea851bd6acf14c7605a5696802324}{handle\+Message\+From\+Worker}} (\mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{class_memory_block}{Memory\+Block}} \&)
\item 
virtual \mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} \mbox{\hyperlink{class_child_process_coordinator_a65523a503d0948af03aa10d867a90a55}{handle\+Message\+From\+Slave}} (\mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{class_memory_block}{Memory\+Block}} \&)
\item 
virtual \mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} \mbox{\hyperlink{class_child_process_coordinator_af2a8911a6dadd6a824de7cd11188a46a}{handle\+Connection\+Lost}} ()
\item 
bool \mbox{\hyperlink{class_child_process_coordinator_a4b3de09d69e1ac2ed5fa4f2af35d18f6}{send\+Message\+To\+Worker}} (\mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{class_memory_block}{Memory\+Block}} \&)
\item 
bool \mbox{\hyperlink{class_child_process_coordinator_a52982bdb12f4d435cd2c83f1dbfd65c8}{send\+Message\+To\+Slave}} (\mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{class_memory_block}{Memory\+Block}} \&mb)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Acts as the coordinator in a coordinator/worker pair of connected processes.

The \mbox{\hyperlink{class_child_process_worker}{Child\+Process\+Worker}} and \mbox{\hyperlink{class_child_process_coordinator}{Child\+Process\+Coordinator}} classes make it easy for an app to spawn a child process, and to manage a 2-\/way messaging connection to control it.

To use the system, you need to create subclasses of both \mbox{\hyperlink{class_child_process_worker}{Child\+Process\+Worker}} and \mbox{\hyperlink{class_child_process_coordinator}{Child\+Process\+Coordinator}}. When you want your coordinator process to launch the worker, you just call \mbox{\hyperlink{class_child_process_coordinator_a577bc423e513199e77563a9ae09598ea}{launch\+Worker\+Process()}}, and it\textquotesingle{}ll attempt to launch the executable that you specify (which may be the same exe), and assuming it has been set-\/up to correctly parse the command-\/line parameters (see \mbox{\hyperlink{class_child_process_worker}{Child\+Process\+Worker}}) then a two-\/way connection will be created.

The juce demo app has a good example of this class in action.

\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{class_child_process_worker}{Child\+Process\+Worker}}, \mbox{\hyperlink{class_interprocess_connection}{Interprocess\+Connection}}, \mbox{\hyperlink{class_child_process}{Child\+Process}}
\end{DoxySeeAlso}
@tags\{Events\} 

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_child_process_coordinator_ae87c64b4c53e519d5c1e92471f613893}\label{class_child_process_coordinator_ae87c64b4c53e519d5c1e92471f613893}} 
\index{ChildProcessCoordinator@{ChildProcessCoordinator}!ChildProcessCoordinator@{ChildProcessCoordinator}}
\index{ChildProcessCoordinator@{ChildProcessCoordinator}!ChildProcessCoordinator@{ChildProcessCoordinator}}
\doxysubsubsection{\texorpdfstring{ChildProcessCoordinator()}{ChildProcessCoordinator()}}
{\footnotesize\ttfamily Child\+Process\+Coordinator\+::\+Child\+Process\+Coordinator (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Creates an uninitialised coordinator process object. Use launch\+Worker\+Process to launch and connect to a child process. \mbox{\Hypertarget{class_child_process_coordinator_a67396d7e3c4fda74501c13cf20b3e275}\label{class_child_process_coordinator_a67396d7e3c4fda74501c13cf20b3e275}} 
\index{ChildProcessCoordinator@{ChildProcessCoordinator}!````~ChildProcessCoordinator@{$\sim$ChildProcessCoordinator}}
\index{````~ChildProcessCoordinator@{$\sim$ChildProcessCoordinator}!ChildProcessCoordinator@{ChildProcessCoordinator}}
\doxysubsubsection{\texorpdfstring{$\sim$ChildProcessCoordinator()}{~ChildProcessCoordinator()}}
{\footnotesize\ttfamily virtual Child\+Process\+Coordinator\+::$\sim$\+Child\+Process\+Coordinator (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

Destructor. Note that the destructor calls \mbox{\hyperlink{class_child_process_coordinator_aaa98c94ef58f812bf60ec29832dc2cad}{kill\+Worker\+Process()}}, but doesn\textquotesingle{}t wait for the child process to finish terminating. 

\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_child_process_coordinator_af2a8911a6dadd6a824de7cd11188a46a}\label{class_child_process_coordinator_af2a8911a6dadd6a824de7cd11188a46a}} 
\index{ChildProcessCoordinator@{ChildProcessCoordinator}!handleConnectionLost@{handleConnectionLost}}
\index{handleConnectionLost@{handleConnectionLost}!ChildProcessCoordinator@{ChildProcessCoordinator}}
\doxysubsubsection{\texorpdfstring{handleConnectionLost()}{handleConnectionLost()}}
{\footnotesize\ttfamily virtual \mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} Child\+Process\+Coordinator\+::handle\+Connection\+Lost (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

This will be called when the worker process dies or is somehow disconnected. The call will probably be made on a background thread, so be careful with your thread-\/safety! \mbox{\Hypertarget{class_child_process_coordinator_a65523a503d0948af03aa10d867a90a55}\label{class_child_process_coordinator_a65523a503d0948af03aa10d867a90a55}} 
\index{ChildProcessCoordinator@{ChildProcessCoordinator}!handleMessageFromSlave@{handleMessageFromSlave}}
\index{handleMessageFromSlave@{handleMessageFromSlave}!ChildProcessCoordinator@{ChildProcessCoordinator}}
\doxysubsubsection{\texorpdfstring{handleMessageFromSlave()}{handleMessageFromSlave()}}
{\footnotesize\ttfamily virtual \mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} Child\+Process\+Coordinator\+::handle\+Message\+From\+Slave (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{class_memory_block}{Memory\+Block}} \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}

\mbox{\Hypertarget{class_child_process_coordinator_ae1fea851bd6acf14c7605a5696802324}\label{class_child_process_coordinator_ae1fea851bd6acf14c7605a5696802324}} 
\index{ChildProcessCoordinator@{ChildProcessCoordinator}!handleMessageFromWorker@{handleMessageFromWorker}}
\index{handleMessageFromWorker@{handleMessageFromWorker}!ChildProcessCoordinator@{ChildProcessCoordinator}}
\doxysubsubsection{\texorpdfstring{handleMessageFromWorker()}{handleMessageFromWorker()}}
{\footnotesize\ttfamily virtual \mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} Child\+Process\+Coordinator\+::handle\+Message\+From\+Worker (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{class_memory_block}{Memory\+Block}} \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

This will be called to deliver a message from the worker process. The call will probably be made on a background thread, so be careful with your thread-\/safety! \mbox{\Hypertarget{class_child_process_coordinator_af187fcd2042275159dcde3197fb12e74}\label{class_child_process_coordinator_af187fcd2042275159dcde3197fb12e74}} 
\index{ChildProcessCoordinator@{ChildProcessCoordinator}!killSlaveProcess@{killSlaveProcess}}
\index{killSlaveProcess@{killSlaveProcess}!ChildProcessCoordinator@{ChildProcessCoordinator}}
\doxysubsubsection{\texorpdfstring{killSlaveProcess()}{killSlaveProcess()}}
{\footnotesize\ttfamily \mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} Child\+Process\+Coordinator\+::kill\+Slave\+Process (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

\mbox{\Hypertarget{class_child_process_coordinator_aaa98c94ef58f812bf60ec29832dc2cad}\label{class_child_process_coordinator_aaa98c94ef58f812bf60ec29832dc2cad}} 
\index{ChildProcessCoordinator@{ChildProcessCoordinator}!killWorkerProcess@{killWorkerProcess}}
\index{killWorkerProcess@{killWorkerProcess}!ChildProcessCoordinator@{ChildProcessCoordinator}}
\doxysubsubsection{\texorpdfstring{killWorkerProcess()}{killWorkerProcess()}}
{\footnotesize\ttfamily \mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} Child\+Process\+Coordinator\+::kill\+Worker\+Process (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Sends a kill message to the worker, and disconnects from it. Note that this won\textquotesingle{}t wait for it to terminate. \mbox{\Hypertarget{class_child_process_coordinator_ac372fa27d0cb60d56c023a54697e6d23}\label{class_child_process_coordinator_ac372fa27d0cb60d56c023a54697e6d23}} 
\index{ChildProcessCoordinator@{ChildProcessCoordinator}!launchSlaveProcess@{launchSlaveProcess}}
\index{launchSlaveProcess@{launchSlaveProcess}!ChildProcessCoordinator@{ChildProcessCoordinator}}
\doxysubsubsection{\texorpdfstring{launchSlaveProcess()}{launchSlaveProcess()}}
{\footnotesize\ttfamily bool Child\+Process\+Coordinator\+::launch\+Slave\+Process (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{class_file}{File}} \&}]{executable\+To\+Launch,  }\item[{\mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{class_string}{String}} \&}]{command\+Line\+Unique\+ID,  }\item[{\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}}}]{timeout\+Ms = {\ttfamily 0},  }\item[{\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}}}]{stream\+Flags = {\ttfamily \mbox{\hyperlink{class_child_process_a9e7be158550b4d2a470e4cceef501892abb52a8d118b221d35bc924efb9f48573}{Child\+Process\+::want\+Std\+Out}}~$\vert$~\mbox{\hyperlink{class_child_process_a9e7be158550b4d2a470e4cceef501892a99e96160b71df9cd65473f410ac7090e}{Child\+Process\+::want\+Std\+Err}}} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

\mbox{\Hypertarget{class_child_process_coordinator_a577bc423e513199e77563a9ae09598ea}\label{class_child_process_coordinator_a577bc423e513199e77563a9ae09598ea}} 
\index{ChildProcessCoordinator@{ChildProcessCoordinator}!launchWorkerProcess@{launchWorkerProcess}}
\index{launchWorkerProcess@{launchWorkerProcess}!ChildProcessCoordinator@{ChildProcessCoordinator}}
\doxysubsubsection{\texorpdfstring{launchWorkerProcess()}{launchWorkerProcess()}}
{\footnotesize\ttfamily bool Child\+Process\+Coordinator\+::launch\+Worker\+Process (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{class_file}{File}} \&}]{executable\+To\+Launch,  }\item[{\mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{class_string}{String}} \&}]{command\+Line\+Unique\+ID,  }\item[{\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}}}]{timeout\+Ms = {\ttfamily 0},  }\item[{\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}}}]{stream\+Flags = {\ttfamily \mbox{\hyperlink{class_child_process_a9e7be158550b4d2a470e4cceef501892abb52a8d118b221d35bc924efb9f48573}{Child\+Process\+::want\+Std\+Out}}$\vert$\mbox{\hyperlink{class_child_process_a9e7be158550b4d2a470e4cceef501892a99e96160b71df9cd65473f410ac7090e}{Child\+Process\+::want\+Std\+Err}}} }\end{DoxyParamCaption})}

Attempts to launch and connect to a worker process. This will start the given executable, passing it a special command-\/line parameter based around the command\+Line\+Unique\+ID string, which must be a short alphanumeric string (no spaces!) that identifies your app. The exe that gets launched must respond by calling \mbox{\hyperlink{class_child_process_worker_af91c21f46e434889ce6867814b36f7a9}{Child\+Process\+Worker\+::initialise\+From\+Command\+Line()}} in its startup code, and must use a matching ID to command\+Line\+Unique\+ID.

The timeout\+Ms parameter lets you specify how long the child process is allowed to go without sending a ping before it is considered to have died and \mbox{\hyperlink{class_child_process_coordinator_af2a8911a6dadd6a824de7cd11188a46a}{handle\+Connection\+Lost()}} will be called. Passing \texorpdfstring{$<$}{<}= 0 for this timeout makes it use a default value.

If this all works, the method returns true, and you can begin sending and receiving messages with the worker process.

If a child process is already running, this will call \mbox{\hyperlink{class_child_process_coordinator_aaa98c94ef58f812bf60ec29832dc2cad}{kill\+Worker\+Process()}} and start a new one. \mbox{\Hypertarget{class_child_process_coordinator_a52982bdb12f4d435cd2c83f1dbfd65c8}\label{class_child_process_coordinator_a52982bdb12f4d435cd2c83f1dbfd65c8}} 
\index{ChildProcessCoordinator@{ChildProcessCoordinator}!sendMessageToSlave@{sendMessageToSlave}}
\index{sendMessageToSlave@{sendMessageToSlave}!ChildProcessCoordinator@{ChildProcessCoordinator}}
\doxysubsubsection{\texorpdfstring{sendMessageToSlave()}{sendMessageToSlave()}}
{\footnotesize\ttfamily bool Child\+Process\+Coordinator\+::send\+Message\+To\+Slave (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{class_memory_block}{Memory\+Block}} \&}]{mb }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

\mbox{\Hypertarget{class_child_process_coordinator_a4b3de09d69e1ac2ed5fa4f2af35d18f6}\label{class_child_process_coordinator_a4b3de09d69e1ac2ed5fa4f2af35d18f6}} 
\index{ChildProcessCoordinator@{ChildProcessCoordinator}!sendMessageToWorker@{sendMessageToWorker}}
\index{sendMessageToWorker@{sendMessageToWorker}!ChildProcessCoordinator@{ChildProcessCoordinator}}
\doxysubsubsection{\texorpdfstring{sendMessageToWorker()}{sendMessageToWorker()}}
{\footnotesize\ttfamily bool Child\+Process\+Coordinator\+::send\+Message\+To\+Worker (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{class_memory_block}{Memory\+Block}} \&}]{ }\end{DoxyParamCaption})}

Attempts to send a message to the worker process. This returns true if the message was dispatched, but doesn\textquotesingle{}t check that it actually gets delivered at the other end. If successful, the data will emerge in a call to your \mbox{\hyperlink{class_child_process_worker_a38f00d138b959b8d3285e99bd107653d}{Child\+Process\+Worker\+::handle\+Message\+From\+Coordinator()}}. 

The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
build/juce\+\_\+events/interprocess/\mbox{\hyperlink{juce___connected_child_process_8h}{juce\+\_\+\+Connected\+Child\+Process.\+h}}\end{DoxyCompactItemize}
