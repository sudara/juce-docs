\hypertarget{class_abstract_fifo}{}\doxysection{Abstract\+Fifo Class Reference}
\label{class_abstract_fifo}\index{AbstractFifo@{AbstractFifo}}


{\ttfamily \#include $<$juce\+\_\+\+Abstract\+Fifo.\+h$>$}

\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{class_abstract_fifo_1_1_scoped_read_write}{Scoped\+Read\+Write}}
\end{DoxyCompactItemize}
\doxysubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
using \mbox{\hyperlink{class_abstract_fifo_a350395d221c77cbf5ede3dc3fb7e94a5}{Scoped\+Read}} = \mbox{\hyperlink{class_abstract_fifo_1_1_scoped_read_write}{Scoped\+Read\+Write}}$<$ Read\+Or\+Write\+::read $>$
\item 
using \mbox{\hyperlink{class_abstract_fifo_ac3afb176f8bf6530586412c1b9f661c2}{Scoped\+Write}} = \mbox{\hyperlink{class_abstract_fifo_1_1_scoped_read_write}{Scoped\+Read\+Write}}$<$ Read\+Or\+Write\+::write $>$
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_abstract_fifo_accd680c366b4b8ca4f30ee8fb2b37b75}{Abstract\+Fifo}} (\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} capacity) noexcept
\item 
\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} \mbox{\hyperlink{class_abstract_fifo_a7724b664c3aae6cbaad1a3821ccaf654}{get\+Total\+Size}} () \mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} noexcept
\item 
\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} \mbox{\hyperlink{class_abstract_fifo_aeb68b5aec74f6511c76df390eda588ee}{get\+Free\+Space}} () \mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} noexcept
\item 
\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} \mbox{\hyperlink{class_abstract_fifo_a39ab3206298a1aabb4412a6993b4023b}{get\+Num\+Ready}} () \mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} noexcept
\item 
\mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} \mbox{\hyperlink{class_abstract_fifo_a33ba0f93c22c9cc182f8fa78af07862f}{reset}} () noexcept
\item 
\mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} \mbox{\hyperlink{class_abstract_fifo_a5ece35129a957c8783411de69b2542ec}{set\+Total\+Size}} (\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} new\+Size) noexcept
\item 
\mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} \mbox{\hyperlink{class_abstract_fifo_a9f32996a86817773a7165be823f80c87}{prepare\+To\+Write}} (\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} num\+To\+Write, \mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} \&start\+Index1, \mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} \&block\+Size1, \mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} \&start\+Index2, \mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} \&block\+Size2) \mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} noexcept
\item 
\mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} \mbox{\hyperlink{class_abstract_fifo_a0daf6067beb737a4136e7e9d8f26bab0}{finished\+Write}} (\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} num\+Written) noexcept
\item 
\mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} \mbox{\hyperlink{class_abstract_fifo_a880ae9f1e0a08f3c0cfe95f03b279f96}{prepare\+To\+Read}} (\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} num\+Wanted, \mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} \&start\+Index1, \mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} \&block\+Size1, \mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} \&start\+Index2, \mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} \&block\+Size2) \mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} noexcept
\item 
\mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} \mbox{\hyperlink{class_abstract_fifo_a651019308fd148a1d1a84947d57e1679}{finished\+Read}} (\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} num\+Read) noexcept
\item 
\mbox{\hyperlink{class_abstract_fifo_a350395d221c77cbf5ede3dc3fb7e94a5}{Scoped\+Read}} \mbox{\hyperlink{class_abstract_fifo_add5556f3b984af78eb02a35414bb8fcd}{read}} (\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} num\+To\+Read) noexcept
\item 
\mbox{\hyperlink{class_abstract_fifo_ac3afb176f8bf6530586412c1b9f661c2}{Scoped\+Write}} \mbox{\hyperlink{class_abstract_fifo_aba59378c31321700b1b134c981877b0d}{write}} (\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} num\+To\+Write) noexcept
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Encapsulates the logic required to implement a lock-\/free FIFO.

This class handles the logic needed when building a single-\/reader, single-\/writer FIFO.

It doesn\textquotesingle{}t actually hold any data itself, but your FIFO class can use one of these to manage its position and status when reading or writing to it.

To use it, you can call \mbox{\hyperlink{class_abstract_fifo_a9f32996a86817773a7165be823f80c87}{prepare\+To\+Write()}} to determine the position within your own buffer that an incoming block of data should be stored, and \mbox{\hyperlink{class_abstract_fifo_a880ae9f1e0a08f3c0cfe95f03b279f96}{prepare\+To\+Read()}} to find out when the next outgoing block should be read from.

e.\+g. 
\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keyword}{struct }MyFifo}
\DoxyCodeLine{\{}
\DoxyCodeLine{    \textcolor{keywordtype}{void} addToFifo (\textcolor{keyword}{const} \textcolor{keywordtype}{int}* someData, \textcolor{keywordtype}{int} numItems)}
\DoxyCodeLine{    \{}
\DoxyCodeLine{        \textcolor{keyword}{const} \textcolor{keyword}{auto} scope = abstractFifo.write (numItems);}
\DoxyCodeLine{}
\DoxyCodeLine{        \textcolor{keywordflow}{if} (scope.blockSize1 > 0)}
\DoxyCodeLine{            copySomeData (myBuffer + scope.startIndex1, someData, scope.blockSize1);}
\DoxyCodeLine{}
\DoxyCodeLine{        \textcolor{keywordflow}{if} (scope.blockSize2 > 0)}
\DoxyCodeLine{            copySomeData (myBuffer + scope.startIndex2, someData, scope.blockSize2);}
\DoxyCodeLine{    \}}
\DoxyCodeLine{}
\DoxyCodeLine{    \textcolor{keywordtype}{void} readFromFifo (\textcolor{keywordtype}{int}* someData, \textcolor{keywordtype}{int} numItems)}
\DoxyCodeLine{    \{}
\DoxyCodeLine{        \textcolor{keyword}{const} \textcolor{keyword}{auto} scope = abstractFifo.read (numItems);}
\DoxyCodeLine{}
\DoxyCodeLine{        \textcolor{keywordflow}{if} (scope.blockSize1 > 0)}
\DoxyCodeLine{            copySomeData (someData, myBuffer + scope.startIndex1, scope.blockSize1);}
\DoxyCodeLine{}
\DoxyCodeLine{        \textcolor{keywordflow}{if} (scope.blockSize2 > 0)}
\DoxyCodeLine{            copySomeData (someData + scope.blockSize1, myBuffer + scope.startIndex2, scope.blockSize2);}
\DoxyCodeLine{    \}}
\DoxyCodeLine{}
\DoxyCodeLine{    \mbox{\hyperlink{class_abstract_fifo}{AbstractFifo}} abstractFifo \{ 1024 \};}
\DoxyCodeLine{    \textcolor{keywordtype}{int} myBuffer[1024];}
\DoxyCodeLine{\};}

\end{DoxyCode}


@tags\{Core\} 

\doxysubsection{Member Typedef Documentation}
\mbox{\Hypertarget{class_abstract_fifo_a350395d221c77cbf5ede3dc3fb7e94a5}\label{class_abstract_fifo_a350395d221c77cbf5ede3dc3fb7e94a5}} 
\index{AbstractFifo@{AbstractFifo}!ScopedRead@{ScopedRead}}
\index{ScopedRead@{ScopedRead}!AbstractFifo@{AbstractFifo}}
\doxysubsubsection{\texorpdfstring{ScopedRead}{ScopedRead}}
{\footnotesize\ttfamily using \mbox{\hyperlink{class_abstract_fifo_a350395d221c77cbf5ede3dc3fb7e94a5}{Abstract\+Fifo\+::\+Scoped\+Read}} =  \mbox{\hyperlink{class_abstract_fifo_1_1_scoped_read_write}{Scoped\+Read\+Write}}$<$Read\+Or\+Write\+::read$>$}

\mbox{\Hypertarget{class_abstract_fifo_ac3afb176f8bf6530586412c1b9f661c2}\label{class_abstract_fifo_ac3afb176f8bf6530586412c1b9f661c2}} 
\index{AbstractFifo@{AbstractFifo}!ScopedWrite@{ScopedWrite}}
\index{ScopedWrite@{ScopedWrite}!AbstractFifo@{AbstractFifo}}
\doxysubsubsection{\texorpdfstring{ScopedWrite}{ScopedWrite}}
{\footnotesize\ttfamily using \mbox{\hyperlink{class_abstract_fifo_ac3afb176f8bf6530586412c1b9f661c2}{Abstract\+Fifo\+::\+Scoped\+Write}} =  \mbox{\hyperlink{class_abstract_fifo_1_1_scoped_read_write}{Scoped\+Read\+Write}}$<$Read\+Or\+Write\+::write$>$}



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_abstract_fifo_accd680c366b4b8ca4f30ee8fb2b37b75}\label{class_abstract_fifo_accd680c366b4b8ca4f30ee8fb2b37b75}} 
\index{AbstractFifo@{AbstractFifo}!AbstractFifo@{AbstractFifo}}
\index{AbstractFifo@{AbstractFifo}!AbstractFifo@{AbstractFifo}}
\doxysubsubsection{\texorpdfstring{AbstractFifo()}{AbstractFifo()}}
{\footnotesize\ttfamily Abstract\+Fifo\+::\+Abstract\+Fifo (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}}}]{capacity }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [noexcept]}}

Creates a FIFO to manage a buffer with the specified capacity. 

\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_abstract_fifo_a651019308fd148a1d1a84947d57e1679}\label{class_abstract_fifo_a651019308fd148a1d1a84947d57e1679}} 
\index{AbstractFifo@{AbstractFifo}!finishedRead@{finishedRead}}
\index{finishedRead@{finishedRead}!AbstractFifo@{AbstractFifo}}
\doxysubsubsection{\texorpdfstring{finishedRead()}{finishedRead()}}
{\footnotesize\ttfamily \mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} Abstract\+Fifo\+::finished\+Read (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}}}]{num\+Read }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [noexcept]}}

Called after reading from the FIFO, to indicate that this many items have now been consumed. \begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{class_abstract_fifo_a880ae9f1e0a08f3c0cfe95f03b279f96}{prepare\+To\+Read}} 
\end{DoxySeeAlso}
\mbox{\Hypertarget{class_abstract_fifo_a0daf6067beb737a4136e7e9d8f26bab0}\label{class_abstract_fifo_a0daf6067beb737a4136e7e9d8f26bab0}} 
\index{AbstractFifo@{AbstractFifo}!finishedWrite@{finishedWrite}}
\index{finishedWrite@{finishedWrite}!AbstractFifo@{AbstractFifo}}
\doxysubsubsection{\texorpdfstring{finishedWrite()}{finishedWrite()}}
{\footnotesize\ttfamily \mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} Abstract\+Fifo\+::finished\+Write (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}}}]{num\+Written }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [noexcept]}}

Called after writing from the FIFO, to indicate that this many items have been added. \begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{class_abstract_fifo_a9f32996a86817773a7165be823f80c87}{prepare\+To\+Write}} 
\end{DoxySeeAlso}
\mbox{\Hypertarget{class_abstract_fifo_aeb68b5aec74f6511c76df390eda588ee}\label{class_abstract_fifo_aeb68b5aec74f6511c76df390eda588ee}} 
\index{AbstractFifo@{AbstractFifo}!getFreeSpace@{getFreeSpace}}
\index{getFreeSpace@{getFreeSpace}!AbstractFifo@{AbstractFifo}}
\doxysubsubsection{\texorpdfstring{getFreeSpace()}{getFreeSpace()}}
{\footnotesize\ttfamily \mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} Abstract\+Fifo\+::get\+Free\+Space (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [noexcept]}}

Returns the number of items that can currently be added to the buffer without it overflowing. \mbox{\Hypertarget{class_abstract_fifo_a39ab3206298a1aabb4412a6993b4023b}\label{class_abstract_fifo_a39ab3206298a1aabb4412a6993b4023b}} 
\index{AbstractFifo@{AbstractFifo}!getNumReady@{getNumReady}}
\index{getNumReady@{getNumReady}!AbstractFifo@{AbstractFifo}}
\doxysubsubsection{\texorpdfstring{getNumReady()}{getNumReady()}}
{\footnotesize\ttfamily \mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} Abstract\+Fifo\+::get\+Num\+Ready (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [noexcept]}}

Returns the number of items that can currently be read from the buffer. \mbox{\Hypertarget{class_abstract_fifo_a7724b664c3aae6cbaad1a3821ccaf654}\label{class_abstract_fifo_a7724b664c3aae6cbaad1a3821ccaf654}} 
\index{AbstractFifo@{AbstractFifo}!getTotalSize@{getTotalSize}}
\index{getTotalSize@{getTotalSize}!AbstractFifo@{AbstractFifo}}
\doxysubsubsection{\texorpdfstring{getTotalSize()}{getTotalSize()}}
{\footnotesize\ttfamily \mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} Abstract\+Fifo\+::get\+Total\+Size (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [noexcept]}}

Returns the total size of the buffer being managed. \mbox{\Hypertarget{class_abstract_fifo_a880ae9f1e0a08f3c0cfe95f03b279f96}\label{class_abstract_fifo_a880ae9f1e0a08f3c0cfe95f03b279f96}} 
\index{AbstractFifo@{AbstractFifo}!prepareToRead@{prepareToRead}}
\index{prepareToRead@{prepareToRead}!AbstractFifo@{AbstractFifo}}
\doxysubsubsection{\texorpdfstring{prepareToRead()}{prepareToRead()}}
{\footnotesize\ttfamily \mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} Abstract\+Fifo\+::prepare\+To\+Read (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}}}]{num\+Wanted,  }\item[{\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} \&}]{start\+Index1,  }\item[{\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} \&}]{block\+Size1,  }\item[{\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} \&}]{start\+Index2,  }\item[{\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} \&}]{block\+Size2 }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [noexcept]}}

Returns the location within the buffer from which the next block of data should be read.

Because the section of data that you want to read from the buffer may overlap the end and wrap around to the start, two blocks within your buffer are returned, and you should read from both of them.

If the number of items you ask for is greater than the amount of data available, then block\+Size1 + block\+Size2 may add up to a lower value than num\+Wanted. If this happens, you may decide to keep waiting and re-\/trying the method until there\textquotesingle{}s enough data available.

After calling this method, if you choose to read the data, you must call \mbox{\hyperlink{class_abstract_fifo_a651019308fd148a1d1a84947d57e1679}{finished\+Read()}} to tell the FIFO how much data you have consumed.

e.\+g. 
\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keywordtype}{void} readFromFifo (\textcolor{keywordtype}{int}* someData, \textcolor{keywordtype}{int} numItems)}
\DoxyCodeLine{\{}
\DoxyCodeLine{    \textcolor{keywordtype}{int} start1, size1, start2, size2;}
\DoxyCodeLine{    \mbox{\hyperlink{class_abstract_fifo_a880ae9f1e0a08f3c0cfe95f03b279f96}{prepareToRead}} (numSamples, start1, size1, start2, size2);}
\DoxyCodeLine{}
\DoxyCodeLine{    \textcolor{keywordflow}{if} (size1 > 0)}
\DoxyCodeLine{        copySomeData (someData, myBuffer + start1, size1);}
\DoxyCodeLine{}
\DoxyCodeLine{    \textcolor{keywordflow}{if} (size2 > 0)}
\DoxyCodeLine{        copySomeData (someData + size1, myBuffer + start2, size2);}
\DoxyCodeLine{}
\DoxyCodeLine{    \mbox{\hyperlink{class_abstract_fifo_a651019308fd148a1d1a84947d57e1679}{finishedRead}} (size1 + size2);}
\DoxyCodeLine{\}}

\end{DoxyCode}



\begin{DoxyParams}{Parameters}
{\em num\+Wanted} & indicates how many items you\textquotesingle{}d like to add to the buffer \\
\hline
{\em start\+Index1} & on exit, this will contain the start index in your buffer at which your data should be written \\
\hline
{\em block\+Size1} & on exit, this indicates how many items can be written to the block starting at start\+Index1 \\
\hline
{\em start\+Index2} & on exit, this will contain the start index in your buffer at which any data that didn\textquotesingle{}t fit into the first block should be written \\
\hline
{\em block\+Size2} & on exit, this indicates how many items can be written to the block starting at start\+Index2 \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{class_abstract_fifo_a651019308fd148a1d1a84947d57e1679}{finished\+Read}} 
\end{DoxySeeAlso}
\mbox{\Hypertarget{class_abstract_fifo_a9f32996a86817773a7165be823f80c87}\label{class_abstract_fifo_a9f32996a86817773a7165be823f80c87}} 
\index{AbstractFifo@{AbstractFifo}!prepareToWrite@{prepareToWrite}}
\index{prepareToWrite@{prepareToWrite}!AbstractFifo@{AbstractFifo}}
\doxysubsubsection{\texorpdfstring{prepareToWrite()}{prepareToWrite()}}
{\footnotesize\ttfamily \mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} Abstract\+Fifo\+::prepare\+To\+Write (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}}}]{num\+To\+Write,  }\item[{\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} \&}]{start\+Index1,  }\item[{\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} \&}]{block\+Size1,  }\item[{\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} \&}]{start\+Index2,  }\item[{\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} \&}]{block\+Size2 }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [noexcept]}}

Returns the location within the buffer at which an incoming block of data should be written.

Because the section of data that you want to add to the buffer may overlap the end and wrap around to the start, two blocks within your buffer are returned, and you should copy your data into the first one, with any remaining data spilling over into the second.

If the number of items you ask for is too large to fit within the buffer\textquotesingle{}s free space, then block\+Size1 + block\+Size2 may add up to a lower value than num\+To\+Write. If this happens, you may decide to keep waiting and re-\/trying the method until there\textquotesingle{}s enough space available.

After calling this method, if you choose to write your data into the blocks returned, you must call \mbox{\hyperlink{class_abstract_fifo_a0daf6067beb737a4136e7e9d8f26bab0}{finished\+Write()}} to tell the FIFO how much data you actually added.

e.\+g. 
\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keywordtype}{void} addToFifo (\textcolor{keyword}{const} \textcolor{keywordtype}{int}* someData, \textcolor{keywordtype}{int} numItems)}
\DoxyCodeLine{\{}
\DoxyCodeLine{    \textcolor{keywordtype}{int} start1, size1, start2, size2;}
\DoxyCodeLine{    \mbox{\hyperlink{class_abstract_fifo_a9f32996a86817773a7165be823f80c87}{prepareToWrite}} (numItems, start1, size1, start2, size2);}
\DoxyCodeLine{}
\DoxyCodeLine{    \textcolor{keywordflow}{if} (size1 > 0)}
\DoxyCodeLine{        copySomeData (myBuffer + start1, someData, size1);}
\DoxyCodeLine{}
\DoxyCodeLine{    \textcolor{keywordflow}{if} (size2 > 0)}
\DoxyCodeLine{        copySomeData (myBuffer + start2, someData + size1, size2);}
\DoxyCodeLine{}
\DoxyCodeLine{    \mbox{\hyperlink{class_abstract_fifo_a0daf6067beb737a4136e7e9d8f26bab0}{finishedWrite}} (size1 + size2);}
\DoxyCodeLine{\}}

\end{DoxyCode}



\begin{DoxyParams}{Parameters}
{\em num\+To\+Write} & indicates how many items you\textquotesingle{}d like to add to the buffer \\
\hline
{\em start\+Index1} & on exit, this will contain the start index in your buffer at which your data should be written \\
\hline
{\em block\+Size1} & on exit, this indicates how many items can be written to the block starting at start\+Index1 \\
\hline
{\em start\+Index2} & on exit, this will contain the start index in your buffer at which any data that didn\textquotesingle{}t fit into the first block should be written \\
\hline
{\em block\+Size2} & on exit, this indicates how many items can be written to the block starting at start\+Index2 \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{class_abstract_fifo_a0daf6067beb737a4136e7e9d8f26bab0}{finished\+Write}} 
\end{DoxySeeAlso}
\mbox{\Hypertarget{class_abstract_fifo_add5556f3b984af78eb02a35414bb8fcd}\label{class_abstract_fifo_add5556f3b984af78eb02a35414bb8fcd}} 
\index{AbstractFifo@{AbstractFifo}!read@{read}}
\index{read@{read}!AbstractFifo@{AbstractFifo}}
\doxysubsubsection{\texorpdfstring{read()}{read()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_abstract_fifo_a350395d221c77cbf5ede3dc3fb7e94a5}{Abstract\+Fifo\+::\+Scoped\+Read}} Abstract\+Fifo\+::read (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}}}]{num\+To\+Read }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [noexcept]}}

Replaces prepare\+To\+Read/finished\+Read with a single function. This function returns an object which contains the start indices and block sizes, and also automatically finishes the read operation when it goes out of scope. 
\begin{DoxyCode}{0}
\DoxyCodeLine{\{}
\DoxyCodeLine{    \textcolor{keyword}{auto} readHandle = fifo.read (4);}
\DoxyCodeLine{}
\DoxyCodeLine{    \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} i = 0; i != readHandle.blockSize1; ++i)}
\DoxyCodeLine{    \{}
\DoxyCodeLine{        \textcolor{comment}{// read the item at index readHandle.startIndex1 + i}}
\DoxyCodeLine{    \}}
\DoxyCodeLine{}
\DoxyCodeLine{    \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} i = 0; i != readHandle.blockSize2; ++i)}
\DoxyCodeLine{    \{}
\DoxyCodeLine{        \textcolor{comment}{// read the item at index readHandle.startIndex2 + i}}
\DoxyCodeLine{    \}}
\DoxyCodeLine{\} \textcolor{comment}{// readHandle goes out of scope here, finishing the read operation}}

\end{DoxyCode}
 \mbox{\Hypertarget{class_abstract_fifo_a33ba0f93c22c9cc182f8fa78af07862f}\label{class_abstract_fifo_a33ba0f93c22c9cc182f8fa78af07862f}} 
\index{AbstractFifo@{AbstractFifo}!reset@{reset}}
\index{reset@{reset}!AbstractFifo@{AbstractFifo}}
\doxysubsubsection{\texorpdfstring{reset()}{reset()}}
{\footnotesize\ttfamily \mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} Abstract\+Fifo\+::reset (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [noexcept]}}

Clears the buffer positions, so that it appears empty. \mbox{\Hypertarget{class_abstract_fifo_a5ece35129a957c8783411de69b2542ec}\label{class_abstract_fifo_a5ece35129a957c8783411de69b2542ec}} 
\index{AbstractFifo@{AbstractFifo}!setTotalSize@{setTotalSize}}
\index{setTotalSize@{setTotalSize}!AbstractFifo@{AbstractFifo}}
\doxysubsubsection{\texorpdfstring{setTotalSize()}{setTotalSize()}}
{\footnotesize\ttfamily \mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} Abstract\+Fifo\+::set\+Total\+Size (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}}}]{new\+Size }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [noexcept]}}

Changes the buffer\textquotesingle{}s total size. Note that this isn\textquotesingle{}t thread-\/safe, so don\textquotesingle{}t call it if there\textquotesingle{}s any danger that it might overlap with a call to any other method in this class! \mbox{\Hypertarget{class_abstract_fifo_aba59378c31321700b1b134c981877b0d}\label{class_abstract_fifo_aba59378c31321700b1b134c981877b0d}} 
\index{AbstractFifo@{AbstractFifo}!write@{write}}
\index{write@{write}!AbstractFifo@{AbstractFifo}}
\doxysubsubsection{\texorpdfstring{write()}{write()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_abstract_fifo_ac3afb176f8bf6530586412c1b9f661c2}{Abstract\+Fifo\+::\+Scoped\+Write}} Abstract\+Fifo\+::write (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}}}]{num\+To\+Write }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [noexcept]}}

Replaces prepare\+To\+Write/finished\+Write with a single function. This function returns an object which contains the start indices and block sizes, and also automatically finishes the write operation when it goes out of scope. 
\begin{DoxyCode}{0}
\DoxyCodeLine{\{}
\DoxyCodeLine{    \textcolor{keyword}{auto} writeHandle = fifo.write (5);}
\DoxyCodeLine{}
\DoxyCodeLine{    \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} i = 0; i != writeHandle.blockSize1; ++i)}
\DoxyCodeLine{    \{}
\DoxyCodeLine{        \textcolor{comment}{// write the item at index writeHandle.startIndex1 + i}}
\DoxyCodeLine{    \}}
\DoxyCodeLine{}
\DoxyCodeLine{    \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} i = 0; i != writeHandle.blockSize2; ++i)}
\DoxyCodeLine{    \{}
\DoxyCodeLine{        \textcolor{comment}{// write the item at index writeHandle.startIndex2 + i}}
\DoxyCodeLine{    \}}
\DoxyCodeLine{\} \textcolor{comment}{// writeHandle goes out of scope here, finishing the write operation}}

\end{DoxyCode}
 

The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
build/juce\+\_\+core/containers/\mbox{\hyperlink{juce___abstract_fifo_8h}{juce\+\_\+\+Abstract\+Fifo.\+h}}\item 
build/juce\+\_\+core/containers/\mbox{\hyperlink{juce___abstract_fifo_8cpp}{juce\+\_\+\+Abstract\+Fifo.\+cpp}}\end{DoxyCompactItemize}
