\hypertarget{psy_8c}{}\doxysection{build/juce\+\_\+audio\+\_\+formats/codecs/oggvorbis/libvorbis-\/1.3.7/lib/psy.c File Reference}
\label{psy_8c}\index{build/juce\_audio\_formats/codecs/oggvorbis/libvorbis-\/1.3.7/lib/psy.c@{build/juce\_audio\_formats/codecs/oggvorbis/libvorbis-\/1.3.7/lib/psy.c}}
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$math.\+h$>$}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
{\ttfamily \#include \char`\"{}../../codec.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}codec\+\_\+internal.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}masking.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}psy.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}os.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}lpc.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}smallft.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}scales.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}misc.\+h\char`\"{}}\newline
{\ttfamily \#include $<$stdio.\+h$>$}\newline
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{psy_8c_a16491ade61903be8dcc456e96c722381}{NEGINF}}~-\/9999.f
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{structvorbis__look__psy__global}{vorbis\+\_\+look\+\_\+psy\+\_\+global}} $\ast$ \mbox{\hyperlink{psy_8c_ab283b4194504908e9d7267c849f1fe2e}{\+\_\+vp\+\_\+global\+\_\+look}} (\mbox{\hyperlink{structvorbis__info}{vorbis\+\_\+info}} $\ast$vi)
\item 
\mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} \mbox{\hyperlink{psy_8c_a49f7f01467273e321456d340b7ad516a}{\+\_\+vp\+\_\+global\+\_\+free}} (\mbox{\hyperlink{structvorbis__look__psy__global}{vorbis\+\_\+look\+\_\+psy\+\_\+global}} $\ast$look)
\item 
\mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} \mbox{\hyperlink{psy_8c_a2be9a7ae18da45f4dd41f742a600cd3c}{\+\_\+vi\+\_\+psy\+\_\+free}} (\mbox{\hyperlink{structvorbis__info__psy}{vorbis\+\_\+info\+\_\+psy}} $\ast$i)
\item 
\mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} \mbox{\hyperlink{psy_8c_a807a71364ce536fec54115f82cfac4b9}{\+\_\+vp\+\_\+psy\+\_\+init}} (\mbox{\hyperlink{structvorbis__look__psy}{vorbis\+\_\+look\+\_\+psy}} $\ast$p, \mbox{\hyperlink{structvorbis__info__psy}{vorbis\+\_\+info\+\_\+psy}} $\ast$vi, \mbox{\hyperlink{structvorbis__info__psy__global}{vorbis\+\_\+info\+\_\+psy\+\_\+global}} $\ast$gi, \mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} n, long rate)
\item 
\mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} \mbox{\hyperlink{psy_8c_affcd0e9240a0429b7507c9dff1cefc71}{\+\_\+vp\+\_\+psy\+\_\+clear}} (\mbox{\hyperlink{structvorbis__look__psy}{vorbis\+\_\+look\+\_\+psy}} $\ast$p)
\item 
\mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} \mbox{\hyperlink{psy_8c_ac1810545af983f3d7bdcc2279689f533}{\+\_\+vp\+\_\+noisemask}} (\mbox{\hyperlink{structvorbis__look__psy}{vorbis\+\_\+look\+\_\+psy}} $\ast$p, float $\ast$logmdct, float $\ast$logmask)
\item 
\mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} \mbox{\hyperlink{psy_8c_aa3b3c37a437296674cca2436dcba809d}{\+\_\+vp\+\_\+tonemask}} (\mbox{\hyperlink{structvorbis__look__psy}{vorbis\+\_\+look\+\_\+psy}} $\ast$p, float $\ast$logfft, float $\ast$logmask, float global\+\_\+specmax, float local\+\_\+specmax)
\item 
\mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} \mbox{\hyperlink{psy_8c_a6a8f6ff5c487cd19e73aa3adf702dcd1}{\+\_\+vp\+\_\+offset\+\_\+and\+\_\+mix}} (\mbox{\hyperlink{structvorbis__look__psy}{vorbis\+\_\+look\+\_\+psy}} $\ast$p, float $\ast$noise, float $\ast$tone, \mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} offset\+\_\+select, float $\ast$logmask, float $\ast$mdct, float $\ast$logmdct)
\item 
float \mbox{\hyperlink{psy_8c_acf2486bf30b03e505305f05fd3107bb1}{\+\_\+vp\+\_\+ampmax\+\_\+decay}} (float amp, \mbox{\hyperlink{structvorbis__dsp__state}{vorbis\+\_\+dsp\+\_\+state}} $\ast$vd)
\item 
\mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} \mbox{\hyperlink{psy_8c_a61c85571375521578807e2deff2232de}{\+\_\+vp\+\_\+couple\+\_\+quantize\+\_\+normalize}} (\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} blobno, \mbox{\hyperlink{structvorbis__info__psy__global}{vorbis\+\_\+info\+\_\+psy\+\_\+global}} $\ast$g, \mbox{\hyperlink{structvorbis__look__psy}{vorbis\+\_\+look\+\_\+psy}} $\ast$p, \mbox{\hyperlink{structvorbis__info__mapping0}{vorbis\+\_\+info\+\_\+mapping0}} $\ast$vi, float $\ast$$\ast$mdct, \mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} $\ast$$\ast$iwork, \mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} $\ast$nonzero, \mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} sliding\+\_\+lowpass, \mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} ch)
\end{DoxyCompactItemize}


\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{psy_8c_a16491ade61903be8dcc456e96c722381}\label{psy_8c_a16491ade61903be8dcc456e96c722381}} 
\index{psy.c@{psy.c}!NEGINF@{NEGINF}}
\index{NEGINF@{NEGINF}!psy.c@{psy.c}}
\doxysubsubsection{\texorpdfstring{NEGINF}{NEGINF}}
{\footnotesize\ttfamily \#define NEGINF~-\/9999.f}



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{psy_8c_a2be9a7ae18da45f4dd41f742a600cd3c}\label{psy_8c_a2be9a7ae18da45f4dd41f742a600cd3c}} 
\index{psy.c@{psy.c}!\_vi\_psy\_free@{\_vi\_psy\_free}}
\index{\_vi\_psy\_free@{\_vi\_psy\_free}!psy.c@{psy.c}}
\doxysubsubsection{\texorpdfstring{\_vi\_psy\_free()}{\_vi\_psy\_free()}}
{\footnotesize\ttfamily \mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} \+\_\+vi\+\_\+psy\+\_\+free (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structvorbis__info__psy}{vorbis\+\_\+info\+\_\+psy}} $\ast$}]{i }\end{DoxyParamCaption})}

\mbox{\Hypertarget{psy_8c_acf2486bf30b03e505305f05fd3107bb1}\label{psy_8c_acf2486bf30b03e505305f05fd3107bb1}} 
\index{psy.c@{psy.c}!\_vp\_ampmax\_decay@{\_vp\_ampmax\_decay}}
\index{\_vp\_ampmax\_decay@{\_vp\_ampmax\_decay}!psy.c@{psy.c}}
\doxysubsubsection{\texorpdfstring{\_vp\_ampmax\_decay()}{\_vp\_ampmax\_decay()}}
{\footnotesize\ttfamily float \+\_\+vp\+\_\+ampmax\+\_\+decay (\begin{DoxyParamCaption}\item[{float}]{amp,  }\item[{\mbox{\hyperlink{structvorbis__dsp__state}{vorbis\+\_\+dsp\+\_\+state}} $\ast$}]{vd }\end{DoxyParamCaption})}

\mbox{\Hypertarget{psy_8c_a61c85571375521578807e2deff2232de}\label{psy_8c_a61c85571375521578807e2deff2232de}} 
\index{psy.c@{psy.c}!\_vp\_couple\_quantize\_normalize@{\_vp\_couple\_quantize\_normalize}}
\index{\_vp\_couple\_quantize\_normalize@{\_vp\_couple\_quantize\_normalize}!psy.c@{psy.c}}
\doxysubsubsection{\texorpdfstring{\_vp\_couple\_quantize\_normalize()}{\_vp\_couple\_quantize\_normalize()}}
{\footnotesize\ttfamily \mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} \+\_\+vp\+\_\+couple\+\_\+quantize\+\_\+normalize (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}}}]{blobno,  }\item[{\mbox{\hyperlink{structvorbis__info__psy__global}{vorbis\+\_\+info\+\_\+psy\+\_\+global}} $\ast$}]{g,  }\item[{\mbox{\hyperlink{structvorbis__look__psy}{vorbis\+\_\+look\+\_\+psy}} $\ast$}]{p,  }\item[{\mbox{\hyperlink{structvorbis__info__mapping0}{vorbis\+\_\+info\+\_\+mapping0}} $\ast$}]{vi,  }\item[{float $\ast$$\ast$}]{mdct,  }\item[{\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} $\ast$$\ast$}]{iwork,  }\item[{\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} $\ast$}]{nonzero,  }\item[{\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}}}]{sliding\+\_\+lowpass,  }\item[{\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}}}]{ch }\end{DoxyParamCaption})}

\mbox{\Hypertarget{psy_8c_a49f7f01467273e321456d340b7ad516a}\label{psy_8c_a49f7f01467273e321456d340b7ad516a}} 
\index{psy.c@{psy.c}!\_vp\_global\_free@{\_vp\_global\_free}}
\index{\_vp\_global\_free@{\_vp\_global\_free}!psy.c@{psy.c}}
\doxysubsubsection{\texorpdfstring{\_vp\_global\_free()}{\_vp\_global\_free()}}
{\footnotesize\ttfamily \mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} \+\_\+vp\+\_\+global\+\_\+free (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structvorbis__look__psy__global}{vorbis\+\_\+look\+\_\+psy\+\_\+global}} $\ast$}]{look }\end{DoxyParamCaption})}

\mbox{\Hypertarget{psy_8c_ab283b4194504908e9d7267c849f1fe2e}\label{psy_8c_ab283b4194504908e9d7267c849f1fe2e}} 
\index{psy.c@{psy.c}!\_vp\_global\_look@{\_vp\_global\_look}}
\index{\_vp\_global\_look@{\_vp\_global\_look}!psy.c@{psy.c}}
\doxysubsubsection{\texorpdfstring{\_vp\_global\_look()}{\_vp\_global\_look()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structvorbis__look__psy__global}{vorbis\+\_\+look\+\_\+psy\+\_\+global}} $\ast$ \+\_\+vp\+\_\+global\+\_\+look (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structvorbis__info}{vorbis\+\_\+info}} $\ast$}]{vi }\end{DoxyParamCaption})}

\mbox{\Hypertarget{psy_8c_ac1810545af983f3d7bdcc2279689f533}\label{psy_8c_ac1810545af983f3d7bdcc2279689f533}} 
\index{psy.c@{psy.c}!\_vp\_noisemask@{\_vp\_noisemask}}
\index{\_vp\_noisemask@{\_vp\_noisemask}!psy.c@{psy.c}}
\doxysubsubsection{\texorpdfstring{\_vp\_noisemask()}{\_vp\_noisemask()}}
{\footnotesize\ttfamily \mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} \+\_\+vp\+\_\+noisemask (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structvorbis__look__psy}{vorbis\+\_\+look\+\_\+psy}} $\ast$}]{p,  }\item[{float $\ast$}]{logmdct,  }\item[{float $\ast$}]{logmask }\end{DoxyParamCaption})}

\mbox{\Hypertarget{psy_8c_a6a8f6ff5c487cd19e73aa3adf702dcd1}\label{psy_8c_a6a8f6ff5c487cd19e73aa3adf702dcd1}} 
\index{psy.c@{psy.c}!\_vp\_offset\_and\_mix@{\_vp\_offset\_and\_mix}}
\index{\_vp\_offset\_and\_mix@{\_vp\_offset\_and\_mix}!psy.c@{psy.c}}
\doxysubsubsection{\texorpdfstring{\_vp\_offset\_and\_mix()}{\_vp\_offset\_and\_mix()}}
{\footnotesize\ttfamily \mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} \+\_\+vp\+\_\+offset\+\_\+and\+\_\+mix (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structvorbis__look__psy}{vorbis\+\_\+look\+\_\+psy}} $\ast$}]{p,  }\item[{float $\ast$}]{noise,  }\item[{float $\ast$}]{tone,  }\item[{\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}}}]{offset\+\_\+select,  }\item[{float $\ast$}]{logmask,  }\item[{float $\ast$}]{mdct,  }\item[{float $\ast$}]{logmdct }\end{DoxyParamCaption})}

@ M1 $\ast$$\ast$ The following codes improve a noise problem. A fundamental idea uses the value of masking and carries out the relative compensation of the MDCT. However, this code is not perfect and all noise problems cannot be solved. by Aoyumi @ 2004/04/18\mbox{\Hypertarget{psy_8c_affcd0e9240a0429b7507c9dff1cefc71}\label{psy_8c_affcd0e9240a0429b7507c9dff1cefc71}} 
\index{psy.c@{psy.c}!\_vp\_psy\_clear@{\_vp\_psy\_clear}}
\index{\_vp\_psy\_clear@{\_vp\_psy\_clear}!psy.c@{psy.c}}
\doxysubsubsection{\texorpdfstring{\_vp\_psy\_clear()}{\_vp\_psy\_clear()}}
{\footnotesize\ttfamily \mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} \+\_\+vp\+\_\+psy\+\_\+clear (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structvorbis__look__psy}{vorbis\+\_\+look\+\_\+psy}} $\ast$}]{p }\end{DoxyParamCaption})}

\mbox{\Hypertarget{psy_8c_a807a71364ce536fec54115f82cfac4b9}\label{psy_8c_a807a71364ce536fec54115f82cfac4b9}} 
\index{psy.c@{psy.c}!\_vp\_psy\_init@{\_vp\_psy\_init}}
\index{\_vp\_psy\_init@{\_vp\_psy\_init}!psy.c@{psy.c}}
\doxysubsubsection{\texorpdfstring{\_vp\_psy\_init()}{\_vp\_psy\_init()}}
{\footnotesize\ttfamily \mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} \+\_\+vp\+\_\+psy\+\_\+init (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structvorbis__look__psy}{vorbis\+\_\+look\+\_\+psy}} $\ast$}]{p,  }\item[{\mbox{\hyperlink{structvorbis__info__psy}{vorbis\+\_\+info\+\_\+psy}} $\ast$}]{vi,  }\item[{\mbox{\hyperlink{structvorbis__info__psy__global}{vorbis\+\_\+info\+\_\+psy\+\_\+global}} $\ast$}]{gi,  }\item[{\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}}}]{n,  }\item[{long}]{rate }\end{DoxyParamCaption})}

\mbox{\Hypertarget{psy_8c_aa3b3c37a437296674cca2436dcba809d}\label{psy_8c_aa3b3c37a437296674cca2436dcba809d}} 
\index{psy.c@{psy.c}!\_vp\_tonemask@{\_vp\_tonemask}}
\index{\_vp\_tonemask@{\_vp\_tonemask}!psy.c@{psy.c}}
\doxysubsubsection{\texorpdfstring{\_vp\_tonemask()}{\_vp\_tonemask()}}
{\footnotesize\ttfamily \mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} \+\_\+vp\+\_\+tonemask (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structvorbis__look__psy}{vorbis\+\_\+look\+\_\+psy}} $\ast$}]{p,  }\item[{float $\ast$}]{logfft,  }\item[{float $\ast$}]{logmask,  }\item[{float}]{global\+\_\+specmax,  }\item[{float}]{local\+\_\+specmax }\end{DoxyParamCaption})}

