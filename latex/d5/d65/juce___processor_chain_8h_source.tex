\hypertarget{juce___processor_chain_8h_source}{}\doxysection{juce\+\_\+\+Processor\+Chain.\+h}
\label{juce___processor_chain_8h_source}\index{build/juce\_dsp/processors/juce\_ProcessorChain.h@{build/juce\_dsp/processors/juce\_ProcessorChain.h}}
\mbox{\hyperlink{juce___processor_chain_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 }
\DoxyCodeLine{5 \textcolor{comment}{/*}}
\DoxyCodeLine{6 \textcolor{comment}{  ==============================================================================}}
\DoxyCodeLine{7 \textcolor{comment}{}}
\DoxyCodeLine{8 \textcolor{comment}{   This file is part of the JUCE library.}}
\DoxyCodeLine{9 \textcolor{comment}{   Copyright (c) 2020 -\/ Raw Material Software Limited}}
\DoxyCodeLine{10 \textcolor{comment}{}}
\DoxyCodeLine{11 \textcolor{comment}{   JUCE is an open source library subject to commercial or open-\/source}}
\DoxyCodeLine{12 \textcolor{comment}{   licensing.}}
\DoxyCodeLine{13 \textcolor{comment}{}}
\DoxyCodeLine{14 \textcolor{comment}{   By using JUCE, you agree to the terms of both the JUCE 6 End-\/User License}}
\DoxyCodeLine{15 \textcolor{comment}{   Agreement and JUCE Privacy Policy (both effective as of the 16th June 2020).}}
\DoxyCodeLine{16 \textcolor{comment}{}}
\DoxyCodeLine{17 \textcolor{comment}{   End User License Agreement: www.juce.com/juce-\/6-\/licence}}
\DoxyCodeLine{18 \textcolor{comment}{   Privacy Policy: www.juce.com/juce-\/privacy-\/policy}}
\DoxyCodeLine{19 \textcolor{comment}{}}
\DoxyCodeLine{20 \textcolor{comment}{   Or: You may also use this code under the terms of the GPL v3 (see}}
\DoxyCodeLine{21 \textcolor{comment}{   www.gnu.org/licenses).}}
\DoxyCodeLine{22 \textcolor{comment}{}}
\DoxyCodeLine{23 \textcolor{comment}{   JUCE IS PROVIDED "{}AS IS"{} WITHOUT ANY WARRANTY, AND ALL WARRANTIES, WHETHER}}
\DoxyCodeLine{24 \textcolor{comment}{   EXPRESSED OR IMPLIED, INCLUDING MERCHANTABILITY AND FITNESS FOR PURPOSE, ARE}}
\DoxyCodeLine{25 \textcolor{comment}{   DISCLAIMED.}}
\DoxyCodeLine{26 \textcolor{comment}{}}
\DoxyCodeLine{27 \textcolor{comment}{  ==============================================================================}}
\DoxyCodeLine{28 \textcolor{comment}{*/}}
\DoxyCodeLine{29 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespacedsp}{dsp}}}
\DoxyCodeLine{30 \{}
\DoxyCodeLine{31 }
\DoxyCodeLine{32 \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{33 \textcolor{preprocessor}{\#ifndef DOXYGEN}}
\DoxyCodeLine{37 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespacedetail}{detail}}}
\DoxyCodeLine{38 \{}
\DoxyCodeLine{39     \textcolor{keyword}{template} <\textcolor{keyword}{typename} Fn, \textcolor{keyword}{typename} Tuple, \textcolor{keywordtype}{size\_t}... Ix>}
\DoxyCodeLine{40     \textcolor{keyword}{constexpr} \textcolor{keywordtype}{void} \mbox{\hyperlink{namespacedsp_1_1detail_a692b3801253d310a5eae00978eac790f}{forEachInTuple}} (Fn\&\& fn, Tuple\&\& tuple, std::index\_sequence<Ix...>)}
\DoxyCodeLine{41     \{}
\DoxyCodeLine{42         (\mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}}) std::initializer\_list<int> \{ ((\mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}}) fn (std::get<Ix> (tuple), std::integral\_constant<size\_t, Ix>()), 0)... \};}
\DoxyCodeLine{43     \}}
\DoxyCodeLine{44 }
\DoxyCodeLine{45     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{46     \textcolor{keyword}{using} \mbox{\hyperlink{namespacedsp_1_1detail_a96edce9590f859d0e1b3deaa4e4c61f2}{TupleIndexSequence}} = std::make\_index\_sequence<std::tuple\_size<std::remove\_cv\_t<std::remove\_reference\_t<T>>>\mbox{\hyperlink{namespacegl_ad24be0b39bf5b7d31f7c100de8508670}{::value}}>;}
\DoxyCodeLine{47 }
\DoxyCodeLine{48     \textcolor{keyword}{template} <\textcolor{keyword}{typename} Fn, \textcolor{keyword}{typename} Tuple>}
\DoxyCodeLine{49     \textcolor{keyword}{constexpr} \textcolor{keywordtype}{void} \mbox{\hyperlink{namespacedsp_1_1detail_a692b3801253d310a5eae00978eac790f}{forEachInTuple}} (Fn\&\& fn, Tuple\&\& tuple)}
\DoxyCodeLine{50     \{}
\DoxyCodeLine{51         \mbox{\hyperlink{namespacedsp_1_1detail_a692b3801253d310a5eae00978eac790f}{forEachInTuple}} (std::forward<Fn> (fn), std::forward<Tuple> (tuple), \mbox{\hyperlink{namespacedsp_1_1detail_a96edce9590f859d0e1b3deaa4e4c61f2}{TupleIndexSequence<Tuple>}}\{\});}
\DoxyCodeLine{52     \}}
\DoxyCodeLine{53 }
\DoxyCodeLine{54     \textcolor{comment}{// This could be a template variable, but that code causes an internal compiler error in MSVC 19.00.24215}}
\DoxyCodeLine{55     \textcolor{keyword}{template} <\textcolor{keyword}{typename} Context, \textcolor{keywordtype}{size\_t} Ix>}
\DoxyCodeLine{56     \textcolor{keyword}{struct }\mbox{\hyperlink{structdsp_1_1detail_1_1_use_context_directly}{UseContextDirectly}}}
\DoxyCodeLine{57     \{}
\DoxyCodeLine{58         \textcolor{keyword}{static} \textcolor{keyword}{constexpr} \textcolor{keyword}{auto} \mbox{\hyperlink{structdsp_1_1detail_1_1_use_context_directly_adb2ef5c0cb32b5aad8c2cc3a1c14fe49}{value}} = ! Context::usesSeparateInputAndOutputBlocks() || Ix == 0;}
\DoxyCodeLine{59     \};}
\DoxyCodeLine{60 \}}
\DoxyCodeLine{61 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{62 }
\DoxyCodeLine{68 \textcolor{keyword}{template} <\textcolor{keyword}{typename}... Processors>}
\DoxyCodeLine{69 \textcolor{keyword}{class }\mbox{\hyperlink{classdsp_1_1_processor_chain}{ProcessorChain}}}
\DoxyCodeLine{70 \{}
\DoxyCodeLine{71 \textcolor{keyword}{public}:}
\DoxyCodeLine{73     \textcolor{keyword}{template} <\textcolor{keywordtype}{int} Index>       \textcolor{keyword}{auto}\& \mbox{\hyperlink{classdsp_1_1_processor_chain_a7cfe8387a4173eb524b8c423550c90d3}{get}}()       noexcept \{ \textcolor{keywordflow}{return} std::get<Index> (processors); \}}
\DoxyCodeLine{74 }
\DoxyCodeLine{76     \textcolor{keyword}{template} <\textcolor{keywordtype}{int} Index> \textcolor{keyword}{const} \textcolor{keyword}{auto}\& \mbox{\hyperlink{classdsp_1_1_processor_chain_a13d53a916def961cf0eaff96e41e0efe}{get}}() \mbox{\hyperlink{zconf_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} noexcept \{ \textcolor{keywordflow}{return} std::get<Index> (processors); \}}
\DoxyCodeLine{77 }
\DoxyCodeLine{79     \textcolor{keyword}{template} <\textcolor{keywordtype}{int} Index>}
\DoxyCodeLine{80     \textcolor{keywordtype}{void} \mbox{\hyperlink{classdsp_1_1_processor_chain_a5ae4a9d6e1e02e2e4fd2b1b5a9bcdbba}{setBypassed}} (\textcolor{keywordtype}{bool} \mbox{\hyperlink{jpegint_8h_af320905358fa78701e4cc60b6135601f}{b}}) \textcolor{keyword}{noexcept}  \{ bypassed[(size\_t) Index] = \mbox{\hyperlink{jpegint_8h_af320905358fa78701e4cc60b6135601f}{b}}; \}}
\DoxyCodeLine{81 }
\DoxyCodeLine{83     \textcolor{keyword}{template} <\textcolor{keywordtype}{int} Index>}
\DoxyCodeLine{84     \textcolor{keywordtype}{bool} \mbox{\hyperlink{classdsp_1_1_processor_chain_a1634870263ae213d708d9cbe06a9a2b5}{isBypassed}}() \mbox{\hyperlink{zconf_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} noexcept    \{ \textcolor{keywordflow}{return} bypassed[(size\_t) Index]; \}}
\DoxyCodeLine{85 }
\DoxyCodeLine{87     \textcolor{keywordtype}{void} \mbox{\hyperlink{classdsp_1_1_processor_chain_af06a5f203a727aea3fc2e0515c6fc37f}{prepare}} (\textcolor{keyword}{const} \mbox{\hyperlink{structdsp_1_1_process_spec}{ProcessSpec}}\& spec)}
\DoxyCodeLine{88     \{}
\DoxyCodeLine{89         \mbox{\hyperlink{namespacedsp_1_1detail_a692b3801253d310a5eae00978eac790f}{detail::forEachInTuple}} ([\&] (\textcolor{keyword}{auto}\& proc, \textcolor{keyword}{auto}) \{ proc.prepare (spec); \}, processors);}
\DoxyCodeLine{90     \}}
\DoxyCodeLine{91 }
\DoxyCodeLine{93     \textcolor{keywordtype}{void} \mbox{\hyperlink{classdsp_1_1_processor_chain_a9d5525a2cf939c9aba3d4ae0a6c96f10}{reset}}()}
\DoxyCodeLine{94     \{}
\DoxyCodeLine{95         \mbox{\hyperlink{namespacedsp_1_1detail_a692b3801253d310a5eae00978eac790f}{detail::forEachInTuple}} ([] (\textcolor{keyword}{auto}\& proc, \textcolor{keyword}{auto}) \{ proc.reset(); \}, processors);}
\DoxyCodeLine{96     \}}
\DoxyCodeLine{97 }
\DoxyCodeLine{99     \textcolor{keyword}{template} <\textcolor{keyword}{typename} ProcessContext>}
\DoxyCodeLine{100     \textcolor{keywordtype}{void} \mbox{\hyperlink{classdsp_1_1_processor_chain_a0258207be60eeeab43ba3015edfccde7}{process}} (\textcolor{keyword}{const} ProcessContext\& context) \textcolor{keyword}{noexcept}}
\DoxyCodeLine{101     \{}
\DoxyCodeLine{102         \mbox{\hyperlink{namespacedsp_1_1detail_a692b3801253d310a5eae00978eac790f}{detail::forEachInTuple}} ([\textcolor{keyword}{this}, \&context] (\textcolor{keyword}{auto}\& proc, \textcolor{keyword}{auto} \mbox{\hyperlink{namespacegl_a06a196a98fd7b17e699cbea6c66c37cb}{index}}) \textcolor{keyword}{noexcept} \{ this-\/>processOne (context, proc, \mbox{\hyperlink{namespacegl_a06a196a98fd7b17e699cbea6c66c37cb}{index}}); \},}
\DoxyCodeLine{103                                 processors);}
\DoxyCodeLine{104     \}}
\DoxyCodeLine{105 }
\DoxyCodeLine{106 \textcolor{keyword}{private}:}
\DoxyCodeLine{107     \mbox{\hyperlink{namespacegl_ad24be0b39bf5b7d31f7c100de8508670}{template <typename Context, typename Proc, size\_t Ix, std::enable\_if\_t<! detail::UseContextDirectly<Context, Ix>::value}}, \textcolor{keywordtype}{int}> = 0>}
\DoxyCodeLine{108     \textcolor{keywordtype}{void} processOne (\textcolor{keyword}{const} Context\& context, Proc\& proc, std::integral\_constant<size\_t, Ix>) \textcolor{keyword}{noexcept}}
\DoxyCodeLine{109     \{}
\DoxyCodeLine{110         \mbox{\hyperlink{group__juce__core-system_ga1f96ab6751237979b907a54f52a7296a}{jassert}} (context.getOutputBlock().getNumChannels() == context.getInputBlock().getNumChannels());}
\DoxyCodeLine{111         \mbox{\hyperlink{structdsp_1_1_process_context_replacing}{ProcessContextReplacing<typename Context::SampleType>}} replacingContext (context.getOutputBlock());}
\DoxyCodeLine{112         replacingContext.isBypassed = (bypassed[Ix] || context.isBypassed);}
\DoxyCodeLine{113 }
\DoxyCodeLine{114         proc.process (replacingContext);}
\DoxyCodeLine{115     \}}
\DoxyCodeLine{116 }
\DoxyCodeLine{117     \mbox{\hyperlink{namespacegl_ad24be0b39bf5b7d31f7c100de8508670}{template <typename Context, typename Proc, size\_t Ix, std::enable\_if\_t<detail::UseContextDirectly<Context, Ix>::value}}, \textcolor{keywordtype}{int}> = 0>}
\DoxyCodeLine{118     \textcolor{keywordtype}{void} processOne (\textcolor{keyword}{const} Context\& context, Proc\& proc, std::integral\_constant<size\_t, Ix>) \textcolor{keyword}{noexcept}}
\DoxyCodeLine{119     \{}
\DoxyCodeLine{120         \textcolor{keyword}{auto} contextCopy = context;}
\DoxyCodeLine{121         contextCopy.isBypassed = (bypassed[Ix] || context.isBypassed);}
\DoxyCodeLine{122 }
\DoxyCodeLine{123         proc.process (contextCopy);}
\DoxyCodeLine{124     \}}
\DoxyCodeLine{125 }
\DoxyCodeLine{126     std::tuple<Processors...> processors;}
\DoxyCodeLine{127     \mbox{\hyperlink{namespacegl_a0d93833c93ca0e4d285c4b5610272a52}{std::array}}<bool, \textcolor{keyword}{sizeof}...(Processors)> bypassed \{ \{\} \};}
\DoxyCodeLine{128 \};}
\DoxyCodeLine{129 }
\DoxyCodeLine{133 \textcolor{keyword}{template} <\textcolor{keywordtype}{int} Index, \textcolor{keyword}{typename}... Processors>}
\DoxyCodeLine{134 \textcolor{keyword}{inline} \textcolor{keyword}{auto}\& \mbox{\hyperlink{namespacedsp_ab70e205bff92b09aa297e479676b5bc8}{get}} (\mbox{\hyperlink{classdsp_1_1_processor_chain}{ProcessorChain<Processors...>}}\& chain) \textcolor{keyword}{noexcept}}
\DoxyCodeLine{135 \{}
\DoxyCodeLine{136     \textcolor{keywordflow}{return} chain.template get<Index>();}
\DoxyCodeLine{137 \}}
\DoxyCodeLine{138 }
\DoxyCodeLine{142 \textcolor{keyword}{template} <\textcolor{keywordtype}{int} Index, \textcolor{keyword}{typename}... Processors>}
\DoxyCodeLine{143 \textcolor{keyword}{inline} \textcolor{keyword}{auto}\& \mbox{\hyperlink{namespacedsp_ab70e205bff92b09aa297e479676b5bc8}{get}} (\textcolor{keyword}{const} \mbox{\hyperlink{classdsp_1_1_processor_chain}{ProcessorChain<Processors...>}}\& chain) \textcolor{keyword}{noexcept}}
\DoxyCodeLine{144 \{}
\DoxyCodeLine{145     \textcolor{keywordflow}{return} chain.template get<Index>();}
\DoxyCodeLine{146 \}}
\DoxyCodeLine{147 }
\DoxyCodeLine{151 \textcolor{keyword}{template} <\textcolor{keywordtype}{int} Index, \textcolor{keyword}{typename}... Processors>}
\DoxyCodeLine{152 \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \mbox{\hyperlink{namespacedsp_ac33601e867d61deb64412e30e035c6ee}{setBypassed}} (\mbox{\hyperlink{classdsp_1_1_processor_chain}{ProcessorChain<Processors...>}}\& chain, \textcolor{keywordtype}{bool} bypassed) \textcolor{keyword}{noexcept}}
\DoxyCodeLine{153 \{}
\DoxyCodeLine{154     chain.template setBypassed<Index> (bypassed);}
\DoxyCodeLine{155 \}}
\DoxyCodeLine{156 }
\DoxyCodeLine{160 \textcolor{keyword}{template} <\textcolor{keywordtype}{int} Index, \textcolor{keyword}{typename}... Processors>}
\DoxyCodeLine{161 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} \mbox{\hyperlink{namespacedsp_a18bbc5840c500566f2cb30129497beda}{isBypassed}} (\textcolor{keyword}{const} \mbox{\hyperlink{classdsp_1_1_processor_chain}{ProcessorChain<Processors...>}}\& chain) \textcolor{keyword}{noexcept}}
\DoxyCodeLine{162 \{}
\DoxyCodeLine{163     \textcolor{keywordflow}{return} chain.template isBypassed<Index>();}
\DoxyCodeLine{164 \}}
\DoxyCodeLine{165 }
\DoxyCodeLine{166 \} \textcolor{comment}{// namespace dsp}}
\DoxyCodeLine{167  \textcolor{comment}{// namespace juce}}
\DoxyCodeLine{168 }
\DoxyCodeLine{169 \textcolor{preprocessor}{\#ifndef DOXYGEN}}
\DoxyCodeLine{170 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespacestd}{std}}}
\DoxyCodeLine{171 \{}
\DoxyCodeLine{172 }
\DoxyCodeLine{173 \mbox{\hyperlink{group__juce__core-system_ga0112339834a6548e4123e394b9ed95e2}{JUCE\_BEGIN\_IGNORE\_WARNINGS\_GCC\_LIKE}} (\textcolor{stringliteral}{"{}-\/Wmismatched-\/tags"{}})}
\DoxyCodeLine{174 }
\DoxyCodeLine{175 }
\DoxyCodeLine{176 template <typename... Processors>}
\DoxyCodeLine{177 struct tuple\_size<::\mbox{\hyperlink{namespacejuce}{juce}}::\mbox{\hyperlink{namespacedsp}{dsp}}::ProcessorChain<Processors...>> : integral\_constant<\textcolor{keywordtype}{size\_t}, sizeof... (Processors)> \{\};}
\DoxyCodeLine{178 }
\DoxyCodeLine{180 \textcolor{keyword}{template} <\textcolor{keywordtype}{size\_t} I, \textcolor{keyword}{typename}... Processors>}
\DoxyCodeLine{181 \textcolor{keyword}{struct }tuple\_element<I, ::juce::dsp::ProcessorChain<Processors...>> : tuple\_element<I, tuple<Processors...>> \{\};}
\DoxyCodeLine{182 }
\DoxyCodeLine{183 \mbox{\hyperlink{group__juce__core-system_ga157f2229764b17137d8814bec95df109}{JUCE\_END\_IGNORE\_WARNINGS\_GCC\_LIKE}}}
\DoxyCodeLine{184 }
\DoxyCodeLine{185 \} \textcolor{comment}{// namespace std}}
\DoxyCodeLine{186 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{187 }

\end{DoxyCode}
