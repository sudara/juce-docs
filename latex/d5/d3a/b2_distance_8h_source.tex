\hypertarget{b2_distance_8h_source}{}\doxysection{b2\+Distance.\+h}
\label{b2_distance_8h_source}\index{build/juce\_box2d/box2d/Collision/b2Distance.h@{build/juce\_box2d/box2d/Collision/b2Distance.h}}
\mbox{\hyperlink{b2_distance_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 }
\DoxyCodeLine{2 \textcolor{comment}{/*}}
\DoxyCodeLine{3 \textcolor{comment}{* Copyright (c) 2006-\/2009 Erin Catto http://www.box2d.org}}
\DoxyCodeLine{4 \textcolor{comment}{*}}
\DoxyCodeLine{5 \textcolor{comment}{* This software is provided 'as-\/is', without any express or implied}}
\DoxyCodeLine{6 \textcolor{comment}{* warranty.  In no event will the authors be held liable for any damages}}
\DoxyCodeLine{7 \textcolor{comment}{* arising from the use of this software.}}
\DoxyCodeLine{8 \textcolor{comment}{* Permission is granted to anyone to use this software for any purpose,}}
\DoxyCodeLine{9 \textcolor{comment}{* including commercial applications, and to alter it and redistribute it}}
\DoxyCodeLine{10 \textcolor{comment}{* freely, subject to the following restrictions:}}
\DoxyCodeLine{11 \textcolor{comment}{* 1. The origin of this software must not be misrepresented; you must not}}
\DoxyCodeLine{12 \textcolor{comment}{* claim that you wrote the original software. If you use this software}}
\DoxyCodeLine{13 \textcolor{comment}{* in a product, an acknowledgment in the product documentation would be}}
\DoxyCodeLine{14 \textcolor{comment}{* appreciated but is not required.}}
\DoxyCodeLine{15 \textcolor{comment}{* 2. Altered source versions must be plainly marked as such, and must not be}}
\DoxyCodeLine{16 \textcolor{comment}{* misrepresented as being the original software.}}
\DoxyCodeLine{17 \textcolor{comment}{* 3. This notice may not be removed or altered from any source distribution.}}
\DoxyCodeLine{18 \textcolor{comment}{*/}}
\DoxyCodeLine{19 }
\DoxyCodeLine{20 \textcolor{preprocessor}{\#ifndef B2\_DISTANCE\_H}}
\DoxyCodeLine{21 \textcolor{preprocessor}{\#define B2\_DISTANCE\_H}}
\DoxyCodeLine{22 }
\DoxyCodeLine{23 \textcolor{preprocessor}{\#include "{}../Common/b2Math.h"{}}}
\DoxyCodeLine{24 }
\DoxyCodeLine{25 \textcolor{keyword}{class }\mbox{\hyperlink{classb2_shape}{b2Shape}};}
\DoxyCodeLine{26 }
\DoxyCodeLine{29 \textcolor{keyword}{struct }\mbox{\hyperlink{structb2_distance_proxy}{b2DistanceProxy}}}
\DoxyCodeLine{30 \{}
\DoxyCodeLine{31     \mbox{\hyperlink{structb2_distance_proxy_ae3b74189ecd4d85b078a9386274dd9b6}{b2DistanceProxy}}() : \mbox{\hyperlink{structb2_distance_proxy_abaf1495b8214b74d944b57170a762f32}{m\_vertices}}(NULL), \mbox{\hyperlink{structb2_distance_proxy_aac989d6e08856a8b852d20dd9faba083}{m\_count}}(0), \mbox{\hyperlink{structb2_distance_proxy_a459c93f35b1e62d583bd73d8c478ce89}{m\_radius}}(0.0f) \{\}}
\DoxyCodeLine{32 }
\DoxyCodeLine{35     \textcolor{keywordtype}{void} \mbox{\hyperlink{structb2_distance_proxy_a35bf7eb3f6e6be4f4cbcc8ab86b6b9d9}{Set}}(\textcolor{keyword}{const} \mbox{\hyperlink{classb2_shape}{b2Shape}}* shape, \mbox{\hyperlink{namespace_steinberg_a2ea05679b0aa73e249c6bd7e83f41f05}{juce::int32}} \mbox{\hyperlink{namespacegl_a06a196a98fd7b17e699cbea6c66c37cb}{index}});}
\DoxyCodeLine{36 }
\DoxyCodeLine{38     \mbox{\hyperlink{namespace_steinberg_a2ea05679b0aa73e249c6bd7e83f41f05}{juce::int32}} \mbox{\hyperlink{structb2_distance_proxy_a5bc859e88075a695442fa19bfa0a75f9}{GetSupport}}(\textcolor{keyword}{const} \mbox{\hyperlink{structb2_vec2}{b2Vec2}}\& d) \textcolor{keyword}{const};}
\DoxyCodeLine{39 }
\DoxyCodeLine{41     \textcolor{keyword}{const} \mbox{\hyperlink{structb2_vec2}{b2Vec2}}\& \mbox{\hyperlink{structb2_distance_proxy_a245993f09e9f3d3f374bb95041acf822}{GetSupportVertex}}(\textcolor{keyword}{const} \mbox{\hyperlink{structb2_vec2}{b2Vec2}}\& d) \textcolor{keyword}{const};}
\DoxyCodeLine{42 }
\DoxyCodeLine{44     \mbox{\hyperlink{namespace_steinberg_a2ea05679b0aa73e249c6bd7e83f41f05}{juce::int32}} \mbox{\hyperlink{structb2_distance_proxy_a722a0076041946598488a573b8eaeaef}{GetVertexCount}}() \textcolor{keyword}{const};}
\DoxyCodeLine{45 }
\DoxyCodeLine{47     \textcolor{keyword}{const} \mbox{\hyperlink{structb2_vec2}{b2Vec2}}\& \mbox{\hyperlink{structb2_distance_proxy_a37479ff9a9243d97ad740f05b79dd23b}{GetVertex}}(\mbox{\hyperlink{namespace_steinberg_a2ea05679b0aa73e249c6bd7e83f41f05}{juce::int32}} \mbox{\hyperlink{namespacegl_a06a196a98fd7b17e699cbea6c66c37cb}{index}}) \textcolor{keyword}{const};}
\DoxyCodeLine{48 }
\DoxyCodeLine{49     \mbox{\hyperlink{structb2_vec2}{b2Vec2}} \mbox{\hyperlink{structb2_distance_proxy_a3fc5ebfa3d34ac66390b88f9277fb330}{m\_buffer}}[2];}
\DoxyCodeLine{50     \textcolor{keyword}{const} \mbox{\hyperlink{structb2_vec2}{b2Vec2}}* \mbox{\hyperlink{structb2_distance_proxy_abaf1495b8214b74d944b57170a762f32}{m\_vertices}};}
\DoxyCodeLine{51     \mbox{\hyperlink{namespace_steinberg_a2ea05679b0aa73e249c6bd7e83f41f05}{juce::int32}} \mbox{\hyperlink{structb2_distance_proxy_aac989d6e08856a8b852d20dd9faba083}{m\_count}};}
\DoxyCodeLine{52     \mbox{\hyperlink{b2_settings_8h_aacdc525d6f7bddb3ae95d5c311bd06a1}{float32}} \mbox{\hyperlink{structb2_distance_proxy_a459c93f35b1e62d583bd73d8c478ce89}{m\_radius}};}
\DoxyCodeLine{53 \};}
\DoxyCodeLine{54 }
\DoxyCodeLine{57 \textcolor{keyword}{struct }\mbox{\hyperlink{structb2_simplex_cache}{b2SimplexCache}}}
\DoxyCodeLine{58 \{}
\DoxyCodeLine{59     \mbox{\hyperlink{b2_settings_8h_aacdc525d6f7bddb3ae95d5c311bd06a1}{float32}} \mbox{\hyperlink{structb2_simplex_cache_a018e0a500b417d79bfed3f21310b15a2}{metric}};        }
\DoxyCodeLine{60     \mbox{\hyperlink{namespace_steinberg_a5f06a8622e4753e2f9617feb26f625ae}{juce::uint16}} \mbox{\hyperlink{structb2_simplex_cache_ad363c1fedf145e4593a84c76115035ee}{count}};}
\DoxyCodeLine{61     \mbox{\hyperlink{namespace_steinberg_ac26ab57d77dced6ef40e21775a18e4fd}{juce::uint8}} \mbox{\hyperlink{structb2_simplex_cache_a08256c23a4bd7c1ab797ba4b41c2c1b8}{indexA}}[3]; }
\DoxyCodeLine{62     \mbox{\hyperlink{namespace_steinberg_ac26ab57d77dced6ef40e21775a18e4fd}{juce::uint8}} \mbox{\hyperlink{structb2_simplex_cache_a83c7b72b838934f593413283e74bf2d1}{indexB}}[3]; }
\DoxyCodeLine{63 \};}
\DoxyCodeLine{64 }
\DoxyCodeLine{68 \textcolor{keyword}{struct }\mbox{\hyperlink{structb2_distance_input}{b2DistanceInput}}}
\DoxyCodeLine{69 \{}
\DoxyCodeLine{70     \mbox{\hyperlink{structb2_distance_proxy}{b2DistanceProxy}} \mbox{\hyperlink{structb2_distance_input_a84d378f4f0e2f06fbe03d413e9dfbbd9}{proxyA}};}
\DoxyCodeLine{71     \mbox{\hyperlink{structb2_distance_proxy}{b2DistanceProxy}} \mbox{\hyperlink{structb2_distance_input_ad08521a9cdf9d418ececfd44de83a5d3}{proxyB}};}
\DoxyCodeLine{72     \mbox{\hyperlink{structb2_transform}{b2Transform}} \mbox{\hyperlink{structb2_distance_input_a0889c2f7120ba521d6e40e2a22834ddb}{transformA}};}
\DoxyCodeLine{73     \mbox{\hyperlink{structb2_transform}{b2Transform}} \mbox{\hyperlink{structb2_distance_input_a47352d7c5b3db80b2fb8cf338f1c1895}{transformB}};}
\DoxyCodeLine{74     \textcolor{keywordtype}{bool} \mbox{\hyperlink{structb2_distance_input_ab72a770be4a91997d00112409de5fea7}{useRadii}};}
\DoxyCodeLine{75 \};}
\DoxyCodeLine{76 }
\DoxyCodeLine{78 \textcolor{keyword}{struct }\mbox{\hyperlink{structb2_distance_output}{b2DistanceOutput}}}
\DoxyCodeLine{79 \{}
\DoxyCodeLine{80     \mbox{\hyperlink{structb2_vec2}{b2Vec2}} \mbox{\hyperlink{structb2_distance_output_a7e0f1f44a64e596dc7d37570c69eefce}{pointA}};      }
\DoxyCodeLine{81     \mbox{\hyperlink{structb2_vec2}{b2Vec2}} \mbox{\hyperlink{structb2_distance_output_aa85beca17337a506cd4a924d0c6f92cc}{pointB}};      }
\DoxyCodeLine{82     \mbox{\hyperlink{b2_settings_8h_aacdc525d6f7bddb3ae95d5c311bd06a1}{float32}} \mbox{\hyperlink{structb2_distance_output_ae67f480ff37d4ab732e6366f485c7f55}{distance}};}
\DoxyCodeLine{83     \mbox{\hyperlink{namespace_steinberg_a2ea05679b0aa73e249c6bd7e83f41f05}{juce::int32}} \mbox{\hyperlink{structb2_distance_output_a38578a4d5b5bcad9c484c397910c704c}{iterations}};    }
\DoxyCodeLine{84 \};}
\DoxyCodeLine{85 }
\DoxyCodeLine{89 \textcolor{keywordtype}{void} \mbox{\hyperlink{b2_distance_8h_af8aa0d6b55c276763e2d2d8854400a8e}{b2Distance}}(\mbox{\hyperlink{structb2_distance_output}{b2DistanceOutput}}* \mbox{\hyperlink{namespacegl_a6feaa3453ce5f1535f7b2709b198b7b6}{output}},}
\DoxyCodeLine{90                 \mbox{\hyperlink{structb2_simplex_cache}{b2SimplexCache}}* cache,}
\DoxyCodeLine{91                 \textcolor{keyword}{const} \mbox{\hyperlink{structb2_distance_input}{b2DistanceInput}}* \mbox{\hyperlink{namespacegl_ae94d0a99dc3426b5ac5fc7d881691a61}{input}});}
\DoxyCodeLine{92 }
\DoxyCodeLine{93 }
\DoxyCodeLine{95 }
\DoxyCodeLine{96 \textcolor{keyword}{inline} \mbox{\hyperlink{namespace_steinberg_a2ea05679b0aa73e249c6bd7e83f41f05}{juce::int32}} \mbox{\hyperlink{structb2_distance_proxy_a722a0076041946598488a573b8eaeaef}{b2DistanceProxy::GetVertexCount}}()\textcolor{keyword}{ const}}
\DoxyCodeLine{97 \textcolor{keyword}{}\{}
\DoxyCodeLine{98     \textcolor{keywordflow}{return} \mbox{\hyperlink{structb2_distance_proxy_aac989d6e08856a8b852d20dd9faba083}{m\_count}};}
\DoxyCodeLine{99 \}}
\DoxyCodeLine{100 }
\DoxyCodeLine{101 \textcolor{keyword}{inline} \textcolor{keyword}{const} \mbox{\hyperlink{structb2_vec2}{b2Vec2}}\& \mbox{\hyperlink{structb2_distance_proxy_a37479ff9a9243d97ad740f05b79dd23b}{b2DistanceProxy::GetVertex}}(\mbox{\hyperlink{namespace_steinberg_a2ea05679b0aa73e249c6bd7e83f41f05}{juce::int32}} \mbox{\hyperlink{namespacegl_a06a196a98fd7b17e699cbea6c66c37cb}{index}})\textcolor{keyword}{ const}}
\DoxyCodeLine{102 \textcolor{keyword}{}\{}
\DoxyCodeLine{103     \mbox{\hyperlink{b2_settings_8h_ab3fe3791ea4d700d5cc1f8124d2edf33}{b2Assert}}(0 <= \mbox{\hyperlink{namespacegl_a06a196a98fd7b17e699cbea6c66c37cb}{index}} \&\& \mbox{\hyperlink{namespacegl_a06a196a98fd7b17e699cbea6c66c37cb}{index}} < \mbox{\hyperlink{structb2_distance_proxy_aac989d6e08856a8b852d20dd9faba083}{m\_count}});}
\DoxyCodeLine{104     \textcolor{keywordflow}{return} \mbox{\hyperlink{structb2_distance_proxy_abaf1495b8214b74d944b57170a762f32}{m\_vertices}}[\mbox{\hyperlink{namespacegl_a06a196a98fd7b17e699cbea6c66c37cb}{index}}];}
\DoxyCodeLine{105 \}}
\DoxyCodeLine{106 }
\DoxyCodeLine{107 \textcolor{keyword}{inline} \mbox{\hyperlink{namespace_steinberg_a2ea05679b0aa73e249c6bd7e83f41f05}{juce::int32}} \mbox{\hyperlink{structb2_distance_proxy_a5bc859e88075a695442fa19bfa0a75f9}{b2DistanceProxy::GetSupport}}(\textcolor{keyword}{const} \mbox{\hyperlink{structb2_vec2}{b2Vec2}}\& d)\textcolor{keyword}{ const}}
\DoxyCodeLine{108 \textcolor{keyword}{}\{}
\DoxyCodeLine{109     \mbox{\hyperlink{namespace_steinberg_a2ea05679b0aa73e249c6bd7e83f41f05}{juce::int32}} bestIndex = 0;}
\DoxyCodeLine{110     \mbox{\hyperlink{b2_settings_8h_aacdc525d6f7bddb3ae95d5c311bd06a1}{float32}} bestValue = \mbox{\hyperlink{b2_math_8h_a70b92f24af9112e7951ced79045363f1}{b2Dot}}(\mbox{\hyperlink{structb2_distance_proxy_abaf1495b8214b74d944b57170a762f32}{m\_vertices}}[0], d);}
\DoxyCodeLine{111     \textcolor{keywordflow}{for} (\mbox{\hyperlink{namespace_steinberg_a2ea05679b0aa73e249c6bd7e83f41f05}{juce::int32}} i = 1; i < \mbox{\hyperlink{structb2_distance_proxy_aac989d6e08856a8b852d20dd9faba083}{m\_count}}; ++i)}
\DoxyCodeLine{112     \{}
\DoxyCodeLine{113         \mbox{\hyperlink{b2_settings_8h_aacdc525d6f7bddb3ae95d5c311bd06a1}{float32}} \mbox{\hyperlink{namespacegl_ad24be0b39bf5b7d31f7c100de8508670}{value}} = \mbox{\hyperlink{b2_math_8h_a70b92f24af9112e7951ced79045363f1}{b2Dot}}(\mbox{\hyperlink{structb2_distance_proxy_abaf1495b8214b74d944b57170a762f32}{m\_vertices}}[i], d);}
\DoxyCodeLine{114         \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacegl_ad24be0b39bf5b7d31f7c100de8508670}{value}} > bestValue)}
\DoxyCodeLine{115         \{}
\DoxyCodeLine{116             bestIndex = i;}
\DoxyCodeLine{117             bestValue = \mbox{\hyperlink{namespacegl_ad24be0b39bf5b7d31f7c100de8508670}{value}};}
\DoxyCodeLine{118         \}}
\DoxyCodeLine{119     \}}
\DoxyCodeLine{120 }
\DoxyCodeLine{121     \textcolor{keywordflow}{return} bestIndex;}
\DoxyCodeLine{122 \}}
\DoxyCodeLine{123 }
\DoxyCodeLine{124 \textcolor{keyword}{inline} \textcolor{keyword}{const} \mbox{\hyperlink{structb2_vec2}{b2Vec2}}\& \mbox{\hyperlink{structb2_distance_proxy_a245993f09e9f3d3f374bb95041acf822}{b2DistanceProxy::GetSupportVertex}}(\textcolor{keyword}{const} \mbox{\hyperlink{structb2_vec2}{b2Vec2}}\& d)\textcolor{keyword}{ const}}
\DoxyCodeLine{125 \textcolor{keyword}{}\{}
\DoxyCodeLine{126     \mbox{\hyperlink{namespace_steinberg_a2ea05679b0aa73e249c6bd7e83f41f05}{juce::int32}} bestIndex = 0;}
\DoxyCodeLine{127     \mbox{\hyperlink{b2_settings_8h_aacdc525d6f7bddb3ae95d5c311bd06a1}{float32}} bestValue = \mbox{\hyperlink{b2_math_8h_a70b92f24af9112e7951ced79045363f1}{b2Dot}}(\mbox{\hyperlink{structb2_distance_proxy_abaf1495b8214b74d944b57170a762f32}{m\_vertices}}[0], d);}
\DoxyCodeLine{128     \textcolor{keywordflow}{for} (\mbox{\hyperlink{namespace_steinberg_a2ea05679b0aa73e249c6bd7e83f41f05}{juce::int32}} i = 1; i < \mbox{\hyperlink{structb2_distance_proxy_aac989d6e08856a8b852d20dd9faba083}{m\_count}}; ++i)}
\DoxyCodeLine{129     \{}
\DoxyCodeLine{130         \mbox{\hyperlink{b2_settings_8h_aacdc525d6f7bddb3ae95d5c311bd06a1}{float32}} \mbox{\hyperlink{namespacegl_ad24be0b39bf5b7d31f7c100de8508670}{value}} = \mbox{\hyperlink{b2_math_8h_a70b92f24af9112e7951ced79045363f1}{b2Dot}}(\mbox{\hyperlink{structb2_distance_proxy_abaf1495b8214b74d944b57170a762f32}{m\_vertices}}[i], d);}
\DoxyCodeLine{131         \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacegl_ad24be0b39bf5b7d31f7c100de8508670}{value}} > bestValue)}
\DoxyCodeLine{132         \{}
\DoxyCodeLine{133             bestIndex = i;}
\DoxyCodeLine{134             bestValue = \mbox{\hyperlink{namespacegl_ad24be0b39bf5b7d31f7c100de8508670}{value}};}
\DoxyCodeLine{135         \}}
\DoxyCodeLine{136     \}}
\DoxyCodeLine{137 }
\DoxyCodeLine{138     \textcolor{keywordflow}{return} \mbox{\hyperlink{structb2_distance_proxy_abaf1495b8214b74d944b57170a762f32}{m\_vertices}}[bestIndex];}
\DoxyCodeLine{139 \}}
\DoxyCodeLine{140 }
\DoxyCodeLine{141 \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
