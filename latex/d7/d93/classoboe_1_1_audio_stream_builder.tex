\hypertarget{classoboe_1_1_audio_stream_builder}{}\doxysection{oboe\+::Audio\+Stream\+Builder Class Reference}
\label{classoboe_1_1_audio_stream_builder}\index{oboe::AudioStreamBuilder@{oboe::AudioStreamBuilder}}


{\ttfamily \#include $<$Audio\+Stream\+Builder.\+h$>$}

Inheritance diagram for oboe\+::Audio\+Stream\+Builder\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{d7/d93/classoboe_1_1_audio_stream_builder}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classoboe_1_1_audio_stream_builder_a8ebdd43f661f8d817023be73ad5fb497}{Audio\+Stream\+Builder}} ()
\item 
\mbox{\hyperlink{classoboe_1_1_audio_stream_builder_a8f2cc75bfce8d839bf72ca8fb4a0793a}{Audio\+Stream\+Builder}} (\mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{classoboe_1_1_audio_stream_base}{Audio\+Stream\+Base}} \&audio\+Stream\+Base)
\item 
\mbox{\hyperlink{classoboe_1_1_audio_stream_builder}{Audio\+Stream\+Builder}} $\ast$ \mbox{\hyperlink{classoboe_1_1_audio_stream_builder_a19c5a429d688d56078fe1a0349959910}{set\+Channel\+Count}} (\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} channel\+Count)
\item 
\mbox{\hyperlink{classoboe_1_1_audio_stream_builder}{Audio\+Stream\+Builder}} $\ast$ \mbox{\hyperlink{classoboe_1_1_audio_stream_builder_aac514acd59b71fc3860bf6fb9631ba6e}{set\+Direction}} (\mbox{\hyperlink{namespaceoboe_af2147500089212955498a08ef2edb5ae}{Direction}} direction)
\item 
\mbox{\hyperlink{classoboe_1_1_audio_stream_builder}{Audio\+Stream\+Builder}} $\ast$ \mbox{\hyperlink{classoboe_1_1_audio_stream_builder_a6feb4e35bc16f52bf77f182476878ada}{set\+Sample\+Rate}} (int32\+\_\+t \mbox{\hyperlink{juce__linux___a_l_s_a_8cpp_a2bd79d2ab2dfb6aeaf75c2878ad30e1f}{sample\+Rate}})
\item 
\mbox{\hyperlink{classoboe_1_1_audio_stream_builder}{Audio\+Stream\+Builder}} $\ast$ \mbox{\hyperlink{classoboe_1_1_audio_stream_builder_a206266d7d6c66ff5065fe0cfcc4ba436}{set\+Frames\+Per\+Callback}} (\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} frames\+Per\+Callback)
\item 
\mbox{\hyperlink{classoboe_1_1_audio_stream_builder}{Audio\+Stream\+Builder}} $\ast$ \mbox{\hyperlink{classoboe_1_1_audio_stream_builder_aef61b952f2e4cf1e0d77bcfd45dde623}{set\+Frames\+Per\+Data\+Callback}} (\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} frames\+Per\+Callback)
\item 
\mbox{\hyperlink{classoboe_1_1_audio_stream_builder}{Audio\+Stream\+Builder}} $\ast$ \mbox{\hyperlink{classoboe_1_1_audio_stream_builder_abe374fcde14760f9cac7412be50327e2}{set\+Format}} (\mbox{\hyperlink{namespaceoboe_a92afc593e856571aacbfd02e57075df6}{Audio\+Format}} format)
\item 
\mbox{\hyperlink{classoboe_1_1_audio_stream_builder}{Audio\+Stream\+Builder}} $\ast$ \mbox{\hyperlink{classoboe_1_1_audio_stream_builder_acc1f29980cc4dce26e69057568cd9d8a}{set\+Buffer\+Capacity\+In\+Frames}} (int32\+\_\+t buffer\+Capacity\+In\+Frames)
\item 
\mbox{\hyperlink{namespaceoboe_a92972414867c81d5974cb2ed7abefbf6}{Audio\+Api}} \mbox{\hyperlink{classoboe_1_1_audio_stream_builder_ac9d41811c297fd28bc61833f640bb8d0}{get\+Audio\+Api}} () \mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}}
\item 
\mbox{\hyperlink{classoboe_1_1_audio_stream_builder}{Audio\+Stream\+Builder}} $\ast$ \mbox{\hyperlink{classoboe_1_1_audio_stream_builder_a21529c064adedb357f472686b15d8cfd}{set\+Audio\+Api}} (\mbox{\hyperlink{namespaceoboe_a92972414867c81d5974cb2ed7abefbf6}{Audio\+Api}} audio\+Api)
\item 
\mbox{\hyperlink{classoboe_1_1_audio_stream_builder}{Audio\+Stream\+Builder}} $\ast$ \mbox{\hyperlink{classoboe_1_1_audio_stream_builder_ab4dc9896119889ce8a51dc79b7ab3997}{set\+Sharing\+Mode}} (\mbox{\hyperlink{namespaceoboe_a8330247b25429953a08354f41834d520}{Sharing\+Mode}} sharing\+Mode)
\item 
\mbox{\hyperlink{classoboe_1_1_audio_stream_builder}{Audio\+Stream\+Builder}} $\ast$ \mbox{\hyperlink{classoboe_1_1_audio_stream_builder_acbfdf7781b5a9536a9e5c08330be823d}{set\+Performance\+Mode}} (\mbox{\hyperlink{namespaceoboe_a1068781f3920654b1bfd7ed136468184}{Performance\+Mode}} performance\+Mode)
\item 
\mbox{\hyperlink{classoboe_1_1_audio_stream_builder}{Audio\+Stream\+Builder}} $\ast$ \mbox{\hyperlink{classoboe_1_1_audio_stream_builder_a8a6b7732c57b469f794d54721c2c901a}{set\+Usage}} (\mbox{\hyperlink{namespaceoboe_a104ee8396c173fefac429759ea3c21a0}{Usage}} usage)
\item 
\mbox{\hyperlink{classoboe_1_1_audio_stream_builder}{Audio\+Stream\+Builder}} $\ast$ \mbox{\hyperlink{classoboe_1_1_audio_stream_builder_ad664622f078c3d112bde19f9482e53e1}{set\+Content\+Type}} (\mbox{\hyperlink{namespaceoboe_a2a3cec6f021c1a324df60273710c604b}{Content\+Type}} content\+Type)
\item 
\mbox{\hyperlink{classoboe_1_1_audio_stream_builder}{Audio\+Stream\+Builder}} $\ast$ \mbox{\hyperlink{classoboe_1_1_audio_stream_builder_a3092c6427d68462f7b1dba12e109eec0}{set\+Input\+Preset}} (\mbox{\hyperlink{namespaceoboe_a4477ed232b02e2694d9309baf55a8f06}{Input\+Preset}} input\+Preset)
\item 
\mbox{\hyperlink{classoboe_1_1_audio_stream_builder}{Audio\+Stream\+Builder}} $\ast$ \mbox{\hyperlink{classoboe_1_1_audio_stream_builder_a3bf1b45f0640202169bcf680375c1956}{set\+Session\+Id}} (\mbox{\hyperlink{namespaceoboe_a5752250c10e96179e3618d7f72937eaf}{Session\+Id}} session\+Id)
\item 
\mbox{\hyperlink{classoboe_1_1_audio_stream_builder}{Audio\+Stream\+Builder}} $\ast$ \mbox{\hyperlink{classoboe_1_1_audio_stream_builder_a69c0a23e7ef57bced029ef2193cfe741}{set\+Device\+Id}} (int32\+\_\+t device\+Id)
\item 
\mbox{\hyperlink{classoboe_1_1_audio_stream_builder}{Audio\+Stream\+Builder}} $\ast$ \mbox{\hyperlink{classoboe_1_1_audio_stream_builder_ab74d7c2cbaea0640b8c1af2aff3eccb1}{set\+Data\+Callback}} (\mbox{\hyperlink{classoboe_1_1_audio_stream_data_callback}{oboe\+::\+Audio\+Stream\+Data\+Callback}} $\ast$data\+Callback)
\item 
\mbox{\hyperlink{classoboe_1_1_audio_stream_builder}{Audio\+Stream\+Builder}} $\ast$ \mbox{\hyperlink{classoboe_1_1_audio_stream_builder_a78fd602b969c66b6682597dfc63ad4c8}{set\+Error\+Callback}} (\mbox{\hyperlink{classoboe_1_1_audio_stream_error_callback}{oboe\+::\+Audio\+Stream\+Error\+Callback}} $\ast$error\+Callback)
\item 
\mbox{\hyperlink{classoboe_1_1_audio_stream_builder}{Audio\+Stream\+Builder}} $\ast$ \mbox{\hyperlink{classoboe_1_1_audio_stream_builder_af6df286286451120f8dae20358e0897c}{set\+Callback}} (\mbox{\hyperlink{classoboe_1_1_audio_stream_callback}{Audio\+Stream\+Callback}} $\ast$stream\+Callback)
\item 
\mbox{\hyperlink{classoboe_1_1_audio_stream_builder}{Audio\+Stream\+Builder}} $\ast$ \mbox{\hyperlink{classoboe_1_1_audio_stream_builder_a5d9e47dff2e81540c59349813c7d3566}{set\+Channel\+Conversion\+Allowed}} (bool allowed)
\item 
\mbox{\hyperlink{classoboe_1_1_audio_stream_builder}{Audio\+Stream\+Builder}} $\ast$ \mbox{\hyperlink{classoboe_1_1_audio_stream_builder_aa30150d2d0b3c925b545646962dffca0}{set\+Format\+Conversion\+Allowed}} (bool allowed)
\item 
\mbox{\hyperlink{classoboe_1_1_audio_stream_builder}{Audio\+Stream\+Builder}} $\ast$ \mbox{\hyperlink{classoboe_1_1_audio_stream_builder_a0c98d21da654da6d197b004d29d8499c}{set\+Sample\+Rate\+Conversion\+Quality}} (\mbox{\hyperlink{namespaceoboe_a82f3720eba7654aceb7282be36f9ff1d}{Sample\+Rate\+Conversion\+Quality}} \mbox{\hyperlink{jpeglib_8h_acac7df77df55f2a1bfd8d8d18340b773}{quality}})
\item 
\mbox{\hyperlink{classoboe_1_1_audio_stream_builder}{Audio\+Stream\+Builder}} $\ast$ \mbox{\hyperlink{classoboe_1_1_audio_stream_builder_a6f838f8fd083a31fcd6bec81d0060112}{set\+Package\+Name}} (std\+::string package\+Name)
\item 
\mbox{\hyperlink{classoboe_1_1_audio_stream_builder}{Audio\+Stream\+Builder}} $\ast$ \mbox{\hyperlink{classoboe_1_1_audio_stream_builder_a9bc8e2b5fe971a0fa68783cf3207be16}{set\+Attribution\+Tag}} (std\+::string attribution\+Tag)
\item 
bool \mbox{\hyperlink{classoboe_1_1_audio_stream_builder_aa07ea100fcb107d9f7913f206c2214f4}{will\+Use\+AAudio}} () \mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}}
\item 
\mbox{\hyperlink{namespaceoboe_a486512e787b609c80ba4436f23929af1}{Result}} \mbox{\hyperlink{classoboe_1_1_audio_stream_builder_a86b94cfa47729bef2e04dce1a9086074}{open\+Stream}} (\mbox{\hyperlink{classoboe_1_1_audio_stream}{Audio\+Stream}} $\ast$$\ast$stream)
\item 
\mbox{\hyperlink{namespaceoboe_a486512e787b609c80ba4436f23929af1}{Result}} \mbox{\hyperlink{classoboe_1_1_audio_stream_builder_a44b68216c48f8fb08a9e63178e0b0eeb}{open\+Stream}} (std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classoboe_1_1_audio_stream}{oboe\+::\+Audio\+Stream}} $>$ \&stream)
\item 
\mbox{\hyperlink{namespaceoboe_a486512e787b609c80ba4436f23929af1}{Result}} \mbox{\hyperlink{classoboe_1_1_audio_stream_builder_a7ab172a9be4fca2489aa5cbcc48c20ff}{open\+Managed\+Stream}} (\mbox{\hyperlink{namespaceoboe_a2b3b25550ebb0c6f792d0d5b870359cd}{Managed\+Stream}} \&stream)
\end{DoxyCompactItemize}
\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static bool \mbox{\hyperlink{classoboe_1_1_audio_stream_builder_aae51be47bbc47f9a278877601e038a89}{is\+AAudio\+Supported}} ()
\item 
static bool \mbox{\hyperlink{classoboe_1_1_audio_stream_builder_a7501765a0ddd178d7a5a1275df088a4f}{is\+AAudio\+Recommended}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}
Factory class for an audio Stream. 

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classoboe_1_1_audio_stream_builder_a8ebdd43f661f8d817023be73ad5fb497}\label{classoboe_1_1_audio_stream_builder_a8ebdd43f661f8d817023be73ad5fb497}} 
\index{oboe::AudioStreamBuilder@{oboe::AudioStreamBuilder}!AudioStreamBuilder@{AudioStreamBuilder}}
\index{AudioStreamBuilder@{AudioStreamBuilder}!oboe::AudioStreamBuilder@{oboe::AudioStreamBuilder}}
\doxysubsubsection{\texorpdfstring{AudioStreamBuilder()}{AudioStreamBuilder()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily oboe\+::\+Audio\+Stream\+Builder\+::\+Audio\+Stream\+Builder (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

\mbox{\Hypertarget{classoboe_1_1_audio_stream_builder_a8f2cc75bfce8d839bf72ca8fb4a0793a}\label{classoboe_1_1_audio_stream_builder_a8f2cc75bfce8d839bf72ca8fb4a0793a}} 
\index{oboe::AudioStreamBuilder@{oboe::AudioStreamBuilder}!AudioStreamBuilder@{AudioStreamBuilder}}
\index{AudioStreamBuilder@{AudioStreamBuilder}!oboe::AudioStreamBuilder@{oboe::AudioStreamBuilder}}
\doxysubsubsection{\texorpdfstring{AudioStreamBuilder()}{AudioStreamBuilder()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily oboe\+::\+Audio\+Stream\+Builder\+::\+Audio\+Stream\+Builder (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{classoboe_1_1_audio_stream_base}{Audio\+Stream\+Base}} \&}]{audio\+Stream\+Base }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classoboe_1_1_audio_stream_builder_ac9d41811c297fd28bc61833f640bb8d0}\label{classoboe_1_1_audio_stream_builder_ac9d41811c297fd28bc61833f640bb8d0}} 
\index{oboe::AudioStreamBuilder@{oboe::AudioStreamBuilder}!getAudioApi@{getAudioApi}}
\index{getAudioApi@{getAudioApi}!oboe::AudioStreamBuilder@{oboe::AudioStreamBuilder}}
\doxysubsubsection{\texorpdfstring{getAudioApi()}{getAudioApi()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespaceoboe_a92972414867c81d5974cb2ed7abefbf6}{Audio\+Api}} oboe\+::\+Audio\+Stream\+Builder\+::get\+Audio\+Api (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Get the audio API which will be requested when opening the stream. No guarantees that this is the API which will actually be used. Query the stream itself to find out the API which is being used.

If you do not specify the API, then AAudio will be used if \mbox{\hyperlink{classoboe_1_1_audio_stream_builder_a7501765a0ddd178d7a5a1275df088a4f}{is\+AAudio\+Recommended()}} returns true. Otherwise Open\+SL ES will be used.

\begin{DoxyReturn}{Returns}
the requested audio API 
\end{DoxyReturn}
\mbox{\Hypertarget{classoboe_1_1_audio_stream_builder_a7501765a0ddd178d7a5a1275df088a4f}\label{classoboe_1_1_audio_stream_builder_a7501765a0ddd178d7a5a1275df088a4f}} 
\index{oboe::AudioStreamBuilder@{oboe::AudioStreamBuilder}!isAAudioRecommended@{isAAudioRecommended}}
\index{isAAudioRecommended@{isAAudioRecommended}!oboe::AudioStreamBuilder@{oboe::AudioStreamBuilder}}
\doxysubsubsection{\texorpdfstring{isAAudioRecommended()}{isAAudioRecommended()}}
{\footnotesize\ttfamily bool oboe\+::\+Audio\+Stream\+Builder\+::is\+AAudio\+Recommended (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

Is the AAudio API recommended this device?

AAudio may be supported but not recommended because of version specific issues. AAudio is not recommended for Android 8.\+0 or earlier versions.

\begin{DoxyReturn}{Returns}
true if recommended 
\end{DoxyReturn}
\mbox{\Hypertarget{classoboe_1_1_audio_stream_builder_aae51be47bbc47f9a278877601e038a89}\label{classoboe_1_1_audio_stream_builder_aae51be47bbc47f9a278877601e038a89}} 
\index{oboe::AudioStreamBuilder@{oboe::AudioStreamBuilder}!isAAudioSupported@{isAAudioSupported}}
\index{isAAudioSupported@{isAAudioSupported}!oboe::AudioStreamBuilder@{oboe::AudioStreamBuilder}}
\doxysubsubsection{\texorpdfstring{isAAudioSupported()}{isAAudioSupported()}}
{\footnotesize\ttfamily bool oboe\+::\+Audio\+Stream\+Builder\+::is\+AAudio\+Supported (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

Is the AAudio API supported on this device?

AAudio was introduced in the Oreo 8.\+0 release.

\begin{DoxyReturn}{Returns}
true if supported 
\end{DoxyReturn}
\mbox{\Hypertarget{classoboe_1_1_audio_stream_builder_a7ab172a9be4fca2489aa5cbcc48c20ff}\label{classoboe_1_1_audio_stream_builder_a7ab172a9be4fca2489aa5cbcc48c20ff}} 
\index{oboe::AudioStreamBuilder@{oboe::AudioStreamBuilder}!openManagedStream@{openManagedStream}}
\index{openManagedStream@{openManagedStream}!oboe::AudioStreamBuilder@{oboe::AudioStreamBuilder}}
\doxysubsubsection{\texorpdfstring{openManagedStream()}{openManagedStream()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespaceoboe_a486512e787b609c80ba4436f23929af1}{Result}} oboe\+::\+Audio\+Stream\+Builder\+::open\+Managed\+Stream (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespaceoboe_a2b3b25550ebb0c6f792d0d5b870359cd}{oboe\+::\+Managed\+Stream}} \&}]{stream }\end{DoxyParamCaption})}

Create and open a Managed\+Stream object based on the current builder state.

The caller must create a unique ptr, and pass by reference so it can be modified to point to an opened stream. The caller owns the unique ptr, and it will be automatically closed and deleted when going out of scope.

\begin{DoxyRefDesc}{Deprecated}
\item[\mbox{\hyperlink{deprecated__deprecated000005}{Deprecated}}]Use \mbox{\hyperlink{classoboe_1_1_audio_stream_builder_a44b68216c48f8fb08a9e63178e0b0eeb}{open\+Stream(std\+::shared\+\_\+ptr$<$oboe\+::\+Audio\+Stream$>$ \&stream)}} instead. \end{DoxyRefDesc}

\begin{DoxyParams}{Parameters}
{\em stream} & Reference to the Managed\+Stream (uniqueptr) used to keep track of stream \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
OBOE\+\_\+\+OK if successful or a negative error code. 
\end{DoxyReturn}
\mbox{\Hypertarget{classoboe_1_1_audio_stream_builder_a86b94cfa47729bef2e04dce1a9086074}\label{classoboe_1_1_audio_stream_builder_a86b94cfa47729bef2e04dce1a9086074}} 
\index{oboe::AudioStreamBuilder@{oboe::AudioStreamBuilder}!openStream@{openStream}}
\index{openStream@{openStream}!oboe::AudioStreamBuilder@{oboe::AudioStreamBuilder}}
\doxysubsubsection{\texorpdfstring{openStream()}{openStream()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespaceoboe_a486512e787b609c80ba4436f23929af1}{Result}} oboe\+::\+Audio\+Stream\+Builder\+::open\+Stream (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classoboe_1_1_audio_stream}{Audio\+Stream}} $\ast$$\ast$}]{stream }\end{DoxyParamCaption})}

Create and open a stream object based on the current settings.

The caller owns the pointer to the \mbox{\hyperlink{classoboe_1_1_audio_stream}{Audio\+Stream}} object and must delete it when finished.

\begin{DoxyRefDesc}{Deprecated}
\item[\mbox{\hyperlink{deprecated__deprecated000004}{Deprecated}}]Use \mbox{\hyperlink{classoboe_1_1_audio_stream_builder_a44b68216c48f8fb08a9e63178e0b0eeb}{open\+Stream(std\+::shared\+\_\+ptr$<$oboe\+::\+Audio\+Stream$>$ \&stream)}} instead. \end{DoxyRefDesc}

\begin{DoxyParams}{Parameters}
{\em stream} & pointer to a variable to receive the stream address \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
OBOE\+\_\+\+OK if successful or a negative error code 
\end{DoxyReturn}
\mbox{\Hypertarget{classoboe_1_1_audio_stream_builder_a44b68216c48f8fb08a9e63178e0b0eeb}\label{classoboe_1_1_audio_stream_builder_a44b68216c48f8fb08a9e63178e0b0eeb}} 
\index{oboe::AudioStreamBuilder@{oboe::AudioStreamBuilder}!openStream@{openStream}}
\index{openStream@{openStream}!oboe::AudioStreamBuilder@{oboe::AudioStreamBuilder}}
\doxysubsubsection{\texorpdfstring{openStream()}{openStream()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespaceoboe_a486512e787b609c80ba4436f23929af1}{Result}} oboe\+::\+Audio\+Stream\+Builder\+::open\+Stream (\begin{DoxyParamCaption}\item[{std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classoboe_1_1_audio_stream}{oboe\+::\+Audio\+Stream}} $>$ \&}]{stream }\end{DoxyParamCaption})}

Create and open a stream object based on the current settings.

The caller shares the pointer to the \mbox{\hyperlink{classoboe_1_1_audio_stream}{Audio\+Stream}} object. The shared\+\_\+ptr is used internally by Oboe to prevent the stream from being deleted while it is being used by callbacks.


\begin{DoxyParams}{Parameters}
{\em stream} & reference to a shared\+\_\+ptr to receive the stream address \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
OBOE\+\_\+\+OK if successful or a negative error code 
\end{DoxyReturn}
\mbox{\Hypertarget{classoboe_1_1_audio_stream_builder_a9bc8e2b5fe971a0fa68783cf3207be16}\label{classoboe_1_1_audio_stream_builder_a9bc8e2b5fe971a0fa68783cf3207be16}} 
\index{oboe::AudioStreamBuilder@{oboe::AudioStreamBuilder}!setAttributionTag@{setAttributionTag}}
\index{setAttributionTag@{setAttributionTag}!oboe::AudioStreamBuilder@{oboe::AudioStreamBuilder}}
\doxysubsubsection{\texorpdfstring{setAttributionTag()}{setAttributionTag()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classoboe_1_1_audio_stream_builder}{Audio\+Stream\+Builder}} $\ast$ oboe\+::\+Audio\+Stream\+Builder\+::set\+Attribution\+Tag (\begin{DoxyParamCaption}\item[{std\+::string}]{attribution\+Tag }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Declare the attribution tag of the context creating the stream.

This is usually Context\+::get\+Attribution\+Tag()

The default, if you do not call this function, is the default attribution tag.

Added in API level 31.


\begin{DoxyParams}{Parameters}
{\em attribution\+Tag} & attribution\+Tag of the calling context. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classoboe_1_1_audio_stream_builder_a21529c064adedb357f472686b15d8cfd}\label{classoboe_1_1_audio_stream_builder_a21529c064adedb357f472686b15d8cfd}} 
\index{oboe::AudioStreamBuilder@{oboe::AudioStreamBuilder}!setAudioApi@{setAudioApi}}
\index{setAudioApi@{setAudioApi}!oboe::AudioStreamBuilder@{oboe::AudioStreamBuilder}}
\doxysubsubsection{\texorpdfstring{setAudioApi()}{setAudioApi()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classoboe_1_1_audio_stream_builder}{Audio\+Stream\+Builder}} $\ast$ oboe\+::\+Audio\+Stream\+Builder\+::set\+Audio\+Api (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespaceoboe_a92972414867c81d5974cb2ed7abefbf6}{Audio\+Api}}}]{audio\+Api }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

If you leave this unspecified then Oboe will choose the best API for the device and SDK version at runtime.

This should almost always be left unspecified, except for debugging purposes. Specifying AAudio will force Oboe to use AAudio on 8.\+0, which is extremely risky. Specifying Open\+SLES should mainly be used to test legacy performance/functionality.

If the caller requests AAudio and it is supported then AAudio will be used.


\begin{DoxyParams}{Parameters}
{\em audio\+Api} & Must be Audio\+Api\+::\+Unspecified, \mbox{\hyperlink{namespaceoboe_a92972414867c81d5974cb2ed7abefbf6a24e758ea9c1e842ef71cc8ff8b63fa9b}{Audio\+Api\+::\+Open\+SLES}} or \mbox{\hyperlink{namespaceoboe_a92972414867c81d5974cb2ed7abefbf6a99780b1e8d754eb42abed0ca5253e55b}{Audio\+Api\+::\+AAudio}}. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
pointer to the builder so calls can be chained 
\end{DoxyReturn}
\mbox{\Hypertarget{classoboe_1_1_audio_stream_builder_acc1f29980cc4dce26e69057568cd9d8a}\label{classoboe_1_1_audio_stream_builder_acc1f29980cc4dce26e69057568cd9d8a}} 
\index{oboe::AudioStreamBuilder@{oboe::AudioStreamBuilder}!setBufferCapacityInFrames@{setBufferCapacityInFrames}}
\index{setBufferCapacityInFrames@{setBufferCapacityInFrames}!oboe::AudioStreamBuilder@{oboe::AudioStreamBuilder}}
\doxysubsubsection{\texorpdfstring{setBufferCapacityInFrames()}{setBufferCapacityInFrames()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classoboe_1_1_audio_stream_builder}{Audio\+Stream\+Builder}} $\ast$ oboe\+::\+Audio\+Stream\+Builder\+::set\+Buffer\+Capacity\+In\+Frames (\begin{DoxyParamCaption}\item[{int32\+\_\+t}]{buffer\+Capacity\+In\+Frames }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Set the requested buffer capacity in frames. Buffer\+Capacity\+In\+Frames is the maximum possible Buffer\+Size\+In\+Frames.

The final stream capacity may differ. For AAudio it should be at least this big. For Open\+SL ES, it could be smaller.

Default is k\+Unspecified.


\begin{DoxyParams}{Parameters}
{\em buffer\+Capacity\+In\+Frames} & the desired buffer capacity in frames or k\+Unspecified \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
pointer to the builder so calls can be chained 
\end{DoxyReturn}
\mbox{\Hypertarget{classoboe_1_1_audio_stream_builder_af6df286286451120f8dae20358e0897c}\label{classoboe_1_1_audio_stream_builder_af6df286286451120f8dae20358e0897c}} 
\index{oboe::AudioStreamBuilder@{oboe::AudioStreamBuilder}!setCallback@{setCallback}}
\index{setCallback@{setCallback}!oboe::AudioStreamBuilder@{oboe::AudioStreamBuilder}}
\doxysubsubsection{\texorpdfstring{setCallback()}{setCallback()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classoboe_1_1_audio_stream_builder}{Audio\+Stream\+Builder}} $\ast$ oboe\+::\+Audio\+Stream\+Builder\+::set\+Callback (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classoboe_1_1_audio_stream_callback}{Audio\+Stream\+Callback}} $\ast$}]{stream\+Callback }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Specifies an object to handle data or error related callbacks from the underlying API.

This is the equivalent of calling both \mbox{\hyperlink{classoboe_1_1_audio_stream_builder_ab74d7c2cbaea0640b8c1af2aff3eccb1}{set\+Data\+Callback()}} and \mbox{\hyperlink{classoboe_1_1_audio_stream_builder_a78fd602b969c66b6682597dfc63ad4c8}{set\+Error\+Callback()}}.

{\bfseries{Important\+: See \mbox{\hyperlink{classoboe_1_1_audio_stream_callback}{Audio\+Stream\+Callback}} for restrictions on what may be called from the callback methods.}}

When an error callback occurs, the associated stream will be stopped and closed in a separate thread.

A note on why the stream\+Callback parameter is a raw pointer rather than a smart pointer\+:

The caller should retain ownership of the object stream\+Callback points to. At first glance weak\+\_\+ptr may seem like a good candidate for stream\+Callback as this implies temporary ownership. However, a weak\+\_\+ptr can only be created from a shared\+\_\+ptr. A shared\+\_\+ptr incurs some performance overhead. The callback object is likely to be accessed every few milliseconds when the stream requires new data so this overhead is something we want to avoid.

This leaves a raw pointer as the logical type choice. The only caveat being that the caller must not destroy the callback before the stream has been closed.


\begin{DoxyParams}{Parameters}
{\em stream\+Callback} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
pointer to the builder so calls can be chained 
\end{DoxyReturn}
\mbox{\Hypertarget{classoboe_1_1_audio_stream_builder_a5d9e47dff2e81540c59349813c7d3566}\label{classoboe_1_1_audio_stream_builder_a5d9e47dff2e81540c59349813c7d3566}} 
\index{oboe::AudioStreamBuilder@{oboe::AudioStreamBuilder}!setChannelConversionAllowed@{setChannelConversionAllowed}}
\index{setChannelConversionAllowed@{setChannelConversionAllowed}!oboe::AudioStreamBuilder@{oboe::AudioStreamBuilder}}
\doxysubsubsection{\texorpdfstring{setChannelConversionAllowed()}{setChannelConversionAllowed()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classoboe_1_1_audio_stream_builder}{Audio\+Stream\+Builder}} $\ast$ oboe\+::\+Audio\+Stream\+Builder\+::set\+Channel\+Conversion\+Allowed (\begin{DoxyParamCaption}\item[{bool}]{allowed }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

If true then Oboe might convert channel counts to achieve optimal results. On some versions of Android for example, stereo streams could not use a FAST track. So a mono stream might be used instead and duplicated to two channels. On some devices, mono streams might be broken, so a stereo stream might be opened and converted to mono.

Default is true. \mbox{\Hypertarget{classoboe_1_1_audio_stream_builder_a19c5a429d688d56078fe1a0349959910}\label{classoboe_1_1_audio_stream_builder_a19c5a429d688d56078fe1a0349959910}} 
\index{oboe::AudioStreamBuilder@{oboe::AudioStreamBuilder}!setChannelCount@{setChannelCount}}
\index{setChannelCount@{setChannelCount}!oboe::AudioStreamBuilder@{oboe::AudioStreamBuilder}}
\doxysubsubsection{\texorpdfstring{setChannelCount()}{setChannelCount()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classoboe_1_1_audio_stream_builder}{Audio\+Stream\+Builder}} $\ast$ oboe\+::\+Audio\+Stream\+Builder\+::set\+Channel\+Count (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}}}]{channel\+Count }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Request a specific number of channels.

Default is k\+Unspecified. If the value is unspecified then the application should query for the actual value after the stream is opened. \mbox{\Hypertarget{classoboe_1_1_audio_stream_builder_ad664622f078c3d112bde19f9482e53e1}\label{classoboe_1_1_audio_stream_builder_ad664622f078c3d112bde19f9482e53e1}} 
\index{oboe::AudioStreamBuilder@{oboe::AudioStreamBuilder}!setContentType@{setContentType}}
\index{setContentType@{setContentType}!oboe::AudioStreamBuilder@{oboe::AudioStreamBuilder}}
\doxysubsubsection{\texorpdfstring{setContentType()}{setContentType()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classoboe_1_1_audio_stream_builder}{Audio\+Stream\+Builder}} $\ast$ oboe\+::\+Audio\+Stream\+Builder\+::set\+Content\+Type (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespaceoboe_a2a3cec6f021c1a324df60273710c604b}{Content\+Type}}}]{content\+Type }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Set the type of audio data that an output stream will carry.

The system will use this information to optimize the behavior of the stream. This could, for example, affect whether a stream is paused when a notification occurs. The content\+Type is ignored for input streams.

The default, if you do not call this function, is Content\+Type\+::\+Music.

Added in API level 28.


\begin{DoxyParams}{Parameters}
{\em content\+Type} & the type of audio data, eg. Content\+Type\+::\+Speech \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classoboe_1_1_audio_stream_builder_ab74d7c2cbaea0640b8c1af2aff3eccb1}\label{classoboe_1_1_audio_stream_builder_ab74d7c2cbaea0640b8c1af2aff3eccb1}} 
\index{oboe::AudioStreamBuilder@{oboe::AudioStreamBuilder}!setDataCallback@{setDataCallback}}
\index{setDataCallback@{setDataCallback}!oboe::AudioStreamBuilder@{oboe::AudioStreamBuilder}}
\doxysubsubsection{\texorpdfstring{setDataCallback()}{setDataCallback()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classoboe_1_1_audio_stream_builder}{Audio\+Stream\+Builder}} $\ast$ oboe\+::\+Audio\+Stream\+Builder\+::set\+Data\+Callback (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classoboe_1_1_audio_stream_data_callback}{oboe\+::\+Audio\+Stream\+Data\+Callback}} $\ast$}]{data\+Callback }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Specifies an object to handle data related callbacks from the underlying API.

{\bfseries{Important\+: See \mbox{\hyperlink{classoboe_1_1_audio_stream_callback}{Audio\+Stream\+Callback}} for restrictions on what may be called from the callback methods.}}


\begin{DoxyParams}{Parameters}
{\em data\+Callback} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
pointer to the builder so calls can be chained 
\end{DoxyReturn}
\mbox{\Hypertarget{classoboe_1_1_audio_stream_builder_a69c0a23e7ef57bced029ef2193cfe741}\label{classoboe_1_1_audio_stream_builder_a69c0a23e7ef57bced029ef2193cfe741}} 
\index{oboe::AudioStreamBuilder@{oboe::AudioStreamBuilder}!setDeviceId@{setDeviceId}}
\index{setDeviceId@{setDeviceId}!oboe::AudioStreamBuilder@{oboe::AudioStreamBuilder}}
\doxysubsubsection{\texorpdfstring{setDeviceId()}{setDeviceId()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classoboe_1_1_audio_stream_builder}{Audio\+Stream\+Builder}} $\ast$ oboe\+::\+Audio\+Stream\+Builder\+::set\+Device\+Id (\begin{DoxyParamCaption}\item[{int32\+\_\+t}]{device\+Id }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Request a stream to a specific audio input/output device given an audio device ID.

In most cases, the primary device will be the appropriate device to use, and the device\+Id can be left k\+Unspecified.

On Android, for example, the ID could be obtained from the Java Audio\+Manager. Audio\+Manager.\+get\+Devices() returns an array of Audio\+Device\+Info\mbox{[}\mbox{]}, which contains a get\+Id() method (as well as other type information), that should be passed to this method.

Note that when using Open\+SL ES, this will be ignored and the created stream will have device\+Id k\+Unspecified.


\begin{DoxyParams}{Parameters}
{\em device\+Id} & device identifier or k\+Unspecified \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
pointer to the builder so calls can be chained 
\end{DoxyReturn}
\mbox{\Hypertarget{classoboe_1_1_audio_stream_builder_aac514acd59b71fc3860bf6fb9631ba6e}\label{classoboe_1_1_audio_stream_builder_aac514acd59b71fc3860bf6fb9631ba6e}} 
\index{oboe::AudioStreamBuilder@{oboe::AudioStreamBuilder}!setDirection@{setDirection}}
\index{setDirection@{setDirection}!oboe::AudioStreamBuilder@{oboe::AudioStreamBuilder}}
\doxysubsubsection{\texorpdfstring{setDirection()}{setDirection()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classoboe_1_1_audio_stream_builder}{Audio\+Stream\+Builder}} $\ast$ oboe\+::\+Audio\+Stream\+Builder\+::set\+Direction (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespaceoboe_af2147500089212955498a08ef2edb5ae}{Direction}}}]{direction }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Request the direction for a stream. The default is \mbox{\hyperlink{namespaceoboe_af2147500089212955498a08ef2edb5aea29c2c02a361c9d7028472e5d92cd4a54}{Direction\+::\+Output}}.


\begin{DoxyParams}{Parameters}
{\em direction} & \mbox{\hyperlink{namespaceoboe_af2147500089212955498a08ef2edb5aea29c2c02a361c9d7028472e5d92cd4a54}{Direction\+::\+Output}} or \mbox{\hyperlink{namespaceoboe_af2147500089212955498a08ef2edb5aea324118a6721dd6b8a9b9f4e327df2bf5}{Direction\+::\+Input}} \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classoboe_1_1_audio_stream_builder_a78fd602b969c66b6682597dfc63ad4c8}\label{classoboe_1_1_audio_stream_builder_a78fd602b969c66b6682597dfc63ad4c8}} 
\index{oboe::AudioStreamBuilder@{oboe::AudioStreamBuilder}!setErrorCallback@{setErrorCallback}}
\index{setErrorCallback@{setErrorCallback}!oboe::AudioStreamBuilder@{oboe::AudioStreamBuilder}}
\doxysubsubsection{\texorpdfstring{setErrorCallback()}{setErrorCallback()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classoboe_1_1_audio_stream_builder}{Audio\+Stream\+Builder}} $\ast$ oboe\+::\+Audio\+Stream\+Builder\+::set\+Error\+Callback (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classoboe_1_1_audio_stream_error_callback}{oboe\+::\+Audio\+Stream\+Error\+Callback}} $\ast$}]{error\+Callback }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Specifies an object to handle error related callbacks from the underlying API. This can occur when a stream is disconnected because a headset is plugged in or unplugged. It can also occur if the audio service fails or if an exclusive stream is stolen by another stream.

{\bfseries{Important\+: See \mbox{\hyperlink{classoboe_1_1_audio_stream_callback}{Audio\+Stream\+Callback}} for restrictions on what may be called from the callback methods.}}

{\bfseries{When an error callback occurs, the associated stream must be stopped and closed in a separate thread.}}


\begin{DoxyParams}{Parameters}
{\em error\+Callback} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
pointer to the builder so calls can be chained 
\end{DoxyReturn}
\mbox{\Hypertarget{classoboe_1_1_audio_stream_builder_abe374fcde14760f9cac7412be50327e2}\label{classoboe_1_1_audio_stream_builder_abe374fcde14760f9cac7412be50327e2}} 
\index{oboe::AudioStreamBuilder@{oboe::AudioStreamBuilder}!setFormat@{setFormat}}
\index{setFormat@{setFormat}!oboe::AudioStreamBuilder@{oboe::AudioStreamBuilder}}
\doxysubsubsection{\texorpdfstring{setFormat()}{setFormat()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classoboe_1_1_audio_stream_builder}{Audio\+Stream\+Builder}} $\ast$ oboe\+::\+Audio\+Stream\+Builder\+::set\+Format (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespaceoboe_a92afc593e856571aacbfd02e57075df6}{Audio\+Format}}}]{format }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Request a sample data format, for example Format\+::\+Float.

Default is Format\+::\+Unspecified. If the value is unspecified then the application should query for the actual value after the stream is opened. \mbox{\Hypertarget{classoboe_1_1_audio_stream_builder_aa30150d2d0b3c925b545646962dffca0}\label{classoboe_1_1_audio_stream_builder_aa30150d2d0b3c925b545646962dffca0}} 
\index{oboe::AudioStreamBuilder@{oboe::AudioStreamBuilder}!setFormatConversionAllowed@{setFormatConversionAllowed}}
\index{setFormatConversionAllowed@{setFormatConversionAllowed}!oboe::AudioStreamBuilder@{oboe::AudioStreamBuilder}}
\doxysubsubsection{\texorpdfstring{setFormatConversionAllowed()}{setFormatConversionAllowed()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classoboe_1_1_audio_stream_builder}{Audio\+Stream\+Builder}} $\ast$ oboe\+::\+Audio\+Stream\+Builder\+::set\+Format\+Conversion\+Allowed (\begin{DoxyParamCaption}\item[{bool}]{allowed }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

If true then Oboe might convert data formats to achieve optimal results. On some versions of Android, for example, a float stream could not get a low latency data path. So an I16 stream might be opened and converted to float.

Default is false. \mbox{\Hypertarget{classoboe_1_1_audio_stream_builder_a206266d7d6c66ff5065fe0cfcc4ba436}\label{classoboe_1_1_audio_stream_builder_a206266d7d6c66ff5065fe0cfcc4ba436}} 
\index{oboe::AudioStreamBuilder@{oboe::AudioStreamBuilder}!setFramesPerCallback@{setFramesPerCallback}}
\index{setFramesPerCallback@{setFramesPerCallback}!oboe::AudioStreamBuilder@{oboe::AudioStreamBuilder}}
\doxysubsubsection{\texorpdfstring{setFramesPerCallback()}{setFramesPerCallback()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classoboe_1_1_audio_stream_builder}{Audio\+Stream\+Builder}} $\ast$ oboe\+::\+Audio\+Stream\+Builder\+::set\+Frames\+Per\+Callback (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}}}]{frames\+Per\+Callback }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

\begin{DoxyRefDesc}{Deprecated}
\item[\mbox{\hyperlink{deprecated__deprecated000003}{Deprecated}}]use {\ttfamily set\+Frames\+Per\+Data\+Callback} instead. \end{DoxyRefDesc}
\mbox{\Hypertarget{classoboe_1_1_audio_stream_builder_aef61b952f2e4cf1e0d77bcfd45dde623}\label{classoboe_1_1_audio_stream_builder_aef61b952f2e4cf1e0d77bcfd45dde623}} 
\index{oboe::AudioStreamBuilder@{oboe::AudioStreamBuilder}!setFramesPerDataCallback@{setFramesPerDataCallback}}
\index{setFramesPerDataCallback@{setFramesPerDataCallback}!oboe::AudioStreamBuilder@{oboe::AudioStreamBuilder}}
\doxysubsubsection{\texorpdfstring{setFramesPerDataCallback()}{setFramesPerDataCallback()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classoboe_1_1_audio_stream_builder}{Audio\+Stream\+Builder}} $\ast$ oboe\+::\+Audio\+Stream\+Builder\+::set\+Frames\+Per\+Data\+Callback (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}}}]{frames\+Per\+Callback }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Request a specific number of frames for the data callback.

Default is k\+Unspecified. If the value is unspecified then the actual number may vary from callback to callback.

If an application can handle a varying number of frames then we recommend leaving this unspecified. This allow the underlying API to optimize the callbacks. But if your application is, for example, doing FFTs or other block oriented operations, then call this function to get the sizes you need.


\begin{DoxyParams}{Parameters}
{\em frames\+Per\+Callback} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
pointer to the builder so calls can be chained 
\end{DoxyReturn}
\mbox{\Hypertarget{classoboe_1_1_audio_stream_builder_a3092c6427d68462f7b1dba12e109eec0}\label{classoboe_1_1_audio_stream_builder_a3092c6427d68462f7b1dba12e109eec0}} 
\index{oboe::AudioStreamBuilder@{oboe::AudioStreamBuilder}!setInputPreset@{setInputPreset}}
\index{setInputPreset@{setInputPreset}!oboe::AudioStreamBuilder@{oboe::AudioStreamBuilder}}
\doxysubsubsection{\texorpdfstring{setInputPreset()}{setInputPreset()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classoboe_1_1_audio_stream_builder}{Audio\+Stream\+Builder}} $\ast$ oboe\+::\+Audio\+Stream\+Builder\+::set\+Input\+Preset (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespaceoboe_a4477ed232b02e2694d9309baf55a8f06}{Input\+Preset}}}]{input\+Preset }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Set the input (capture) preset for the stream.

The system will use this information to optimize the behavior of the stream. This could, for example, affect which microphones are used and how the recorded data is processed.

The default, if you do not call this function, is Input\+Preset\+::\+Voice\+Recognition. That is because Voice\+Recognition is the preset with the lowest latency on many platforms.

Added in API level 28.


\begin{DoxyParams}{Parameters}
{\em input\+Preset} & the desired configuration for recording \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classoboe_1_1_audio_stream_builder_a6f838f8fd083a31fcd6bec81d0060112}\label{classoboe_1_1_audio_stream_builder_a6f838f8fd083a31fcd6bec81d0060112}} 
\index{oboe::AudioStreamBuilder@{oboe::AudioStreamBuilder}!setPackageName@{setPackageName}}
\index{setPackageName@{setPackageName}!oboe::AudioStreamBuilder@{oboe::AudioStreamBuilder}}
\doxysubsubsection{\texorpdfstring{setPackageName()}{setPackageName()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classoboe_1_1_audio_stream_builder}{Audio\+Stream\+Builder}} $\ast$ oboe\+::\+Audio\+Stream\+Builder\+::set\+Package\+Name (\begin{DoxyParamCaption}\item[{std\+::string}]{package\+Name }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Declare the name of the package creating the stream.

This is usually Context\+::get\+Package\+Name()

The default, if you do not call this function, is a random package in the calling uid.

Added in API level 31.


\begin{DoxyParams}{Parameters}
{\em package\+Name} & package\+Name of the calling app. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classoboe_1_1_audio_stream_builder_acbfdf7781b5a9536a9e5c08330be823d}\label{classoboe_1_1_audio_stream_builder_acbfdf7781b5a9536a9e5c08330be823d}} 
\index{oboe::AudioStreamBuilder@{oboe::AudioStreamBuilder}!setPerformanceMode@{setPerformanceMode}}
\index{setPerformanceMode@{setPerformanceMode}!oboe::AudioStreamBuilder@{oboe::AudioStreamBuilder}}
\doxysubsubsection{\texorpdfstring{setPerformanceMode()}{setPerformanceMode()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classoboe_1_1_audio_stream_builder}{Audio\+Stream\+Builder}} $\ast$ oboe\+::\+Audio\+Stream\+Builder\+::set\+Performance\+Mode (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespaceoboe_a1068781f3920654b1bfd7ed136468184}{Performance\+Mode}}}]{performance\+Mode }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Request a performance level for the stream. This will determine the latency, the power consumption, and the level of protection from glitches.


\begin{DoxyParams}{Parameters}
{\em performance\+Mode} & for example, \mbox{\hyperlink{namespaceoboe_a1068781f3920654b1bfd7ed136468184a611907b5ab1865515c35357efa41a9b9}{Performance\+Mode\+::\+Low\+Latency}} \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
pointer to the builder so calls can be chained 
\end{DoxyReturn}
\mbox{\Hypertarget{classoboe_1_1_audio_stream_builder_a6feb4e35bc16f52bf77f182476878ada}\label{classoboe_1_1_audio_stream_builder_a6feb4e35bc16f52bf77f182476878ada}} 
\index{oboe::AudioStreamBuilder@{oboe::AudioStreamBuilder}!setSampleRate@{setSampleRate}}
\index{setSampleRate@{setSampleRate}!oboe::AudioStreamBuilder@{oboe::AudioStreamBuilder}}
\doxysubsubsection{\texorpdfstring{setSampleRate()}{setSampleRate()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classoboe_1_1_audio_stream_builder}{Audio\+Stream\+Builder}} $\ast$ oboe\+::\+Audio\+Stream\+Builder\+::set\+Sample\+Rate (\begin{DoxyParamCaption}\item[{int32\+\_\+t}]{sample\+Rate }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Request a specific sample rate in Hz.

Default is k\+Unspecified. If the value is unspecified then the application should query for the actual value after the stream is opened.

Technically, this should be called the \char`\"{}frame rate\char`\"{} or \char`\"{}frames per second\char`\"{}, because it refers to the number of complete frames transferred per second. But it is traditionally called \char`\"{}sample rate\char`\"{}. Se we use that term. \mbox{\Hypertarget{classoboe_1_1_audio_stream_builder_a0c98d21da654da6d197b004d29d8499c}\label{classoboe_1_1_audio_stream_builder_a0c98d21da654da6d197b004d29d8499c}} 
\index{oboe::AudioStreamBuilder@{oboe::AudioStreamBuilder}!setSampleRateConversionQuality@{setSampleRateConversionQuality}}
\index{setSampleRateConversionQuality@{setSampleRateConversionQuality}!oboe::AudioStreamBuilder@{oboe::AudioStreamBuilder}}
\doxysubsubsection{\texorpdfstring{setSampleRateConversionQuality()}{setSampleRateConversionQuality()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classoboe_1_1_audio_stream_builder}{Audio\+Stream\+Builder}} $\ast$ oboe\+::\+Audio\+Stream\+Builder\+::set\+Sample\+Rate\+Conversion\+Quality (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespaceoboe_a82f3720eba7654aceb7282be36f9ff1d}{Sample\+Rate\+Conversion\+Quality}}}]{quality }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Specify the quality of the sample rate converter in Oboe.

If set to None then Oboe will not do sample rate conversion. But the underlying APIs might still do sample rate conversion if you specify a sample rate. That can prevent you from getting a low latency stream.

If you do the conversion in Oboe then you might still get a low latency stream.

Default is Sample\+Rate\+Conversion\+Quality\+::\+None \mbox{\Hypertarget{classoboe_1_1_audio_stream_builder_a3bf1b45f0640202169bcf680375c1956}\label{classoboe_1_1_audio_stream_builder_a3bf1b45f0640202169bcf680375c1956}} 
\index{oboe::AudioStreamBuilder@{oboe::AudioStreamBuilder}!setSessionId@{setSessionId}}
\index{setSessionId@{setSessionId}!oboe::AudioStreamBuilder@{oboe::AudioStreamBuilder}}
\doxysubsubsection{\texorpdfstring{setSessionId()}{setSessionId()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classoboe_1_1_audio_stream_builder}{Audio\+Stream\+Builder}} $\ast$ oboe\+::\+Audio\+Stream\+Builder\+::set\+Session\+Id (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespaceoboe_a5752250c10e96179e3618d7f72937eaf}{Session\+Id}}}]{session\+Id }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Set the requested session ID.

The session ID can be used to associate a stream with effects processors. The effects are controlled using the Android Audio\+Effect Java API.

The default, if you do not call this function, is Session\+Id\+::\+None.

If set to Session\+Id\+::\+Allocate then a session ID will be allocated when the stream is opened.

The allocated session ID can be obtained by calling \mbox{\hyperlink{classoboe_1_1_audio_stream_base_aa3c502ce09bbad7690a2dd6acaf8892e}{Audio\+Stream\+::get\+Session\+Id()}} and then used with this function when opening another stream. This allows effects to be shared between streams.

Session IDs from Oboe can be used the Android Java APIs and vice versa. So a session ID from an Oboe stream can be passed to Java and effects applied using the Java Audio\+Effect API.

Allocated session IDs will always be positive and nonzero.

Added in API level 28.


\begin{DoxyParams}{Parameters}
{\em session\+Id} & an allocated session\+ID or Session\+Id\+::\+Allocate \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classoboe_1_1_audio_stream_builder_ab4dc9896119889ce8a51dc79b7ab3997}\label{classoboe_1_1_audio_stream_builder_ab4dc9896119889ce8a51dc79b7ab3997}} 
\index{oboe::AudioStreamBuilder@{oboe::AudioStreamBuilder}!setSharingMode@{setSharingMode}}
\index{setSharingMode@{setSharingMode}!oboe::AudioStreamBuilder@{oboe::AudioStreamBuilder}}
\doxysubsubsection{\texorpdfstring{setSharingMode()}{setSharingMode()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classoboe_1_1_audio_stream_builder}{Audio\+Stream\+Builder}} $\ast$ oboe\+::\+Audio\+Stream\+Builder\+::set\+Sharing\+Mode (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespaceoboe_a8330247b25429953a08354f41834d520}{Sharing\+Mode}}}]{sharing\+Mode }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Request a mode for sharing the device. The requested sharing mode may not be available. So the application should query for the actual mode after the stream is opened.


\begin{DoxyParams}{Parameters}
{\em sharing\+Mode} & \mbox{\hyperlink{namespaceoboe_a8330247b25429953a08354f41834d520aa6156ea9d66fef24e87e841fbabf7cca}{Sharing\+Mode\+::\+Shared}} or \mbox{\hyperlink{namespaceoboe_a8330247b25429953a08354f41834d520a2ef50b4c466304dc6ac77bac8a779971}{Sharing\+Mode\+::\+Exclusive}} \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
pointer to the builder so calls can be chained 
\end{DoxyReturn}
\mbox{\Hypertarget{classoboe_1_1_audio_stream_builder_a8a6b7732c57b469f794d54721c2c901a}\label{classoboe_1_1_audio_stream_builder_a8a6b7732c57b469f794d54721c2c901a}} 
\index{oboe::AudioStreamBuilder@{oboe::AudioStreamBuilder}!setUsage@{setUsage}}
\index{setUsage@{setUsage}!oboe::AudioStreamBuilder@{oboe::AudioStreamBuilder}}
\doxysubsubsection{\texorpdfstring{setUsage()}{setUsage()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classoboe_1_1_audio_stream_builder}{Audio\+Stream\+Builder}} $\ast$ oboe\+::\+Audio\+Stream\+Builder\+::set\+Usage (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespaceoboe_a104ee8396c173fefac429759ea3c21a0}{Usage}}}]{usage }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Set the intended use case for an output stream.

The system will use this information to optimize the behavior of the stream. This could, for example, affect how volume and focus is handled for the stream. The usage is ignored for input streams.

The default, if you do not call this function, is \mbox{\hyperlink{namespaceoboe_a104ee8396c173fefac429759ea3c21a0a3b563524fdb17b4a86590470d40bef74}{Usage\+::\+Media}}.

Added in API level 28.


\begin{DoxyParams}{Parameters}
{\em usage} & the desired usage, eg. \mbox{\hyperlink{namespaceoboe_a104ee8396c173fefac429759ea3c21a0a63d72051e901c069f8aa1b32aa0c43bb}{Usage\+::\+Game}} \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classoboe_1_1_audio_stream_builder_aa07ea100fcb107d9f7913f206c2214f4}\label{classoboe_1_1_audio_stream_builder_aa07ea100fcb107d9f7913f206c2214f4}} 
\index{oboe::AudioStreamBuilder@{oboe::AudioStreamBuilder}!willUseAAudio@{willUseAAudio}}
\index{willUseAAudio@{willUseAAudio}!oboe::AudioStreamBuilder@{oboe::AudioStreamBuilder}}
\doxysubsubsection{\texorpdfstring{willUseAAudio()}{willUseAAudio()}}
{\footnotesize\ttfamily bool oboe\+::\+Audio\+Stream\+Builder\+::will\+Use\+AAudio (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

\begin{DoxyReturn}{Returns}
true if AAudio will be used based on the current settings. 
\end{DoxyReturn}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
build/juce\+\_\+audio\+\_\+devices/native/oboe/include/oboe/\mbox{\hyperlink{_audio_stream_builder_8h}{Audio\+Stream\+Builder.\+h}}\item 
build/juce\+\_\+audio\+\_\+devices/native/oboe/src/common/\mbox{\hyperlink{_audio_stream_builder_8cpp}{Audio\+Stream\+Builder.\+cpp}}\end{DoxyCompactItemize}
