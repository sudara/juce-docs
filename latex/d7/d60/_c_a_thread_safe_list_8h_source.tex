\hypertarget{_c_a_thread_safe_list_8h_source}{}\doxysection{CAThread\+Safe\+List.\+h}
\label{_c_a_thread_safe_list_8h_source}\index{build/juce\_audio\_plugin\_client/AU/CoreAudioUtilityClasses/CAThreadSafeList.h@{build/juce\_audio\_plugin\_client/AU/CoreAudioUtilityClasses/CAThreadSafeList.h}}
\mbox{\hyperlink{_c_a_thread_safe_list_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{/*}}
\DoxyCodeLine{2 \textcolor{comment}{     File: CAThreadSafeList.h}}
\DoxyCodeLine{3 \textcolor{comment}{ Abstract: Part of CoreAudio Utility Classes}}
\DoxyCodeLine{4 \textcolor{comment}{  Version: 1.1}}
\DoxyCodeLine{5 \textcolor{comment}{}}
\DoxyCodeLine{6 \textcolor{comment}{ Disclaimer: IMPORTANT:  This Apple software is supplied to you by Apple}}
\DoxyCodeLine{7 \textcolor{comment}{ Inc. ("{}Apple"{}) in consideration of your agreement to the following}}
\DoxyCodeLine{8 \textcolor{comment}{ terms, and your use, installation, modification or redistribution of}}
\DoxyCodeLine{9 \textcolor{comment}{ this Apple software constitutes acceptance of these terms.  If you do}}
\DoxyCodeLine{10 \textcolor{comment}{ not agree with these terms, please do not use, install, modify or}}
\DoxyCodeLine{11 \textcolor{comment}{ redistribute this Apple software.}}
\DoxyCodeLine{12 \textcolor{comment}{}}
\DoxyCodeLine{13 \textcolor{comment}{ In consideration of your agreement to abide by the following terms, and}}
\DoxyCodeLine{14 \textcolor{comment}{ subject to these terms, Apple grants you a personal, non-\/exclusive}}
\DoxyCodeLine{15 \textcolor{comment}{ license, under Apple's copyrights in this original Apple software (the}}
\DoxyCodeLine{16 \textcolor{comment}{ "{}Apple Software"{}), to use, reproduce, modify and redistribute the Apple}}
\DoxyCodeLine{17 \textcolor{comment}{ Software, with or without modifications, in source and/or binary forms;}}
\DoxyCodeLine{18 \textcolor{comment}{ provided that if you redistribute the Apple Software in its entirety and}}
\DoxyCodeLine{19 \textcolor{comment}{ without modifications, you must retain this notice and the following}}
\DoxyCodeLine{20 \textcolor{comment}{ text and disclaimers in all such redistributions of the Apple Software.}}
\DoxyCodeLine{21 \textcolor{comment}{ Neither the name, trademarks, service marks or logos of Apple Inc. may}}
\DoxyCodeLine{22 \textcolor{comment}{ be used to endorse or promote products derived from the Apple Software}}
\DoxyCodeLine{23 \textcolor{comment}{ without specific prior written permission from Apple.  Except as}}
\DoxyCodeLine{24 \textcolor{comment}{ expressly stated in this notice, no other rights or licenses, express or}}
\DoxyCodeLine{25 \textcolor{comment}{ implied, are granted by Apple herein, including but not limited to any}}
\DoxyCodeLine{26 \textcolor{comment}{ patent rights that may be infringed by your derivative works or by other}}
\DoxyCodeLine{27 \textcolor{comment}{ works in which the Apple Software may be incorporated.}}
\DoxyCodeLine{28 \textcolor{comment}{}}
\DoxyCodeLine{29 \textcolor{comment}{ The Apple Software is provided by Apple on an "{}AS IS"{} basis.  APPLE}}
\DoxyCodeLine{30 \textcolor{comment}{ MAKES NO WARRANTIES, EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION}}
\DoxyCodeLine{31 \textcolor{comment}{ THE IMPLIED WARRANTIES OF NON-\/INFRINGEMENT, MERCHANTABILITY AND FITNESS}}
\DoxyCodeLine{32 \textcolor{comment}{ FOR A PARTICULAR PURPOSE, REGARDING THE APPLE SOFTWARE OR ITS USE AND}}
\DoxyCodeLine{33 \textcolor{comment}{ OPERATION ALONE OR IN COMBINATION WITH YOUR PRODUCTS.}}
\DoxyCodeLine{34 \textcolor{comment}{}}
\DoxyCodeLine{35 \textcolor{comment}{ IN NO EVENT SHALL APPLE BE LIABLE FOR ANY SPECIAL, INDIRECT, INCIDENTAL}}
\DoxyCodeLine{36 \textcolor{comment}{ OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF}}
\DoxyCodeLine{37 \textcolor{comment}{ SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS}}
\DoxyCodeLine{38 \textcolor{comment}{ INTERRUPTION) ARISING IN ANY WAY OUT OF THE USE, REPRODUCTION,}}
\DoxyCodeLine{39 \textcolor{comment}{ MODIFICATION AND/OR DISTRIBUTION OF THE APPLE SOFTWARE, HOWEVER CAUSED}}
\DoxyCodeLine{40 \textcolor{comment}{ AND WHETHER UNDER THEORY OF CONTRACT, TORT (INCLUDING NEGLIGENCE),}}
\DoxyCodeLine{41 \textcolor{comment}{ STRICT LIABILITY OR OTHERWISE, EVEN IF APPLE HAS BEEN ADVISED OF THE}}
\DoxyCodeLine{42 \textcolor{comment}{ POSSIBILITY OF SUCH DAMAGE.}}
\DoxyCodeLine{43 \textcolor{comment}{}}
\DoxyCodeLine{44 \textcolor{comment}{ Copyright (C) 2014 Apple Inc. All Rights Reserved.}}
\DoxyCodeLine{45 \textcolor{comment}{}}
\DoxyCodeLine{46 \textcolor{comment}{*/}}
\DoxyCodeLine{47 \textcolor{preprocessor}{\#ifndef \_\_CAThreadSafeList\_h\_\_}}
\DoxyCodeLine{48 \textcolor{preprocessor}{\#define \_\_CAThreadSafeList\_h\_\_}}
\DoxyCodeLine{49 }
\DoxyCodeLine{50 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_c_a_atomic_stack_8h}{CAAtomicStack.h}}"{}}}
\DoxyCodeLine{51 }
\DoxyCodeLine{52 \textcolor{comment}{//  linked list of T's}}
\DoxyCodeLine{53 \textcolor{comment}{//  T must define operator ==}}
\DoxyCodeLine{54 \textcolor{keyword}{template} <\textcolor{keyword}{class} T>}
\DoxyCodeLine{55 \textcolor{keyword}{class }\mbox{\hyperlink{class_t_thread_safe_list}{TThreadSafeList}} \{}
\DoxyCodeLine{56 \textcolor{keyword}{private}:}
\DoxyCodeLine{57     \textcolor{keyword}{enum} EEventType \{ kAdd, kRemove, kClear \};}
\DoxyCodeLine{58     \textcolor{keyword}{class }Node \{}
\DoxyCodeLine{59     \textcolor{keyword}{public}:}
\DoxyCodeLine{60         Node *      mNext;}
\DoxyCodeLine{61         EEventType  mEventType;}
\DoxyCodeLine{62         T           mObject;}
\DoxyCodeLine{63 }
\DoxyCodeLine{64         Node *\& next() \{ \textcolor{keywordflow}{return} mNext; \}}
\DoxyCodeLine{65     \};}
\DoxyCodeLine{66 }
\DoxyCodeLine{67 \textcolor{keyword}{public}:}
\DoxyCodeLine{68     \textcolor{keyword}{class }\mbox{\hyperlink{class_t_thread_safe_list_1_1iterator}{iterator}} \{}
\DoxyCodeLine{69     \textcolor{keyword}{public}:}
\DoxyCodeLine{70         \mbox{\hyperlink{class_t_thread_safe_list_1_1iterator_a2d6b5abfd81c21015a3a5a2f07063d98}{iterator}}() \{ \}}
\DoxyCodeLine{71         \mbox{\hyperlink{class_t_thread_safe_list_1_1iterator_a0ce8ee4b21e795cbc5ff7684de3fc14f}{iterator}}(Node *\mbox{\hyperlink{namespacegl_a1f71d238be3cdf94fc21bd0a832f074a}{n}}) : mNode(\mbox{\hyperlink{namespacegl_a1f71d238be3cdf94fc21bd0a832f074a}{n}}) \{ \}}
\DoxyCodeLine{72 }
\DoxyCodeLine{73         \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_t_thread_safe_list_1_1iterator_a65afa24efeabc2ee38593245621a4dc9}{operator == }}(\textcolor{keyword}{const} \mbox{\hyperlink{class_t_thread_safe_list_1_1iterator}{iterator}} \&other)\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} this-\/>mNode == other.mNode; \}}
\DoxyCodeLine{74         \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_t_thread_safe_list_1_1iterator_ad4e8b0414f0e184aefbfa0b0c727bd3d}{operator != }}(\textcolor{keyword}{const} \mbox{\hyperlink{class_t_thread_safe_list_1_1iterator}{iterator}} \&other)\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} this-\/>mNode != other.mNode; \}}
\DoxyCodeLine{75 }
\DoxyCodeLine{76         T \& \mbox{\hyperlink{class_t_thread_safe_list_1_1iterator_a8d107e194871220e3f92f4c11577f22d}{operator * }}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} mNode-\/>mObject; \}}
\DoxyCodeLine{77 }
\DoxyCodeLine{78         \mbox{\hyperlink{class_t_thread_safe_list_1_1iterator}{iterator}} \& \mbox{\hyperlink{class_t_thread_safe_list_1_1iterator_a374179372a65f9a1ba901bda51bb5a87}{operator ++ }}() \{ mNode = mNode-\/>next(); \textcolor{keywordflow}{return} *\textcolor{keyword}{this}; \}  \textcolor{comment}{// preincrement}}
\DoxyCodeLine{79         \mbox{\hyperlink{class_t_thread_safe_list_1_1iterator}{iterator}} \mbox{\hyperlink{class_t_thread_safe_list_1_1iterator_a374179372a65f9a1ba901bda51bb5a87}{operator ++ }}(\textcolor{keywordtype}{int}) \{ \mbox{\hyperlink{class_t_thread_safe_list_1_1iterator}{iterator}} tmp = *\textcolor{keyword}{this}; mNode = mNode-\/>next(); \textcolor{keywordflow}{return} tmp; \} \textcolor{comment}{// postincrement}}
\DoxyCodeLine{80 }
\DoxyCodeLine{81     \textcolor{keyword}{private}:}
\DoxyCodeLine{82         Node *      mNode;}
\DoxyCodeLine{83     \};}
\DoxyCodeLine{84 }
\DoxyCodeLine{85     \mbox{\hyperlink{class_t_thread_safe_list_ad34c853fbf6c7f5028349bef13072a26}{TThreadSafeList}}() \{ \}}
\DoxyCodeLine{86     \mbox{\hyperlink{class_t_thread_safe_list_a7cf0cbd206c29ed8fb59aa4f9255751e}{\string~TThreadSafeList}}()}
\DoxyCodeLine{87     \{}
\DoxyCodeLine{88         mActiveList.free\_all();}
\DoxyCodeLine{89         mPendingList.free\_all();}
\DoxyCodeLine{90         mFreeList.free\_all();}
\DoxyCodeLine{91     \}}
\DoxyCodeLine{92 }
\DoxyCodeLine{93     \textcolor{comment}{// These may be called on any thread}}
\DoxyCodeLine{94 }
\DoxyCodeLine{95     \textcolor{keywordtype}{void}    \mbox{\hyperlink{class_t_thread_safe_list_afc136598675e02204b9bbc2dee4eba72}{deferred\_add}}(\textcolor{keyword}{const} T \&\mbox{\hyperlink{namespacegl_a5005400d1adacbeae9bca0afbc7cb101}{obj}})   \textcolor{comment}{// can be called on any thread}}
\DoxyCodeLine{96     \{}
\DoxyCodeLine{97         Node *node = AllocNode();}
\DoxyCodeLine{98         node-\/>mEventType = kAdd;}
\DoxyCodeLine{99         node-\/>mObject = \mbox{\hyperlink{namespacegl_a5005400d1adacbeae9bca0afbc7cb101}{obj}};}
\DoxyCodeLine{100         mPendingList.push\_atomic(node);}
\DoxyCodeLine{101         \textcolor{comment}{//mPendingList.dump("{}pending after add"{});}}
\DoxyCodeLine{102     \}}
\DoxyCodeLine{103 }
\DoxyCodeLine{104     \textcolor{keywordtype}{void}    \mbox{\hyperlink{class_t_thread_safe_list_a23cb6ef37ddae050b0640199f2919da3}{deferred\_remove}}(\textcolor{keyword}{const} T \&\mbox{\hyperlink{namespacegl_a5005400d1adacbeae9bca0afbc7cb101}{obj}}) \textcolor{comment}{// can be called on any thread}}
\DoxyCodeLine{105     \{}
\DoxyCodeLine{106         Node *node = AllocNode();}
\DoxyCodeLine{107         node-\/>mEventType = kRemove;}
\DoxyCodeLine{108         node-\/>mObject = \mbox{\hyperlink{namespacegl_a5005400d1adacbeae9bca0afbc7cb101}{obj}};}
\DoxyCodeLine{109         mPendingList.push\_atomic(node);}
\DoxyCodeLine{110         \textcolor{comment}{//mPendingList.dump("{}pending after remove"{});}}
\DoxyCodeLine{111     \}}
\DoxyCodeLine{112 }
\DoxyCodeLine{113     \textcolor{keywordtype}{void}    \mbox{\hyperlink{class_t_thread_safe_list_ac016db4512f1976e0b0e0a4b7d4aece5}{deferred\_clear}}()                  \textcolor{comment}{// can be called on any thread}}
\DoxyCodeLine{114     \{}
\DoxyCodeLine{115         Node *node = AllocNode();}
\DoxyCodeLine{116         node-\/>mEventType = kClear;}
\DoxyCodeLine{117         mPendingList.push\_atomic(node);}
\DoxyCodeLine{118     \}}
\DoxyCodeLine{119 }
\DoxyCodeLine{120     \textcolor{comment}{// These must be called from only one thread}}
\DoxyCodeLine{121 }
\DoxyCodeLine{122     \textcolor{keywordtype}{void}    \mbox{\hyperlink{class_t_thread_safe_list_aad0953e8d155fb6b416253cc1161e3db}{update}}()      \textcolor{comment}{// must only be called from one thread}}
\DoxyCodeLine{123     \{}
\DoxyCodeLine{124         NodeStack reversed;}
\DoxyCodeLine{125         Node *\mbox{\hyperlink{namespacegl_a5db3d429ae1833f173b8c4ef6a9b3b82}{event}}, *node, *next;}
\DoxyCodeLine{126         \textcolor{keywordtype}{bool} workDone = \textcolor{keyword}{false};}
\DoxyCodeLine{127 }
\DoxyCodeLine{128         \textcolor{comment}{// reverse the events so they are in order}}
\DoxyCodeLine{129         \textcolor{keyword}{event} = mPendingList.pop\_all();}
\DoxyCodeLine{130         \textcolor{keywordflow}{while} (\mbox{\hyperlink{namespacegl_a5db3d429ae1833f173b8c4ef6a9b3b82}{event}} != NULL) \{}
\DoxyCodeLine{131             next = \textcolor{keyword}{event}-\/>mNext;}
\DoxyCodeLine{132             reversed.push\_NA(\mbox{\hyperlink{namespacegl_a5db3d429ae1833f173b8c4ef6a9b3b82}{event}});}
\DoxyCodeLine{133             \textcolor{keyword}{event} = next;}
\DoxyCodeLine{134             workDone = \textcolor{keyword}{true};}
\DoxyCodeLine{135         \}}
\DoxyCodeLine{136         \textcolor{keywordflow}{if} (workDone) \{}
\DoxyCodeLine{137             \textcolor{comment}{//reversed.dump("{}pending popped"{});}}
\DoxyCodeLine{138             \textcolor{comment}{//mActiveList.dump("{}active before update"{});}}
\DoxyCodeLine{139 }
\DoxyCodeLine{140             \textcolor{comment}{// now process them}}
\DoxyCodeLine{141             \textcolor{keywordflow}{while} ((\mbox{\hyperlink{namespacegl_a5db3d429ae1833f173b8c4ef6a9b3b82}{event}} = reversed.pop\_NA()) != NULL) \{}
\DoxyCodeLine{142                 \textcolor{keywordflow}{switch} (\mbox{\hyperlink{namespacegl_a5db3d429ae1833f173b8c4ef6a9b3b82}{event}}-\/>mEventType) \{}
\DoxyCodeLine{143                 \textcolor{keywordflow}{case} kAdd:}
\DoxyCodeLine{144                     \{}
\DoxyCodeLine{145                         Node **pnode;}
\DoxyCodeLine{146                         \textcolor{keywordtype}{bool} needToInsert = \textcolor{keyword}{true};}
\DoxyCodeLine{147                         \textcolor{keywordflow}{for} (pnode = mActiveList.phead(); *pnode != NULL; pnode = \&node-\/>mNext) \{}
\DoxyCodeLine{148                             node = *pnode;}
\DoxyCodeLine{149                             \textcolor{keywordflow}{if} (node-\/>mObject == \mbox{\hyperlink{namespacegl_a5db3d429ae1833f173b8c4ef6a9b3b82}{event}}-\/>mObject) \{}
\DoxyCodeLine{150                                 \textcolor{comment}{//printf("{}already active!!!\(\backslash\)n"{});}}
\DoxyCodeLine{151                                 FreeNode(\mbox{\hyperlink{namespacegl_a5db3d429ae1833f173b8c4ef6a9b3b82}{event}});}
\DoxyCodeLine{152                                 needToInsert = \textcolor{keyword}{false};}
\DoxyCodeLine{153                                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{154                             \}}
\DoxyCodeLine{155                         \}}
\DoxyCodeLine{156                         \textcolor{keywordflow}{if} (needToInsert) \{}
\DoxyCodeLine{157                             \textcolor{comment}{// link the new event in at the end of the active list}}
\DoxyCodeLine{158                             *pnode = \mbox{\hyperlink{namespacegl_a5db3d429ae1833f173b8c4ef6a9b3b82}{event}};}
\DoxyCodeLine{159                             \textcolor{keyword}{event}-\/>mNext = NULL;}
\DoxyCodeLine{160                         \}}
\DoxyCodeLine{161                     \}}
\DoxyCodeLine{162                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{163                 \textcolor{keywordflow}{case} kRemove:}
\DoxyCodeLine{164                     \textcolor{comment}{// find matching node in the active list, remove it}}
\DoxyCodeLine{165                     \textcolor{keywordflow}{for} (Node **pnode = mActiveList.phead(); *pnode != NULL; ) \{}
\DoxyCodeLine{166                         node = *pnode;}
\DoxyCodeLine{167                         \textcolor{keywordflow}{if} (node-\/>mObject == \mbox{\hyperlink{namespacegl_a5db3d429ae1833f173b8c4ef6a9b3b82}{event}}-\/>mObject) \{}
\DoxyCodeLine{168                             *pnode = node-\/>mNext;   \textcolor{comment}{// remove from linked list}}
\DoxyCodeLine{169                             FreeNode(node);}
\DoxyCodeLine{170                             \textcolor{keywordflow}{break};}
\DoxyCodeLine{171                         \}}
\DoxyCodeLine{172                         pnode = \&node-\/>mNext;}
\DoxyCodeLine{173                     \}}
\DoxyCodeLine{174                     \textcolor{comment}{// dispose the request node}}
\DoxyCodeLine{175                     FreeNode(\mbox{\hyperlink{namespacegl_a5db3d429ae1833f173b8c4ef6a9b3b82}{event}});}
\DoxyCodeLine{176                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{177                 \textcolor{keywordflow}{case} kClear:}
\DoxyCodeLine{178                     \textcolor{keywordflow}{for} (node = mActiveList.head(); node != NULL; ) \{}
\DoxyCodeLine{179                         next = node-\/>mNext;}
\DoxyCodeLine{180                         FreeNode(node);}
\DoxyCodeLine{181                         node = next;}
\DoxyCodeLine{182                     \}}
\DoxyCodeLine{183                     FreeNode(\mbox{\hyperlink{namespacegl_a5db3d429ae1833f173b8c4ef6a9b3b82}{event}});}
\DoxyCodeLine{184                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{185                 \textcolor{keywordflow}{default}:}
\DoxyCodeLine{186                     \textcolor{comment}{//printf("{}invalid node type \%d!\(\backslash\)n"{}, event-\/>mEventType);}}
\DoxyCodeLine{187                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{188                 \}}
\DoxyCodeLine{189             \}}
\DoxyCodeLine{190             \textcolor{comment}{//mActiveList.dump("{}active after update"{});}}
\DoxyCodeLine{191         \}}
\DoxyCodeLine{192     \}}
\DoxyCodeLine{193 }
\DoxyCodeLine{194     \mbox{\hyperlink{class_t_thread_safe_list_1_1iterator}{iterator}} \mbox{\hyperlink{class_t_thread_safe_list_a573179359b6d10f8d71aadd1db79dbf9}{begin}}()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{195         \textcolor{comment}{//mActiveList.dump("{}active at begin"{});}}
\DoxyCodeLine{196         \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_thread_safe_list_1_1iterator}{iterator}}(mActiveList.head());}
\DoxyCodeLine{197     \}}
\DoxyCodeLine{198     \mbox{\hyperlink{class_t_thread_safe_list_1_1iterator}{iterator}} \mbox{\hyperlink{class_t_thread_safe_list_a8aebfa525b91927cf5a9b907a05cb662}{end}}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_thread_safe_list_1_1iterator}{iterator}}(NULL); \}}
\DoxyCodeLine{199 }
\DoxyCodeLine{200 }
\DoxyCodeLine{201 \textcolor{keyword}{private}:}
\DoxyCodeLine{202     Node *  AllocNode()}
\DoxyCodeLine{203     \{}
\DoxyCodeLine{204         Node *node = mFreeList.pop\_atomic();}
\DoxyCodeLine{205         \textcolor{keywordflow}{if} (node == NULL)}
\DoxyCodeLine{206             node = (Node *)\mbox{\hyperlink{_c_a_auto_disposer_8h_ad4cd37505b462e48c936d1a3b8e30895}{CA\_malloc}}(\textcolor{keyword}{sizeof}(Node));}
\DoxyCodeLine{207         \textcolor{keywordflow}{return} node;}
\DoxyCodeLine{208     \}}
\DoxyCodeLine{209 }
\DoxyCodeLine{210     \textcolor{keywordtype}{void}    FreeNode(Node *node)}
\DoxyCodeLine{211     \{}
\DoxyCodeLine{212         mFreeList.push\_atomic(node);}
\DoxyCodeLine{213     \}}
\DoxyCodeLine{214 }
\DoxyCodeLine{215 \textcolor{keyword}{private}:}
\DoxyCodeLine{216     \textcolor{keyword}{class }NodeStack : \textcolor{keyword}{public} \mbox{\hyperlink{class_t_atomic_stack}{TAtomicStack}}<Node> \{}
\DoxyCodeLine{217     \textcolor{keyword}{public}:}
\DoxyCodeLine{218         \textcolor{keywordtype}{void} free\_all() \{}
\DoxyCodeLine{219             Node *node;}
\DoxyCodeLine{220             \textcolor{keywordflow}{while} ((node = this-\/>\mbox{\hyperlink{class_t_atomic_stack_a29bca1dfd0b2f0d91ab72fc7b2a808d8}{pop\_NA}}()) != NULL)}
\DoxyCodeLine{221                 \mbox{\hyperlink{_c_a_auto_disposer_8h_ad6789ba73d47afb261058c686ba7089e}{free}}(node);}
\DoxyCodeLine{222         \}}
\DoxyCodeLine{223 }
\DoxyCodeLine{224         Node ** phead() \{ \textcolor{keywordflow}{return} \&this-\/>\mbox{\hyperlink{class_t_atomic_stack_a04de785320baa8c41eff860da7aedb38}{mHead}}; \}}
\DoxyCodeLine{225         Node *  \mbox{\hyperlink{structhead}{head}}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} this-\/>\mbox{\hyperlink{class_t_atomic_stack_a04de785320baa8c41eff860da7aedb38}{mHead}}; \}}
\DoxyCodeLine{226     \};}
\DoxyCodeLine{227 }
\DoxyCodeLine{228     NodeStack   mActiveList;    \textcolor{comment}{// what's actually in the container -\/ only accessed on one thread}}
\DoxyCodeLine{229     NodeStack   mPendingList;   \textcolor{comment}{// add or remove requests -\/ threadsafe}}
\DoxyCodeLine{230     NodeStack   mFreeList;      \textcolor{comment}{// free nodes for reuse -\/ threadsafe}}
\DoxyCodeLine{231 \};}
\DoxyCodeLine{232 }
\DoxyCodeLine{233 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// \_\_CAThreadSafeList\_h\_\_}}

\end{DoxyCode}
