\hypertarget{juce___accessibility_text_helpers_8h_source}{}\doxysection{juce\+\_\+\+Accessibility\+Text\+Helpers.\+h}
\label{juce___accessibility_text_helpers_8h_source}\index{build/juce\_gui\_basics/native/accessibility/juce\_AccessibilityTextHelpers.h@{build/juce\_gui\_basics/native/accessibility/juce\_AccessibilityTextHelpers.h}}
\mbox{\hyperlink{juce___accessibility_text_helpers_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{/*}}
\DoxyCodeLine{2 \textcolor{comment}{  ==============================================================================}}
\DoxyCodeLine{3 \textcolor{comment}{}}
\DoxyCodeLine{4 \textcolor{comment}{   This file is part of the JUCE library.}}
\DoxyCodeLine{5 \textcolor{comment}{   Copyright (c) 2020 -\/ Raw Material Software Limited}}
\DoxyCodeLine{6 \textcolor{comment}{}}
\DoxyCodeLine{7 \textcolor{comment}{   JUCE is an open source library subject to commercial or open-\/source}}
\DoxyCodeLine{8 \textcolor{comment}{   licensing.}}
\DoxyCodeLine{9 \textcolor{comment}{}}
\DoxyCodeLine{10 \textcolor{comment}{   By using JUCE, you agree to the terms of both the JUCE 6 End-\/User License}}
\DoxyCodeLine{11 \textcolor{comment}{   Agreement and JUCE Privacy Policy (both effective as of the 16th June 2020).}}
\DoxyCodeLine{12 \textcolor{comment}{}}
\DoxyCodeLine{13 \textcolor{comment}{   End User License Agreement: www.juce.com/juce-\/6-\/licence}}
\DoxyCodeLine{14 \textcolor{comment}{   Privacy Policy: www.juce.com/juce-\/privacy-\/policy}}
\DoxyCodeLine{15 \textcolor{comment}{}}
\DoxyCodeLine{16 \textcolor{comment}{   Or: You may also use this code under the terms of the GPL v3 (see}}
\DoxyCodeLine{17 \textcolor{comment}{   www.gnu.org/licenses).}}
\DoxyCodeLine{18 \textcolor{comment}{}}
\DoxyCodeLine{19 \textcolor{comment}{   JUCE IS PROVIDED "{}AS IS"{} WITHOUT ANY WARRANTY, AND ALL WARRANTIES, WHETHER}}
\DoxyCodeLine{20 \textcolor{comment}{   EXPRESSED OR IMPLIED, INCLUDING MERCHANTABILITY AND FITNESS FOR PURPOSE, ARE}}
\DoxyCodeLine{21 \textcolor{comment}{   DISCLAIMED.}}
\DoxyCodeLine{22 \textcolor{comment}{}}
\DoxyCodeLine{23 \textcolor{comment}{  ==============================================================================}}
\DoxyCodeLine{24 \textcolor{comment}{*/}}
\DoxyCodeLine{25 }
\DoxyCodeLine{26 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespacejuce}{juce}}}
\DoxyCodeLine{27 \{}
\DoxyCodeLine{28 }
\DoxyCodeLine{29 \textcolor{keyword}{namespace }AccessibilityTextHelpers}
\DoxyCodeLine{30 \{}
\DoxyCodeLine{31     \textcolor{keyword}{enum class} \mbox{\hyperlink{namespacejuce_1_1_accessibility_text_helpers_a0457151ade54fef761e98bf17098a104}{BoundaryType}}}
\DoxyCodeLine{32     \{}
\DoxyCodeLine{33         \mbox{\hyperlink{namespacejuce_1_1_accessibility_text_helpers_a0457151ade54fef761e98bf17098a104aa956161a69928cd130a889b88082fb6e}{character}},}
\DoxyCodeLine{34         \mbox{\hyperlink{namespacejuce_1_1_accessibility_text_helpers_a0457151ade54fef761e98bf17098a104ac47d187067c6cf953245f128b5fde62a}{word}},}
\DoxyCodeLine{35         \mbox{\hyperlink{namespacejuce_1_1_accessibility_text_helpers_a0457151ade54fef761e98bf17098a104a6438c669e0d0de98e6929c2cc0fac474}{line}},}
\DoxyCodeLine{36         \mbox{\hyperlink{namespacejuce_1_1_accessibility_text_helpers_a0457151ade54fef761e98bf17098a104afdc3bdefb79cec8eb8211d2499e04704}{document}}}
\DoxyCodeLine{37     \};}
\DoxyCodeLine{38 }
\DoxyCodeLine{39     \textcolor{keyword}{enum class} \mbox{\hyperlink{namespacejuce_1_1_accessibility_text_helpers_ab02b509699e3a86d6034d9dd89b7a15b}{Direction}}}
\DoxyCodeLine{40     \{}
\DoxyCodeLine{41         \mbox{\hyperlink{namespacejuce_1_1_accessibility_text_helpers_ab02b509699e3a86d6034d9dd89b7a15baacf635689def18ebb0f0c49e0a302bdc}{forwards}},}
\DoxyCodeLine{42         \mbox{\hyperlink{namespacejuce_1_1_accessibility_text_helpers_ab02b509699e3a86d6034d9dd89b7a15ba8213b28f66cd9bc02a815c12963c9485}{backwards}}}
\DoxyCodeLine{43     \};}
\DoxyCodeLine{44 }
\DoxyCodeLine{45     \textcolor{keyword}{static} \textcolor{keywordtype}{int} findTextBoundary (\textcolor{keyword}{const} \mbox{\hyperlink{class_accessibility_text_interface}{AccessibilityTextInterface}}\& textInterface,}
\DoxyCodeLine{46                                  \textcolor{keywordtype}{int} currentPosition,}
\DoxyCodeLine{47                                  \mbox{\hyperlink{namespacejuce_1_1_accessibility_text_helpers_a0457151ade54fef761e98bf17098a104}{BoundaryType}} boundary,}
\DoxyCodeLine{48                                  \mbox{\hyperlink{namespacejuce_1_1_accessibility_text_helpers_ab02b509699e3a86d6034d9dd89b7a15b}{Direction}} direction)}
\DoxyCodeLine{49     \{}
\DoxyCodeLine{50         \textcolor{keyword}{const} \textcolor{keyword}{auto} numCharacters = textInterface.\mbox{\hyperlink{class_accessibility_text_interface_a8031d4f73d86935f0e6e3d88f34332af}{getTotalNumCharacters}}();}
\DoxyCodeLine{51         \textcolor{keyword}{const} \textcolor{keyword}{auto} isForwards = (direction == \mbox{\hyperlink{namespacejuce_1_1_accessibility_text_helpers_ab02b509699e3a86d6034d9dd89b7a15baacf635689def18ebb0f0c49e0a302bdc}{Direction::forwards}});}
\DoxyCodeLine{52 }
\DoxyCodeLine{53         \textcolor{keyword}{const} \textcolor{keyword}{auto} offsetWithDirecton = [isForwards] (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacegl_ae94d0a99dc3426b5ac5fc7d881691a61}{input}}) \{ \textcolor{keywordflow}{return} isForwards ? \mbox{\hyperlink{namespacegl_ae94d0a99dc3426b5ac5fc7d881691a61}{input}} : -\/\mbox{\hyperlink{namespacegl_ae94d0a99dc3426b5ac5fc7d881691a61}{input}}; \};}
\DoxyCodeLine{54 }
\DoxyCodeLine{55         \textcolor{keywordflow}{switch} (boundary)}
\DoxyCodeLine{56         \{}
\DoxyCodeLine{57             \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacejuce_1_1_accessibility_text_helpers_a0457151ade54fef761e98bf17098a104aa956161a69928cd130a889b88082fb6e}{BoundaryType::character}}:}
\DoxyCodeLine{58                 \textcolor{keywordflow}{return} \mbox{\hyperlink{group__juce__core-maths_gacf7cd562ab136d15d3bf5c3be047cf96}{jlimit}} (0, numCharacters, isForwards ? currentPosition + 1 : currentPosition);}
\DoxyCodeLine{59 }
\DoxyCodeLine{60             \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacejuce_1_1_accessibility_text_helpers_a0457151ade54fef761e98bf17098a104ac47d187067c6cf953245f128b5fde62a}{BoundaryType::word}}:}
\DoxyCodeLine{61             \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacejuce_1_1_accessibility_text_helpers_a0457151ade54fef761e98bf17098a104a6438c669e0d0de98e6929c2cc0fac474}{BoundaryType::line}}:}
\DoxyCodeLine{62             \{}
\DoxyCodeLine{63                 \textcolor{keyword}{const} \textcolor{keyword}{auto} text = [\&]() -\/> \mbox{\hyperlink{class_string}{String}}}
\DoxyCodeLine{64                 \{}
\DoxyCodeLine{65                     \textcolor{keywordflow}{if} (isForwards)}
\DoxyCodeLine{66                         \textcolor{keywordflow}{return} textInterface.\mbox{\hyperlink{class_accessibility_text_interface_a43875b2b8e154a339e37670cdb907307}{getText}} (\{ currentPosition, textInterface.\mbox{\hyperlink{class_accessibility_text_interface_a8031d4f73d86935f0e6e3d88f34332af}{getTotalNumCharacters}}() \});}
\DoxyCodeLine{67 }
\DoxyCodeLine{68                     \textcolor{keyword}{const} \textcolor{keyword}{auto} str = textInterface.\mbox{\hyperlink{class_accessibility_text_interface_a43875b2b8e154a339e37670cdb907307}{getText}} (\{ 0, currentPosition \});}
\DoxyCodeLine{69 }
\DoxyCodeLine{70                     \textcolor{keyword}{auto} \mbox{\hyperlink{namespacegl_adad3a3824fbe72fb0b01074bb01ebe75}{start}} = str.getCharPointer();}
\DoxyCodeLine{71                     \textcolor{keyword}{auto} \mbox{\hyperlink{group__juce__core-files_ga4a3194f4f741f9bd653f28733358f62c}{end}} = \mbox{\hyperlink{namespacegl_adad3a3824fbe72fb0b01074bb01ebe75}{start}}.findTerminatingNull();}
\DoxyCodeLine{72                     \textcolor{keyword}{const} \textcolor{keyword}{auto} \mbox{\hyperlink{namespacegl_a441d79156826d7dfbf89100bb934a38d}{size}} = \mbox{\hyperlink{group__juce__core-memory_ga667897ead2d6fd7f9f682bd8f75da26a}{getAddressDifference}} (\mbox{\hyperlink{group__juce__core-files_ga4a3194f4f741f9bd653f28733358f62c}{end}}.getAddress(), \mbox{\hyperlink{namespacegl_adad3a3824fbe72fb0b01074bb01ebe75}{start}}.getAddress());}
\DoxyCodeLine{73 }
\DoxyCodeLine{74                     \mbox{\hyperlink{class_string}{String}} reversed;}
\DoxyCodeLine{75 }
\DoxyCodeLine{76                     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacegl_a441d79156826d7dfbf89100bb934a38d}{size}} > 0)}
\DoxyCodeLine{77                     \{}
\DoxyCodeLine{78                         reversed.\mbox{\hyperlink{class_string_a050a97b5afa6e3dd774f10f1c616ee58}{preallocateBytes}} ((\textcolor{keywordtype}{size\_t}) \mbox{\hyperlink{namespacegl_a441d79156826d7dfbf89100bb934a38d}{size}});}
\DoxyCodeLine{79 }
\DoxyCodeLine{80                         \textcolor{keyword}{auto} destPtr = reversed.\mbox{\hyperlink{class_string_a026f5d21f882d2ffe0406ef1e4907897}{getCharPointer}}();}
\DoxyCodeLine{81 }
\DoxyCodeLine{82                         \textcolor{keywordflow}{for} (;;)}
\DoxyCodeLine{83                         \{}
\DoxyCodeLine{84                             destPtr.write (*-\/-\/\mbox{\hyperlink{group__juce__core-files_ga4a3194f4f741f9bd653f28733358f62c}{end}});}
\DoxyCodeLine{85 }
\DoxyCodeLine{86                             \textcolor{keywordflow}{if} (\mbox{\hyperlink{group__juce__core-files_ga4a3194f4f741f9bd653f28733358f62c}{end}} == \mbox{\hyperlink{namespacegl_adad3a3824fbe72fb0b01074bb01ebe75}{start}})}
\DoxyCodeLine{87                                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{88                         \}}
\DoxyCodeLine{89 }
\DoxyCodeLine{90                         destPtr.writeNull();}
\DoxyCodeLine{91                     \}}
\DoxyCodeLine{92 }
\DoxyCodeLine{93                     \textcolor{keywordflow}{return} reversed;}
\DoxyCodeLine{94                 \}();}
\DoxyCodeLine{95 }
\DoxyCodeLine{96                 \textcolor{keyword}{auto} tokens = (boundary == \mbox{\hyperlink{namespacejuce_1_1_accessibility_text_helpers_a0457151ade54fef761e98bf17098a104a6438c669e0d0de98e6929c2cc0fac474}{BoundaryType::line}} ? \mbox{\hyperlink{class_string_array_a25cad7e851412f460770c93c327cc991}{StringArray::fromLines}} (text)}
\DoxyCodeLine{97                                                               : \mbox{\hyperlink{class_string_array}{StringArray}}::fromTokens (text, \mbox{\hyperlink{ordinals_8h_a65e9886d74aaee76545e83dd09011727}{false}}));}
\DoxyCodeLine{98 }
\DoxyCodeLine{99                 \textcolor{keywordflow}{return} currentPosition + offsetWithDirecton (tokens[0].\mbox{\hyperlink{png_8c_a209c8e470817686b5ca6730db67f8d67}{length}}());}
\DoxyCodeLine{100             \}}
\DoxyCodeLine{101 }
\DoxyCodeLine{102             \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacejuce_1_1_accessibility_text_helpers_a0457151ade54fef761e98bf17098a104afdc3bdefb79cec8eb8211d2499e04704}{BoundaryType::document}}:}
\DoxyCodeLine{103                 \textcolor{keywordflow}{return} isForwards ? numCharacters : 0;}
\DoxyCodeLine{104         \}}
\DoxyCodeLine{105 }
\DoxyCodeLine{106         \mbox{\hyperlink{group__juce__core-system_gadc044ce5efecbecf2f5a44cd00db67b3}{jassertfalse}};}
\DoxyCodeLine{107         \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{108     \}}
\DoxyCodeLine{109 \}}
\DoxyCodeLine{110 }
\DoxyCodeLine{111 \} \textcolor{comment}{// namespace juce}}

\end{DoxyCode}
