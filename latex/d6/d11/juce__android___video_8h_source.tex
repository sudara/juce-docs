\hypertarget{juce__android___video_8h_source}{}\doxysection{juce\+\_\+android\+\_\+\+Video.\+h}
\label{juce__android___video_8h_source}\index{build/juce\_video/native/juce\_android\_Video.h@{build/juce\_video/native/juce\_android\_Video.h}}
\mbox{\hyperlink{juce__android___video_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{/*}}
\DoxyCodeLine{2 \textcolor{comment}{  ==============================================================================}}
\DoxyCodeLine{3 \textcolor{comment}{}}
\DoxyCodeLine{4 \textcolor{comment}{   This file is part of the JUCE library.}}
\DoxyCodeLine{5 \textcolor{comment}{   Copyright (c) 2020 -\/ Raw Material Software Limited}}
\DoxyCodeLine{6 \textcolor{comment}{}}
\DoxyCodeLine{7 \textcolor{comment}{   JUCE is an open source library subject to commercial or open-\/source}}
\DoxyCodeLine{8 \textcolor{comment}{   licensing.}}
\DoxyCodeLine{9 \textcolor{comment}{}}
\DoxyCodeLine{10 \textcolor{comment}{   By using JUCE, you agree to the terms of both the JUCE 6 End-\/User License}}
\DoxyCodeLine{11 \textcolor{comment}{   Agreement and JUCE Privacy Policy (both effective as of the 16th June 2020).}}
\DoxyCodeLine{12 \textcolor{comment}{}}
\DoxyCodeLine{13 \textcolor{comment}{   End User License Agreement: www.juce.com/juce-\/6-\/licence}}
\DoxyCodeLine{14 \textcolor{comment}{   Privacy Policy: www.juce.com/juce-\/privacy-\/policy}}
\DoxyCodeLine{15 \textcolor{comment}{}}
\DoxyCodeLine{16 \textcolor{comment}{   Or: You may also use this code under the terms of the GPL v3 (see}}
\DoxyCodeLine{17 \textcolor{comment}{   www.gnu.org/licenses).}}
\DoxyCodeLine{18 \textcolor{comment}{}}
\DoxyCodeLine{19 \textcolor{comment}{   JUCE IS PROVIDED "{}AS IS"{} WITHOUT ANY WARRANTY, AND ALL WARRANTIES, WHETHER}}
\DoxyCodeLine{20 \textcolor{comment}{   EXPRESSED OR IMPLIED, INCLUDING MERCHANTABILITY AND FITNESS FOR PURPOSE, ARE}}
\DoxyCodeLine{21 \textcolor{comment}{   DISCLAIMED.}}
\DoxyCodeLine{22 \textcolor{comment}{}}
\DoxyCodeLine{23 \textcolor{comment}{  ==============================================================================}}
\DoxyCodeLine{24 \textcolor{comment}{*/}}
\DoxyCodeLine{25 }
\DoxyCodeLine{26 \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{27 \textcolor{comment}{// This byte-\/code is generated from:}}
\DoxyCodeLine{28 \textcolor{comment}{//}}
\DoxyCodeLine{29 \textcolor{comment}{// native/java/com/rmsl/juce/MediaControllerCallback.java}}
\DoxyCodeLine{30 \textcolor{comment}{// native/java/com/rmsl/juce/MediaSessionCallback.java}}
\DoxyCodeLine{31 \textcolor{comment}{// native/java/com/rmsl/juce/SystemVolumeObserver.java}}
\DoxyCodeLine{32 \textcolor{comment}{//}}
\DoxyCodeLine{33 \textcolor{comment}{// files with min sdk version 21}}
\DoxyCodeLine{34 \textcolor{comment}{// See juce\_core/native/java/README.txt on how to generate this byte-\/code.}}
\DoxyCodeLine{35 \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} MediaSessionByteCode[] =}
\DoxyCodeLine{36 \{ 31,139,8,8,247,108,161,94,0,3,77,101,100,105,97,83,101,115,115,105,111,110,66,121,116,101,67,111,100,101,46,100,101,120,0,149,}
\DoxyCodeLine{37 152,127,108,28,71,21,199,223,236,253,180,207,190,95,254,221,186,169,211,56,137,19,234,220,145,26,226,228,28,99,199,216,196,233,}
\DoxyCodeLine{38 249,71,125,182,107,76,168,187,246,109,236,77,238,118,143,221,189,171,45,132,168,170,32,21,209,63,144,74,165,170,82,81,144,64,}
\DoxyCodeLine{39 128,20,36,74,37,132,80,69,35,126,75,32,160,82,36,130,64,80,16,8,138,42,126,41,17,21,164,130,239,204,206,158,239,46,14,42,151,}
\DoxyCodeLine{40 124,246,189,121,239,205,236,155,55,51,231,219,205,107,219,205,233,135,222,67,219,115,149,223,125,253,83,63,120,252,139,71,187,}
\DoxyCodeLine{41 47,68,78,252,118,237,250,194,183,191,251,151,175,254,243,214,229,4,81,137,136,182,151,135,146,36,63,215,226,68,27,228,218,187,}
\DoxyCodeLine{42 192,109,230,202,21,133,40,0,89,240,17,13,64,126,6,18,255,233,186,159,104,190,133,104,8,206,199,194,68,42,200,131,2,176,192,199,}
\DoxyCodeLine{43 193,83,224,19,224,69,112,13,252,18,220,2,61,77,68,195,224,34,184,2,126,10,254,3,14,53,19,157,4,179,32,15,158,6,47,129,159,131,}
\DoxyCodeLine{44 183,65,111,132,40,13,198,65,14,60,7,94,6,63,1,111,128,55,193,223,192,45,240,47,64,200,207,15,154,64,20,180,131,110,112,31,232,}
\DoxyCodeLine{45 3,253,224,24,56,13,52,80,4,151,193,243,224,179,224,203,224,43,224,101,240,125,240,71,16,106,37,122,16,204,128,101,160,131,143,}
\DoxyCodeLine{46 130,231,193,85,240,45,240,27,240,6,120,27,132,162,68,157,224,40,56,13,166,192,44,80,193,14,248,36,120,22,188,8,94,2,175,130,}
\DoxyCodeLine{47 215,192,239,193,155,224,239,224,45,144,136,33,111,112,4,156,2,83,96,6,228,192,135,193,54,248,88,204,93,171,16,64,153,9,37,37,148,}
\DoxyCodeLine{48 141,100,41,8,233,16,134,34,132,17,182,0,241,197,111,3,237,160,3,116,202,181,239,6,61,224,30,208,11,246,131,7,65,16,40,114,191,}
\DoxyCodeLine{49 112,221,87,163,183,73,125,191,28,139,127,30,144,250,53,36,116,64,234,63,132,222,47,245,159,213,232,55,106,244,215,161,31,148,}
\DoxyCodeLine{50 250,159,160,31,150,250,77,232,135,164,126,187,70,247,135,119,245,150,26,189,29,250,17,169,247,214,216,7,194,238,94,230,122,186,}
\DoxyCodeLine{51 198,62,12,253,168,212,199,160,191,75,234,103,161,15,202,250,204,215,232,43,97,94,207,8,249,101,77,135,64,92,202,4,49,58,38,}
\DoxyCodeLine{52 235,204,219,12,255,142,139,250,197,104,69,200,8,61,46,107,248,16,241,117,139,139,218,134,96,81,196,218,185,50,130,235,154,24,}
\DoxyCodeLine{53 223,47,218,49,68,156,20,50,72,167,132,12,83,70,250,71,132,108,165,73,33,91,104,90,200,40,205,8,153,164,89,33,125,244,136,200,}
\DoxyCodeLine{54 211,29,143,203,81,41,223,39,100,19,141,9,25,160,113,105,63,35,164,143,62,32,100,7,157,149,237,115,82,62,44,100,130,178,178,61,}
\DoxyCodeLine{55 39,251,205,203,246,130,148,57,105,95,148,237,37,81,159,102,145,71,2,246,9,33,219,105,74,200,54,90,21,251,170,147,206,203,250,}
\DoxyCodeLine{56 50,114,247,54,255,236,3,95,66,227,72,220,109,199,165,191,73,250,239,151,242,131,210,159,144,254,128,180,247,73,249,5,233,231,}
\DoxyCodeLine{57 190,30,232,126,228,197,245,203,49,119,95,151,226,1,180,87,147,12,117,228,21,227,107,253,140,244,229,250,24,149,198,154,72,121,}
\DoxyCodeLine{58 247,174,239,217,58,95,115,157,239,133,58,95,68,248,20,121,162,62,23,115,115,136,138,61,193,196,190,184,90,27,159,110,33,133,69,}
\DoxyCodeLine{59 171,249,125,173,154,95,80,228,167,160,39,19,30,162,111,214,141,229,142,255,106,204,61,187,201,120,172,58,254,247,170,227,43,}
\DoxyCodeLine{60 24,191,77,140,239,249,126,84,231,107,23,190,0,60,188,126,175,213,250,22,59,196,60,188,123,255,162,230,222,65,25,255,107,47,62,}
\DoxyCodeLine{61 141,248,165,78,242,141,239,198,255,161,38,222,179,253,185,46,127,247,91,230,175,123,212,231,86,93,142,93,34,199,160,220,215,}
\DoxyCodeLine{62 255,142,185,123,33,73,165,62,110,249,208,1,31,173,246,251,69,255,128,28,53,16,119,191,3,141,120,8,189,90,232,30,150,38,163,239,}
\DoxyCodeLine{63 48,246,82,51,13,99,167,229,208,179,148,238,151,115,119,215,48,26,119,191,227,134,253,109,180,152,246,161,47,207,174,5,210,39,}
\DoxyCodeLine{64 228,58,146,76,38,141,49,70,241,227,209,61,35,12,100,155,166,129,127,80,245,195,104,119,15,243,191,167,94,91,169,147,65,41,195,}
\DoxyCodeLine{65 82,54,203,202,180,137,239,118,69,142,227,237,113,70,110,109,24,185,127,11,24,185,127,11,120,159,8,206,148,23,211,42,251,242,}
\DoxyCodeLine{66 81,120,187,93,218,59,165,189,19,209,188,237,151,246,54,98,3,196,70,40,56,162,27,186,51,74,254,209,204,145,101,138,76,204,205,}
\DoxyCodeLine{67 46,78,206,46,174,45,45,76,19,59,71,44,75,157,89,213,200,91,166,158,79,169,165,82,106,124,195,209,43,186,179,147,161,253,85,251,}
\DoxyCodeLine{68 134,105,56,154,225,164,38,92,185,160,217,102,161,162,89,25,234,217,59,100,219,201,80,247,29,174,105,33,50,244,64,213,147,87,29,}
\DoxyCodeLine{69 117,93,181,53,111,224,185,117,91,179,196,192,247,85,99,138,90,94,87,83,51,252,58,163,57,42,239,146,161,116,131,219,214,108,}
\DoxyCodeLine{70 91,55,13,55,140,15,102,153,133,130,102,245,79,168,133,194,186,186,113,41,67,67,239,176,199,124,65,221,225,61,166,141,11,102,}
\DoxyCodeLine{71 134,6,255,87,175,156,219,168,185,201,177,119,18,254,72,89,43,107,211,142,86,204,208,193,187,196,123,73,228,28,213,209,50,148,168,}
\DoxyCodeLine{72 134,25,154,147,90,178,244,12,181,85,77,166,157,58,83,54,242,5,196,181,215,26,207,170,220,104,213,150,187,100,153,21,61,175,89,}
\DoxyCodeLine{73 169,156,230,56,186,177,105,247,231,118,108,145,200,225,236,134,89,76,89,69,187,144,186,88,222,208,26,171,178,59,195,254,189,}
\DoxyCodeLine{74 2,229,204,238,30,229,222,102,217,44,148,139,90,237,26,231,213,66,69,191,148,82,13,195,196,76,249,204,115,250,166,161,58,101,}
\DoxyCodeLine{75 11,179,73,102,47,170,21,53,85,80,141,205,84,206,177,144,111,134,98,174,173,236,232,133,84,86,183,29,138,55,24,50,52,214,96,25,}
\DoxyCodeLine{76 249,255,214,100,52,67,189,119,153,253,49,62,48,245,236,53,101,233,218,107,158,174,139,45,147,178,124,142,124,203,231,196,37,75,}
\DoxyCodeLine{77 126,92,178,176,101,209,204,114,91,150,219,178,171,220,182,138,38,20,182,74,10,68,88,149,39,146,90,61,109,209,92,178,53,58,36,}
\DoxyCodeLine{78 15,214,169,20,38,229,46,104,202,22,25,164,42,34,133,181,98,217,214,55,40,136,243,104,169,54,117,108,106,206,120,169,84,208,55,}
\DoxyCodeLine{79 68,173,229,73,165,36,204,13,7,155,252,91,38,138,219,196,175,238,189,20,61,79,126,29,103,130,18,162,140,103,202,142,99,26,238,}
\DoxyCodeLine{80 137,166,251,139,245,5,27,47,231,117,147,31,160,137,45,44,158,150,167,125,13,1,222,65,246,252,7,26,252,117,251,223,11,106,188,}
\DoxyCodeLine{81 139,92,130,247,107,54,12,59,8,8,137,128,233,188,76,81,250,231,213,50,242,143,215,153,48,60,221,219,104,153,178,204,226,140,28,}
\DoxyCodeLine{82 33,89,235,204,105,218,165,69,179,126,136,156,99,150,100,70,158,165,102,237,189,148,195,69,57,81,74,154,198,29,85,9,99,13,132,}
\DoxyCodeLine{83 74,173,166,49,165,218,206,148,105,61,161,90,121,30,60,179,91,228,201,10,175,113,130,219,234,171,22,242,38,23,148,83,74,220,57,}
\DoxyCodeLine{84 145,78,215,116,71,49,163,166,33,246,124,77,46,11,218,19,186,33,52,57,225,36,215,26,106,220,2,219,37,189,180,104,206,242,173,19,}
\DoxyCodeLine{85 247,90,243,150,86,209,205,178,205,83,112,45,213,19,197,179,19,213,242,149,76,155,2,31,225,118,234,178,180,77,156,77,156,173,}
\DoxyCodeLine{86 250,47,126,106,182,181,194,5,89,21,232,206,164,161,174,23,112,223,152,189,101,150,11,249,51,154,103,104,182,29,213,114,236,71,}
\DoxyCodeLine{87 117,103,139,2,54,159,26,249,157,45,221,166,176,99,186,223,22,212,83,54,238,118,27,95,217,210,41,80,81,11,200,101,144,189,55,}
\DoxyCodeLine{88 20,29,25,164,33,54,28,138,174,210,41,54,201,197,24,123,140,139,41,70,126,182,210,177,15,15,135,15,19,55,164,101,116,142,63,47,}
\DoxyCodeLine{89 174,176,147,184,158,16,142,211,226,58,161,140,30,231,242,60,119,79,179,71,185,190,198,245,117,126,209,216,9,92,231,68,228,128,}
\DoxyCodeLine{90 146,198,72,217,193,65,58,169,172,174,135,162,223,225,99,159,15,69,7,89,60,209,75,74,146,173,247,6,186,168,235,222,46,214,21,239,}
\DoxyCodeLine{91 194,239,168,64,128,41,225,39,159,244,191,210,204,158,82,168,150,86,118,163,153,177,155,224,211,17,198,174,130,107,248,37,16,}
\DoxyCodeLine{92 140,40,74,18,241,191,138,52,198,115,186,217,91,136,123,166,133,177,43,224,21,112,3,220,4,79,183,50,246,121,240,13,240,99,240,}
\DoxyCodeLine{93 122,43,41,138,226,83,152,114,0,163,221,110,229,189,15,178,43,81,70,215,163,20,111,248,93,196,165,247,110,130,255,38,241,222,79,}
\DoxyCodeLine{94 248,104,247,29,133,159,118,223,83,112,233,189,171,240,158,83,249,251,10,95,220,29,75,252,198,234,115,159,237,70,160,7,251,92,59,}
\DoxyCodeLine{95 127,158,96,113,247,89,150,63,179,42,125,238,125,249,251,13,159,140,231,207,5,254,190,221,231,5,254,32,193,199,23,207,33,114,}
\DoxyCodeLine{96 124,254,46,229,191,60,5,16,96,132,17,0,0,0,0 \};}
\DoxyCodeLine{97 }
\DoxyCodeLine{98 \textcolor{preprocessor}{\#define JNI\_CLASS\_MEMBERS(METHOD, STATICMETHOD, FIELD, STATICFIELD, CALLBACK)    \(\backslash\)}}
\DoxyCodeLine{99 \textcolor{preprocessor}{ METHOD (getPlaybackInfo,      "{}getPlaybackInfo"{}},      "{}()Landroid/media/session/MediaController\$PlaybackInfo;"{}) \(\backslash\)}
\DoxyCodeLine{100  METHOD (getPlaybackState,     "{}getPlaybackState"{},     "{}()Landroid/media/session/PlaybackState;"{}) \(\backslash\)}
\DoxyCodeLine{101  METHOD (getTransportControls, "{}getTransportControls"{}, "{}()Landroid/media/session/MediaController\$TransportControls;"{}) \(\backslash\)}
\DoxyCodeLine{102  METHOD (registerCallback,     "{}registerCallback"{},     "{}(Landroid/media/session/MediaController\$Callback;)V"{}) \(\backslash\)}
\DoxyCodeLine{103  METHOD (setVolumeTo,          "{}setVolumeTo"{},          "{}(II)V"{}) \(\backslash\)}
\DoxyCodeLine{104  METHOD (unregisterCallback,   "{}unregisterCallback"{},   "{}(Landroid/media/session/MediaController\$Callback;)V"{})}
\DoxyCodeLine{105 }
\DoxyCodeLine{106 \mbox{\hyperlink{juce__android___j_n_i_helpers_8h_aee2899905ecbbb12e9c3d56d31289078}{DECLARE\_JNI\_CLASS\_WITH\_MIN\_SDK}} (AndroidMediaController, \textcolor{stringliteral}{"{}android/media/session/MediaController"{}}, 21)}
\DoxyCodeLine{107 \textcolor{preprocessor}{\#undef JNI\_CLASS\_MEMBERS}}
\DoxyCodeLine{108 }
\DoxyCodeLine{109 \textcolor{preprocessor}{\#define JNI\_CLASS\_MEMBERS(METHOD, STATICMETHOD, FIELD, STATICFIELD, CALLBACK) \(\backslash\)}}
\DoxyCodeLine{110 \textcolor{preprocessor}{ METHOD (getAudioAttributes, "{}getAudioAttributes"{}}, "{}()Landroid/media/AudioAttributes;"{}) \(\backslash\)}
\DoxyCodeLine{111  METHOD (getCurrentVolume,   "{}getCurrentVolume"{},   "{}()I"{}) \(\backslash\)}
\DoxyCodeLine{112  METHOD (getMaxVolume,       "{}getMaxVolume"{},       "{}()I"{})}
\DoxyCodeLine{113 }
\DoxyCodeLine{114 \mbox{\hyperlink{juce__android___j_n_i_helpers_8h_aee2899905ecbbb12e9c3d56d31289078}{DECLARE\_JNI\_CLASS\_WITH\_MIN\_SDK}} (AndroidMediaControllerPlaybackInfo, \textcolor{stringliteral}{"{}android/media/session/MediaController\$PlaybackInfo"{}}, 21)}
\DoxyCodeLine{115 \textcolor{preprocessor}{\#undef JNI\_CLASS\_MEMBERS}}
\DoxyCodeLine{116 }
\DoxyCodeLine{117 \textcolor{preprocessor}{\#define JNI\_CLASS\_MEMBERS(METHOD, STATICMETHOD, FIELD, STATICFIELD, CALLBACK) \(\backslash\)}}
\DoxyCodeLine{118 \textcolor{preprocessor}{ METHOD (pause,           "{}pause"{}},           "{}()V"{}) \(\backslash\)}
\DoxyCodeLine{119  METHOD (play,            "{}play"{},            "{}()V"{}) \(\backslash\)}
\DoxyCodeLine{120  METHOD (playFromMediaId, "{}playFromMediaId"{}, "{}(Ljava/lang/String;Landroid/os/Bundle;)V"{}) \(\backslash\)}
\DoxyCodeLine{121  METHOD (seekTo,          "{}seekTo"{},          "{}(J)V"{}) \(\backslash\)}
\DoxyCodeLine{122  METHOD (stop,            "{}stop"{},            "{}()V"{})}
\DoxyCodeLine{123 }
\DoxyCodeLine{124 \mbox{\hyperlink{juce__android___j_n_i_helpers_8h_aee2899905ecbbb12e9c3d56d31289078}{DECLARE\_JNI\_CLASS\_WITH\_MIN\_SDK}} (AndroidMediaControllerTransportControls, \textcolor{stringliteral}{"{}android/media/session/MediaController\$TransportControls"{}}, 21)}
\DoxyCodeLine{125 \textcolor{preprocessor}{\#undef JNI\_CLASS\_MEMBERS}}
\DoxyCodeLine{126 }
\DoxyCodeLine{127 \textcolor{preprocessor}{\#define JNI\_CLASS\_MEMBERS(METHOD, STATICMETHOD, FIELD, STATICFIELD, CALLBACK) \(\backslash\)}}
\DoxyCodeLine{128 \textcolor{preprocessor}{ METHOD (constructor,                  "{}<init>"{}},                       "{}()V"{}) \(\backslash\)}
\DoxyCodeLine{129  METHOD (getCurrentPosition,           "{}getCurrentPosition"{},           "{}()I"{}) \(\backslash\)}
\DoxyCodeLine{130  METHOD (getDuration,                  "{}getDuration"{},                  "{}()I"{}) \(\backslash\)}
\DoxyCodeLine{131  METHOD (getPlaybackParams,            "{}getPlaybackParams"{},            "{}()Landroid/media/PlaybackParams;"{}) \(\backslash\)}
\DoxyCodeLine{132  METHOD (getVideoHeight,               "{}getVideoHeight"{},               "{}()I"{}) \(\backslash\)}
\DoxyCodeLine{133  METHOD (getVideoWidth,                "{}getVideoWidth"{},                "{}()I"{}) \(\backslash\)}
\DoxyCodeLine{134  METHOD (isPlaying,                    "{}isPlaying"{},                    "{}()Z"{}) \(\backslash\)}
\DoxyCodeLine{135  METHOD (pause,                        "{}pause"{},                        "{}()V"{}) \(\backslash\)}
\DoxyCodeLine{136  METHOD (prepareAsync,                 "{}prepareAsync"{},                 "{}()V"{}) \(\backslash\)}
\DoxyCodeLine{137  METHOD (release,                      "{}release"{},                      "{}()V"{}) \(\backslash\)}
\DoxyCodeLine{138  METHOD (seekTo,                       "{}seekTo"{},                       "{}(I)V"{}) \(\backslash\)}
\DoxyCodeLine{139  METHOD (setAudioAttributes,           "{}setAudioAttributes"{},           "{}(Landroid/media/AudioAttributes;)V"{}) \(\backslash\)}
\DoxyCodeLine{140  METHOD (setDataSource,                "{}setDataSource"{},                "{}(Landroid/content/Context;Landroid/net/Uri;)V"{}) \(\backslash\)}
\DoxyCodeLine{141  METHOD (setDisplay,                   "{}setDisplay"{},                   "{}(Landroid/view/SurfaceHolder;)V"{}) \(\backslash\)}
\DoxyCodeLine{142  METHOD (setOnBufferingUpdateListener, "{}setOnBufferingUpdateListener"{}, "{}(Landroid/media/MediaPlayer\$OnBufferingUpdateListener;)V"{}) \(\backslash\)}
\DoxyCodeLine{143  METHOD (setOnCompletionListener,      "{}setOnCompletionListener"{},      "{}(Landroid/media/MediaPlayer\$OnCompletionListener;)V"{}) \(\backslash\)}
\DoxyCodeLine{144  METHOD (setOnErrorListener,           "{}setOnErrorListener"{},           "{}(Landroid/media/MediaPlayer\$OnErrorListener;)V"{}) \(\backslash\)}
\DoxyCodeLine{145  METHOD (setOnInfoListener,            "{}setOnInfoListener"{},            "{}(Landroid/media/MediaPlayer\$OnInfoListener;)V"{}) \(\backslash\)}
\DoxyCodeLine{146  METHOD (setOnPreparedListener,        "{}setOnPreparedListener"{},        "{}(Landroid/media/MediaPlayer\$OnPreparedListener;)V"{}) \(\backslash\)}
\DoxyCodeLine{147  METHOD (setOnSeekCompleteListener,    "{}setOnSeekCompleteListener"{},    "{}(Landroid/media/MediaPlayer\$OnSeekCompleteListener;)V"{}) \(\backslash\)}
\DoxyCodeLine{148  METHOD (setPlaybackParams,            "{}setPlaybackParams"{},            "{}(Landroid/media/PlaybackParams;)V"{}) \(\backslash\)}
\DoxyCodeLine{149  METHOD (setVolume,                    "{}setVolume"{},                    "{}(FF)V"{}) \(\backslash\)}
\DoxyCodeLine{150  METHOD (start,                        "{}start"{},                        "{}()V"{}) \(\backslash\)}
\DoxyCodeLine{151  METHOD (stop,                         "{}stop"{},                         "{}()V"{})}
\DoxyCodeLine{152 }
\DoxyCodeLine{153 \mbox{\hyperlink{juce__android___j_n_i_helpers_8h_aee2899905ecbbb12e9c3d56d31289078}{DECLARE\_JNI\_CLASS\_WITH\_MIN\_SDK}} (AndroidMediaPlayer, \textcolor{stringliteral}{"{}android/media/MediaPlayer"{}}, 21)}
\DoxyCodeLine{154 \textcolor{preprocessor}{\#undef JNI\_CLASS\_MEMBERS}}
\DoxyCodeLine{155 }
\DoxyCodeLine{156 \textcolor{preprocessor}{\#define JNI\_CLASS\_MEMBERS(METHOD, STATICMETHOD, FIELD, STATICFIELD, CALLBACK) \(\backslash\)}}
\DoxyCodeLine{157 \textcolor{preprocessor}{ METHOD (constructor,            "{}<init>"{}},                 "{}(Landroid/content/Context;Ljava/lang/String;)V"{}) \(\backslash\)}
\DoxyCodeLine{158  METHOD (getController,          "{}getController"{},          "{}()Landroid/media/session/MediaController;"{}) \(\backslash\)}
\DoxyCodeLine{159  METHOD (release,                "{}release"{},                "{}()V"{}) \(\backslash\)}
\DoxyCodeLine{160  METHOD (setActive,              "{}setActive"{},              "{}(Z)V"{}) \(\backslash\)}
\DoxyCodeLine{161  METHOD (setCallback,            "{}setCallback"{},            "{}(Landroid/media/session/MediaSession\$Callback;)V"{}) \(\backslash\)}
\DoxyCodeLine{162  METHOD (setFlags,               "{}setFlags"{},               "{}(I)V"{}) \(\backslash\)}
\DoxyCodeLine{163  METHOD (setMediaButtonReceiver, "{}setMediaButtonReceiver"{}, "{}(Landroid/app/PendingIntent;)V"{}) \(\backslash\)}
\DoxyCodeLine{164  METHOD (setMetadata,            "{}setMetadata"{},            "{}(Landroid/media/MediaMetadata;)V"{}) \(\backslash\)}
\DoxyCodeLine{165  METHOD (setPlaybackState,       "{}setPlaybackState"{},       "{}(Landroid/media/session/PlaybackState;)V"{}) \(\backslash\)}
\DoxyCodeLine{166  METHOD (setPlaybackToLocal,     "{}setPlaybackToLocal"{},     "{}(Landroid/media/AudioAttributes;)V"{})}
\DoxyCodeLine{167 }
\DoxyCodeLine{168 \mbox{\hyperlink{juce__android___j_n_i_helpers_8h_aee2899905ecbbb12e9c3d56d31289078}{DECLARE\_JNI\_CLASS\_WITH\_MIN\_SDK}} (AndroidMediaSession, \textcolor{stringliteral}{"{}android/media/session/MediaSession"{}}, 21)}
\DoxyCodeLine{169 \textcolor{preprocessor}{\#undef JNI\_CLASS\_MEMBERS}}
\DoxyCodeLine{170 }
\DoxyCodeLine{171 \textcolor{preprocessor}{\#define JNI\_CLASS\_MEMBERS(METHOD, STATICMETHOD, FIELD, STATICFIELD, CALLBACK) \(\backslash\)}}
\DoxyCodeLine{172 \textcolor{preprocessor}{ METHOD (build,       "{}build"{}},   "{}()Landroid/media/MediaMetadata;"{}) \(\backslash\)}
\DoxyCodeLine{173  METHOD (constructor, "{}<init>"{},  "{}()V"{}) \(\backslash\)}
\DoxyCodeLine{174  METHOD (putLong,     "{}putLong"{}, "{}(Ljava/lang/String;J)Landroid/media/MediaMetadata\$Builder;"{})}
\DoxyCodeLine{175 }
\DoxyCodeLine{176 \mbox{\hyperlink{juce__android___j_n_i_helpers_8h_aee2899905ecbbb12e9c3d56d31289078}{DECLARE\_JNI\_CLASS\_WITH\_MIN\_SDK}} (AndroidMediaMetadataBuilder, \textcolor{stringliteral}{"{}android/media/MediaMetadata\$Builder"{}}, 21)}
\DoxyCodeLine{177 \textcolor{preprocessor}{\#undef JNI\_CLASS\_MEMBERS}}
\DoxyCodeLine{178 }
\DoxyCodeLine{179 \textcolor{preprocessor}{\#define JNI\_CLASS\_MEMBERS(METHOD, STATICMETHOD, FIELD, STATICFIELD, CALLBACK) \(\backslash\)}}
\DoxyCodeLine{180 \textcolor{preprocessor}{ METHOD (getSpeed, "{}getSpeed"{}}, "{}()F"{}) \(\backslash\)}
\DoxyCodeLine{181  METHOD (setSpeed, "{}setSpeed"{}, "{}(F)Landroid/media/PlaybackParams;"{})}
\DoxyCodeLine{182 }
\DoxyCodeLine{183 \mbox{\hyperlink{juce__android___j_n_i_helpers_8h_aee2899905ecbbb12e9c3d56d31289078}{DECLARE\_JNI\_CLASS\_WITH\_MIN\_SDK}} (AndroidPlaybackParams, \textcolor{stringliteral}{"{}android/media/PlaybackParams"{}}, 21)}
\DoxyCodeLine{184 \textcolor{preprocessor}{\#undef JNI\_CLASS\_MEMBERS}}
\DoxyCodeLine{185 }
\DoxyCodeLine{186 \textcolor{preprocessor}{\#define JNI\_CLASS\_MEMBERS(METHOD, STATICMETHOD, FIELD, STATICFIELD, CALLBACK) \(\backslash\)}}
\DoxyCodeLine{187 \textcolor{preprocessor}{ METHOD (getActions,       "{}getActions"{}},       "{}()J"{}) \(\backslash\)}
\DoxyCodeLine{188  METHOD (getErrorMessage,  "{}getErrorMessage"{},  "{}()Ljava/lang/CharSequence;"{}) \(\backslash\)}
\DoxyCodeLine{189  METHOD (getPlaybackSpeed, "{}getPlaybackSpeed"{}, "{}()F"{}) \(\backslash\)}
\DoxyCodeLine{190  METHOD (getPosition,      "{}getPosition"{},      "{}()J"{}) \(\backslash\)}
\DoxyCodeLine{191  METHOD (getState,         "{}getState"{},         "{}()I"{})}
\DoxyCodeLine{192 }
\DoxyCodeLine{193 \mbox{\hyperlink{juce__android___j_n_i_helpers_8h_aee2899905ecbbb12e9c3d56d31289078}{DECLARE\_JNI\_CLASS\_WITH\_MIN\_SDK}} (AndroidPlaybackState, \textcolor{stringliteral}{"{}android/media/session/PlaybackState"{}}, 21)}
\DoxyCodeLine{194 \textcolor{preprocessor}{\#undef JNI\_CLASS\_MEMBERS}}
\DoxyCodeLine{195 }
\DoxyCodeLine{196 \textcolor{preprocessor}{\#define JNI\_CLASS\_MEMBERS(METHOD, STATICMETHOD, FIELD, STATICFIELD, CALLBACK) \(\backslash\)}}
\DoxyCodeLine{197 \textcolor{preprocessor}{ METHOD (build,           "{}build"{}},           "{}()Landroid/media/session/PlaybackState;"{}) \(\backslash\)}
\DoxyCodeLine{198  METHOD (constructor,     "{}<init>"{},          "{}()V"{}) \(\backslash\)}
\DoxyCodeLine{199  METHOD (setActions,      "{}setActions"{},      "{}(J)Landroid/media/session/PlaybackState\$Builder;"{}) \(\backslash\)}
\DoxyCodeLine{200  METHOD (setErrorMessage, "{}setErrorMessage"{}, "{}(Ljava/lang/CharSequence;)Landroid/media/session/PlaybackState\$Builder;"{}) \(\backslash\)}
\DoxyCodeLine{201  METHOD (setState,        "{}setState"{},        "{}(IJF)Landroid/media/session/PlaybackState\$Builder;"{})}
\DoxyCodeLine{202 }
\DoxyCodeLine{203 \mbox{\hyperlink{juce__android___j_n_i_helpers_8h_aee2899905ecbbb12e9c3d56d31289078}{DECLARE\_JNI\_CLASS\_WITH\_MIN\_SDK}} (AndroidPlaybackStateBuilder, \textcolor{stringliteral}{"{}android/media/session/PlaybackState\$Builder"{}}, 21)}
\DoxyCodeLine{204 \textcolor{preprocessor}{\#undef JNI\_CLASS\_MEMBERS}}
\DoxyCodeLine{205 }
\DoxyCodeLine{206 \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{207 \textcolor{keyword}{class }\mbox{\hyperlink{class_media_player_listener}{MediaPlayerListener}}  : \textcolor{keyword}{public} AndroidInterfaceImplementer}
\DoxyCodeLine{208 \{}
\DoxyCodeLine{209 \textcolor{keyword}{public}:}
\DoxyCodeLine{210     \textcolor{keyword}{struct }\mbox{\hyperlink{struct_media_player_listener_1_1_owner}{Owner}}}
\DoxyCodeLine{211     \{}
\DoxyCodeLine{212         \textcolor{keyword}{virtual} \mbox{\hyperlink{struct_media_player_listener_1_1_owner_ab183879edfe9e9cef2fe0788de3fd9e0}{\string~Owner}}() \{\}}
\DoxyCodeLine{213 }
\DoxyCodeLine{214         \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} \mbox{\hyperlink{struct_media_player_listener_1_1_owner_a96ecb49cc39a80d508000d12329a6f47}{onPrepared}} (LocalRef<jobject>\& mediaPlayer) = 0;}
\DoxyCodeLine{215         \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} \mbox{\hyperlink{struct_media_player_listener_1_1_owner_a459f0f40ff3cc05803bcab9a6c5bf076}{onBufferingUpdate}} (LocalRef<jobject>\& mediaPlayer, \textcolor{keywordtype}{int} progress) = 0;}
\DoxyCodeLine{216         \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} \mbox{\hyperlink{struct_media_player_listener_1_1_owner_adcdd3a17c48eb84e15fb772af698a6b4}{onSeekComplete}} (LocalRef<jobject>\& mediaPlayer) = 0;}
\DoxyCodeLine{217         \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} \mbox{\hyperlink{struct_media_player_listener_1_1_owner_ad260849eefbda5faf1d9e7cffd8cdcac}{onCompletion}} (LocalRef<jobject>\& mediaPlayer) = 0;}
\DoxyCodeLine{218         \textcolor{keyword}{virtual} \textcolor{keywordtype}{bool} \mbox{\hyperlink{struct_media_player_listener_1_1_owner_a101b228db0bca6a6591ae98c8066fce6}{onInfo}} (LocalRef<jobject>\& mediaPlayer, \textcolor{keywordtype}{int} what, \textcolor{keywordtype}{int} extra) = 0;}
\DoxyCodeLine{219         \textcolor{keyword}{virtual} \textcolor{keywordtype}{bool} \mbox{\hyperlink{struct_media_player_listener_1_1_owner_a7318a4f8e7b8dba783635dd74fc8b51d}{onError}} (LocalRef<jobject>\& mediaPlayer, \textcolor{keywordtype}{int} what, \textcolor{keywordtype}{int} extra) = 0;}
\DoxyCodeLine{220     \};}
\DoxyCodeLine{221 }
\DoxyCodeLine{222     \mbox{\hyperlink{class_media_player_listener_a820cc09d5b0e8b421e16bed51dbe56f0}{MediaPlayerListener}} (\mbox{\hyperlink{struct_media_player_listener_1_1_owner}{Owner}}\& ownerToUse) : owner (ownerToUse) \{\}}
\DoxyCodeLine{223 }
\DoxyCodeLine{224 \textcolor{keyword}{private}:}
\DoxyCodeLine{225     Owner\& owner;}
\DoxyCodeLine{226 }
\DoxyCodeLine{227     jobject invoke (jobject proxy, jobject method, jobjectArray args)\textcolor{keyword}{ override}}
\DoxyCodeLine{228 \textcolor{keyword}{    }\{}
\DoxyCodeLine{229         \textcolor{keyword}{auto}* env = \mbox{\hyperlink{namespacejuce_a4f3642abf35d22b0f69c4361d90ce667}{getEnv}}();}
\DoxyCodeLine{230         \textcolor{keyword}{auto} methodName = juce::juceString ((jstring) env-\/>CallObjectMethod (method, JavaMethod.getName));}
\DoxyCodeLine{231 }
\DoxyCodeLine{232         \textcolor{keywordtype}{int} numArgs = args != \textcolor{keyword}{nullptr} ? env-\/>GetArrayLength (args) : 0;}
\DoxyCodeLine{233 }
\DoxyCodeLine{234         \textcolor{keywordflow}{if} (methodName == \textcolor{stringliteral}{"{}onPrepared"{}} \&\& numArgs == 1)}
\DoxyCodeLine{235         \{}
\DoxyCodeLine{236             \textcolor{keyword}{auto} mediaPlayer = LocalRef<jobject> (env-\/>GetObjectArrayElement (args, 0));}
\DoxyCodeLine{237 }
\DoxyCodeLine{238             owner.onPrepared (mediaPlayer);}
\DoxyCodeLine{239             \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{240         \}}
\DoxyCodeLine{241 }
\DoxyCodeLine{242         \textcolor{keywordflow}{if} (methodName == \textcolor{stringliteral}{"{}onCompletion"{}} \&\& numArgs == 1)}
\DoxyCodeLine{243         \{}
\DoxyCodeLine{244             \textcolor{keyword}{auto} mediaPlayer = LocalRef<jobject> (env-\/>GetObjectArrayElement (args, 0));}
\DoxyCodeLine{245 }
\DoxyCodeLine{246             owner.onCompletion (mediaPlayer);}
\DoxyCodeLine{247             \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{248         \}}
\DoxyCodeLine{249 }
\DoxyCodeLine{250         \textcolor{keywordflow}{if} (methodName == \textcolor{stringliteral}{"{}onInfo"{}} \&\& numArgs == 3)}
\DoxyCodeLine{251         \{}
\DoxyCodeLine{252             \textcolor{keyword}{auto} mediaPlayer = LocalRef<jobject> (env-\/>GetObjectArrayElement (args, 0));}
\DoxyCodeLine{253             \textcolor{keyword}{auto} what        = LocalRef<jobject> (env-\/>GetObjectArrayElement (args, 1));}
\DoxyCodeLine{254             \textcolor{keyword}{auto} extra       = LocalRef<jobject> (env-\/>GetObjectArrayElement (args, 2));}
\DoxyCodeLine{255 }
\DoxyCodeLine{256             \textcolor{keyword}{auto} whatInt  = (\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}}) env-\/>CallIntMethod (what, JavaInteger.intValue);}
\DoxyCodeLine{257             \textcolor{keyword}{auto} extraInt = (\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}}) env-\/>CallIntMethod (extra, JavaInteger.intValue);}
\DoxyCodeLine{258 }
\DoxyCodeLine{259             \textcolor{keyword}{auto} \mbox{\hyperlink{namespacegl_a42df355b404e62160911ce00a98c1664}{res}} = owner.onInfo (mediaPlayer, whatInt, extraInt);}
\DoxyCodeLine{260             \textcolor{keywordflow}{return} env-\/>CallStaticObjectMethod (JavaBoolean, JavaBoolean.valueOf, (jboolean) \mbox{\hyperlink{namespacegl_a42df355b404e62160911ce00a98c1664}{res}});}
\DoxyCodeLine{261         \}}
\DoxyCodeLine{262 }
\DoxyCodeLine{263         \textcolor{keywordflow}{if} (methodName == \textcolor{stringliteral}{"{}onError"{}} \&\& numArgs == 3)}
\DoxyCodeLine{264         \{}
\DoxyCodeLine{265             \textcolor{keyword}{auto} mediaPlayer = LocalRef<jobject> (env-\/>GetObjectArrayElement (args, 0));}
\DoxyCodeLine{266             \textcolor{keyword}{auto} what        = LocalRef<jobject> (env-\/>GetObjectArrayElement (args, 1));}
\DoxyCodeLine{267             \textcolor{keyword}{auto} extra       = LocalRef<jobject> (env-\/>GetObjectArrayElement (args, 2));}
\DoxyCodeLine{268 }
\DoxyCodeLine{269             \textcolor{keyword}{auto} whatInt  = (\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}}) env-\/>CallIntMethod (what, JavaInteger.intValue);}
\DoxyCodeLine{270             \textcolor{keyword}{auto} extraInt = (\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}}) env-\/>CallIntMethod (extra, JavaInteger.intValue);}
\DoxyCodeLine{271 }
\DoxyCodeLine{272             \textcolor{keyword}{auto} \mbox{\hyperlink{namespacegl_a42df355b404e62160911ce00a98c1664}{res}} = owner.onError (mediaPlayer, whatInt, extraInt);}
\DoxyCodeLine{273             \textcolor{keywordflow}{return} env-\/>CallStaticObjectMethod (JavaBoolean, JavaBoolean.valueOf, (jboolean) \mbox{\hyperlink{namespacegl_a42df355b404e62160911ce00a98c1664}{res}});}
\DoxyCodeLine{274         \}}
\DoxyCodeLine{275 }
\DoxyCodeLine{276         \textcolor{keywordflow}{if} (methodName == \textcolor{stringliteral}{"{}onSeekComplete"{}} \&\& numArgs == 1)}
\DoxyCodeLine{277         \{}
\DoxyCodeLine{278             \textcolor{keyword}{auto} mediaPlayer = LocalRef<jobject> (env-\/>GetObjectArrayElement (args, 0));}
\DoxyCodeLine{279 }
\DoxyCodeLine{280             owner.onSeekComplete (mediaPlayer);}
\DoxyCodeLine{281             \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{282         \}}
\DoxyCodeLine{283 }
\DoxyCodeLine{284         \textcolor{keywordflow}{if} (methodName == \textcolor{stringliteral}{"{}onBufferingUpdate"{}} \&\& numArgs == 2)}
\DoxyCodeLine{285         \{}
\DoxyCodeLine{286             \textcolor{keyword}{auto} mediaPlayer = LocalRef<jobject> (env-\/>GetObjectArrayElement (args, 0));}
\DoxyCodeLine{287 }
\DoxyCodeLine{288             \textcolor{keyword}{auto} progress    = LocalRef<jobject> (env-\/>GetObjectArrayElement (args, 1));}
\DoxyCodeLine{289             \textcolor{keyword}{auto} progressInt = (\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}}) env-\/>CallIntMethod (progress, JavaInteger.intValue);}
\DoxyCodeLine{290 }
\DoxyCodeLine{291             owner.onBufferingUpdate (mediaPlayer, progressInt);}
\DoxyCodeLine{292 }
\DoxyCodeLine{293             \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{294         \}}
\DoxyCodeLine{295 }
\DoxyCodeLine{296         \textcolor{keywordflow}{return} AndroidInterfaceImplementer::invoke (proxy, method, args);}
\DoxyCodeLine{297     \}}
\DoxyCodeLine{298 \};}
\DoxyCodeLine{299 }
\DoxyCodeLine{300 \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{301 \textcolor{keyword}{class }\mbox{\hyperlink{class_audio_manager_on_audio_focus_change_listener}{AudioManagerOnAudioFocusChangeListener}}  : \textcolor{keyword}{public} AndroidInterfaceImplementer}
\DoxyCodeLine{302 \{}
\DoxyCodeLine{303 \textcolor{keyword}{public}:}
\DoxyCodeLine{304     \textcolor{keyword}{struct }\mbox{\hyperlink{struct_audio_manager_on_audio_focus_change_listener_1_1_owner}{Owner}}}
\DoxyCodeLine{305     \{}
\DoxyCodeLine{306         \textcolor{keyword}{virtual} \mbox{\hyperlink{struct_audio_manager_on_audio_focus_change_listener_1_1_owner_a4d5d0e8d5ae4b8eaed9a245d4bbceb58}{\string~Owner}}() \{\}}
\DoxyCodeLine{307 }
\DoxyCodeLine{308         \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} \mbox{\hyperlink{struct_audio_manager_on_audio_focus_change_listener_1_1_owner_a9a1881a0f964e3729f0c353d9d4bdfa4}{onAudioFocusChange}} (\textcolor{keywordtype}{int} changeType) = 0;}
\DoxyCodeLine{309     \};}
\DoxyCodeLine{310 }
\DoxyCodeLine{311     \mbox{\hyperlink{class_audio_manager_on_audio_focus_change_listener_a3da3cf7d3fca8b5e0606423b455925c3}{AudioManagerOnAudioFocusChangeListener}} (\mbox{\hyperlink{struct_audio_manager_on_audio_focus_change_listener_1_1_owner}{Owner}}\& ownerToUse) : owner (ownerToUse) \{\}}
\DoxyCodeLine{312 }
\DoxyCodeLine{313 \textcolor{keyword}{private}:}
\DoxyCodeLine{314     Owner\& owner;}
\DoxyCodeLine{315 }
\DoxyCodeLine{316     jobject invoke (jobject proxy, jobject method, jobjectArray args)\textcolor{keyword}{ override}}
\DoxyCodeLine{317 \textcolor{keyword}{    }\{}
\DoxyCodeLine{318         \textcolor{keyword}{auto}* env = \mbox{\hyperlink{namespacejuce_a4f3642abf35d22b0f69c4361d90ce667}{getEnv}}();}
\DoxyCodeLine{319         \textcolor{keyword}{auto} methodName = juce::juceString ((jstring) env-\/>CallObjectMethod (method, JavaMethod.getName));}
\DoxyCodeLine{320 }
\DoxyCodeLine{321         \textcolor{keywordtype}{int} numArgs = args != \textcolor{keyword}{nullptr} ? env-\/>GetArrayLength (args) : 0;}
\DoxyCodeLine{322 }
\DoxyCodeLine{323         \textcolor{keywordflow}{if} (methodName == \textcolor{stringliteral}{"{}onAudioFocusChange"{}} \&\& numArgs == 1)}
\DoxyCodeLine{324         \{}
\DoxyCodeLine{325             \textcolor{keyword}{auto} changeType = LocalRef<jobject> (env-\/>GetObjectArrayElement (args, 0));}
\DoxyCodeLine{326 }
\DoxyCodeLine{327             \textcolor{keyword}{auto} changeTypeInt = (\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}}) env-\/>CallIntMethod (changeType, JavaInteger.intValue);}
\DoxyCodeLine{328 }
\DoxyCodeLine{329             owner.onAudioFocusChange (changeTypeInt);}
\DoxyCodeLine{330             \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{331         \}}
\DoxyCodeLine{332 }
\DoxyCodeLine{333         \textcolor{keywordflow}{return} AndroidInterfaceImplementer::invoke (proxy, method, args);}
\DoxyCodeLine{334     \}}
\DoxyCodeLine{335 \};}
\DoxyCodeLine{336 }
\DoxyCodeLine{337 \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{338 \textcolor{keyword}{struct }\mbox{\hyperlink{struct_video_component_1_1_pimpl}{VideoComponent::Pimpl}}}
\DoxyCodeLine{339     : \textcolor{keyword}{public} AndroidViewComponent, \textcolor{keyword}{private} ActivityLifecycleCallbacks, \textcolor{keyword}{private} SurfaceHolderCallback}
\DoxyCodeLine{340 \{}
\DoxyCodeLine{341     \mbox{\hyperlink{struct_video_component_1_1_pimpl_aa84bfd6ad60b925ac1266e1202816911}{Pimpl}} (\mbox{\hyperlink{class_video_component}{VideoComponent}}\& ownerToUse, \textcolor{keywordtype}{bool})}
\DoxyCodeLine{342         : owner (ownerToUse),}
\DoxyCodeLine{343           mediaSession (*this)}
\DoxyCodeLine{344        \#if JUCE\_SYNC\_VIDEO\_VOLUME\_WITH\_OS\_MEDIA\_VOLUME}
\DoxyCodeLine{345         , systemVolumeListener (*this)}
\DoxyCodeLine{346        \#endif}
\DoxyCodeLine{347     \{}
\DoxyCodeLine{348         \textcolor{comment}{// Video requires SDK version 21 or higher}}
\DoxyCodeLine{349         \mbox{\hyperlink{group__juce__core-system_ga1f96ab6751237979b907a54f52a7296a}{jassert}} (\mbox{\hyperlink{namespacejuce_a5f3f814b10a0af4c725415ceacdfde7c}{getAndroidSDKVersion}}() >= 21);}
\DoxyCodeLine{350 }
\DoxyCodeLine{351         \mbox{\hyperlink{class_component_ac8483af6fe4dc3254e7176df0d8e9f7a}{setVisible}} (\textcolor{keyword}{true});}
\DoxyCodeLine{352 }
\DoxyCodeLine{353         \textcolor{keyword}{auto}* env = \mbox{\hyperlink{namespacejuce_a4f3642abf35d22b0f69c4361d90ce667}{getEnv}}();}
\DoxyCodeLine{354 }
\DoxyCodeLine{355         LocalRef<jobject> appContext (\mbox{\hyperlink{namespacejuce_ae270c2dd4b358c3482f8950a283a36af}{getAppContext}}());}
\DoxyCodeLine{356 }
\DoxyCodeLine{357         \textcolor{keywordflow}{if} (appContext != \textcolor{keyword}{nullptr})}
\DoxyCodeLine{358         \{}
\DoxyCodeLine{359             ActivityLifecycleCallbacks* callbacks = \textcolor{keyword}{dynamic\_cast<}ActivityLifecycleCallbacks*\textcolor{keyword}{>} (\textcolor{keyword}{this});}
\DoxyCodeLine{360 }
\DoxyCodeLine{361             activityLifeListener = GlobalRef (\mbox{\hyperlink{namespacejuce_aa5d43f5b68766ba8c811e4e17df96a3e}{CreateJavaInterface}} (callbacks, \textcolor{stringliteral}{"{}android/app/Application\$ActivityLifecycleCallbacks"{}}));}
\DoxyCodeLine{362             env-\/>CallVoidMethod (appContext.get(), AndroidApplication.registerActivityLifecycleCallbacks, activityLifeListener.get());}
\DoxyCodeLine{363         \}}
\DoxyCodeLine{364 }
\DoxyCodeLine{365         \{}
\DoxyCodeLine{366             LocalRef<jobject> surfaceView (env-\/>NewObject (AndroidSurfaceView, AndroidSurfaceView.constructor, \mbox{\hyperlink{namespacejuce_ae270c2dd4b358c3482f8950a283a36af}{getAppContext}}().\mbox{\hyperlink{namespacedsp_ab70e205bff92b09aa297e479676b5bc8}{get}}()));}
\DoxyCodeLine{367             LocalRef<jobject> holder (env-\/>CallObjectMethod (surfaceView.get(), AndroidSurfaceView.getHolder));}
\DoxyCodeLine{368 }
\DoxyCodeLine{369             SurfaceHolderCallback* callbacks = \textcolor{keyword}{dynamic\_cast<}SurfaceHolderCallback*\textcolor{keyword}{>} (\textcolor{keyword}{this});}
\DoxyCodeLine{370             surfaceHolderCallback = GlobalRef (\mbox{\hyperlink{namespacejuce_aa5d43f5b68766ba8c811e4e17df96a3e}{CreateJavaInterface}} (callbacks, \textcolor{stringliteral}{"{}android/view/SurfaceHolder\$Callback"{}}));}
\DoxyCodeLine{371             env-\/>CallVoidMethod (holder, AndroidSurfaceHolder.addCallback, surfaceHolderCallback.get());}
\DoxyCodeLine{372 }
\DoxyCodeLine{373             setView (surfaceView.get());}
\DoxyCodeLine{374         \}}
\DoxyCodeLine{375     \}}
\DoxyCodeLine{376 }
\DoxyCodeLine{377     \mbox{\hyperlink{struct_video_component_1_1_pimpl_a1d8f11911d0b529ceff4a646056d6276}{\string~Pimpl}}()\textcolor{keyword}{ override}}
\DoxyCodeLine{378 \textcolor{keyword}{    }\{}
\DoxyCodeLine{379         \textcolor{keyword}{auto}* env = \mbox{\hyperlink{namespacejuce_a4f3642abf35d22b0f69c4361d90ce667}{getEnv}}();}
\DoxyCodeLine{380 }
\DoxyCodeLine{381         \textcolor{keywordflow}{if} (surfaceHolderCallback != \textcolor{keyword}{nullptr})}
\DoxyCodeLine{382         \{}
\DoxyCodeLine{383             jobject view = \textcolor{keyword}{reinterpret\_cast<}jobject\textcolor{keyword}{>} (getView());}
\DoxyCodeLine{384 }
\DoxyCodeLine{385             \textcolor{keywordflow}{if} (view != \textcolor{keyword}{nullptr})}
\DoxyCodeLine{386             \{}
\DoxyCodeLine{387                 LocalRef <jobject> holder (env-\/>CallObjectMethod (view, AndroidSurfaceView.getHolder));}
\DoxyCodeLine{388 }
\DoxyCodeLine{389                 env-\/>CallVoidMethod (holder, AndroidSurfaceHolder.removeCallback, surfaceHolderCallback.get());}
\DoxyCodeLine{390                 \mbox{\hyperlink{namespacedsp_1_1detail_a953fbe1bf6236c0f3a95d12aad7ffffb}{SurfaceHolderCallback::clear}}();}
\DoxyCodeLine{391                 surfaceHolderCallback.clear();}
\DoxyCodeLine{392             \}}
\DoxyCodeLine{393         \}}
\DoxyCodeLine{394 }
\DoxyCodeLine{395         \textcolor{keywordflow}{if} (activityLifeListener != \textcolor{keyword}{nullptr})}
\DoxyCodeLine{396         \{}
\DoxyCodeLine{397             env-\/>CallVoidMethod (\mbox{\hyperlink{namespacejuce_ae270c2dd4b358c3482f8950a283a36af}{getAppContext}}().\mbox{\hyperlink{namespacedsp_ab70e205bff92b09aa297e479676b5bc8}{get}}(), AndroidApplication.unregisterActivityLifecycleCallbacks, activityLifeListener.get());}
\DoxyCodeLine{398             \mbox{\hyperlink{namespacedsp_1_1detail_a953fbe1bf6236c0f3a95d12aad7ffffb}{ActivityLifecycleCallbacks::clear}}();}
\DoxyCodeLine{399             activityLifeListener.clear();}
\DoxyCodeLine{400         \}}
\DoxyCodeLine{401     \}}
\DoxyCodeLine{402 }
\DoxyCodeLine{403     \textcolor{keywordtype}{void} \mbox{\hyperlink{struct_video_component_1_1_pimpl_a9ef59ce888292e13332107b41acb5d6e}{loadAsync}} (\textcolor{keyword}{const} \mbox{\hyperlink{class_u_r_l}{URL}}\& url, \mbox{\hyperlink{namespacejuce_a7959b0b488fde11032d8151bf10669a4}{std::function}}<\textcolor{keywordtype}{void} (\textcolor{keyword}{const} \mbox{\hyperlink{class_u_r_l}{URL}}\&, \mbox{\hyperlink{class_result}{Result}})> \mbox{\hyperlink{juce__linux___a_l_s_a_8cpp_a7d161ccbd94169c2108f6a40711e3a76}{callback}})}
\DoxyCodeLine{404     \{}
\DoxyCodeLine{405         \mbox{\hyperlink{struct_video_component_1_1_pimpl_a57ed4d8dd7b190f44719e042ef101cba}{close}}();}
\DoxyCodeLine{406         wasOpen = \textcolor{keyword}{false};}
\DoxyCodeLine{407 }
\DoxyCodeLine{408         \textcolor{keywordflow}{if} (url.\mbox{\hyperlink{class_u_r_l_a2c4969b6498c3323b02977218ca03989}{isEmpty}}())}
\DoxyCodeLine{409         \{}
\DoxyCodeLine{410             \mbox{\hyperlink{group__juce__core-system_gadc044ce5efecbecf2f5a44cd00db67b3}{jassertfalse}};}
\DoxyCodeLine{411             \textcolor{keywordflow}{return};}
\DoxyCodeLine{412         \}}
\DoxyCodeLine{413 }
\DoxyCodeLine{414         \textcolor{keywordflow}{if} (! url.\mbox{\hyperlink{class_u_r_l_a530504c406dbed825de31b69892789f3}{isLocalFile}}())}
\DoxyCodeLine{415         \{}
\DoxyCodeLine{416             \textcolor{keywordflow}{if} (! \mbox{\hyperlink{namespacejuce_a4bab58551279d2a4c452951edb71f673}{isPermissionDeclaredInManifest}} (\textcolor{stringliteral}{"{}android.permission.INTERNET"{}}))}
\DoxyCodeLine{417             \{}
\DoxyCodeLine{418                 \textcolor{comment}{// In order to access videos from the Internet, the Internet permission has to be specified in}}
\DoxyCodeLine{419                 \textcolor{comment}{// Android Manifest.}}
\DoxyCodeLine{420                 \mbox{\hyperlink{group__juce__core-system_gadc044ce5efecbecf2f5a44cd00db67b3}{jassertfalse}};}
\DoxyCodeLine{421                 \textcolor{keywordflow}{return};}
\DoxyCodeLine{422             \}}
\DoxyCodeLine{423         \}}
\DoxyCodeLine{424 }
\DoxyCodeLine{425         \mbox{\hyperlink{struct_video_component_1_1_pimpl_a66ef9a9d2fcfac60a19436f489d12d14}{currentURL}} = url;}
\DoxyCodeLine{426 }
\DoxyCodeLine{427         \mbox{\hyperlink{group__juce__core-system_ga1f96ab6751237979b907a54f52a7296a}{jassert}} (\mbox{\hyperlink{juce__linux___a_l_s_a_8cpp_a7d161ccbd94169c2108f6a40711e3a76}{callback}} != \textcolor{keyword}{nullptr});}
\DoxyCodeLine{428 }
\DoxyCodeLine{429         loadFinishedCallback = \mbox{\hyperlink{namespacedsp_1_1detail_afe40dd96c3100ef2d29a2c0ab7947423}{std::move}} (\mbox{\hyperlink{juce__linux___a_l_s_a_8cpp_a7d161ccbd94169c2108f6a40711e3a76}{callback}});}
\DoxyCodeLine{430 }
\DoxyCodeLine{431         \textcolor{keyword}{static} \textcolor{keyword}{constexpr} jint visible = 0;}
\DoxyCodeLine{432         \mbox{\hyperlink{namespacejuce_a4f3642abf35d22b0f69c4361d90ce667}{getEnv}}()-\/>CallVoidMethod ((jobject) getView(), AndroidView.setVisibility, visible);}
\DoxyCodeLine{433 }
\DoxyCodeLine{434         mediaSession.load (url);}
\DoxyCodeLine{435     \}}
\DoxyCodeLine{436 }
\DoxyCodeLine{437     \textcolor{keywordtype}{void} \mbox{\hyperlink{struct_video_component_1_1_pimpl_a57ed4d8dd7b190f44719e042ef101cba}{close}}()}
\DoxyCodeLine{438     \{}
\DoxyCodeLine{439         \textcolor{keywordflow}{if} (! \mbox{\hyperlink{struct_video_component_1_1_pimpl_ae4196459a308062879eed776c0282fb3}{isOpen}}())}
\DoxyCodeLine{440             \textcolor{keywordflow}{return};}
\DoxyCodeLine{441 }
\DoxyCodeLine{442         mediaSession.closeVideo();}
\DoxyCodeLine{443 }
\DoxyCodeLine{444         \textcolor{keyword}{static} \textcolor{keyword}{constexpr} jint invisible = 4;}
\DoxyCodeLine{445         \mbox{\hyperlink{namespacejuce_a4f3642abf35d22b0f69c4361d90ce667}{getEnv}}()-\/>CallVoidMethod ((jobject) getView(), AndroidView.setVisibility, invisible);}
\DoxyCodeLine{446     \}}
\DoxyCodeLine{447 }
\DoxyCodeLine{448     \textcolor{keywordtype}{bool} \mbox{\hyperlink{struct_video_component_1_1_pimpl_ae4196459a308062879eed776c0282fb3}{isOpen}}() \mbox{\hyperlink{zconf_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} noexcept          \{ \textcolor{keywordflow}{return} mediaSession.isVideoOpen(); \}}
\DoxyCodeLine{449     \textcolor{keywordtype}{bool} \mbox{\hyperlink{struct_video_component_1_1_pimpl_a5bb75c9361b7eb71d97935bf60481166}{isPlaying}}() \mbox{\hyperlink{zconf_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} noexcept       \{ \textcolor{keywordflow}{return} mediaSession.isPlaying(); \}}
\DoxyCodeLine{450 }
\DoxyCodeLine{451     \textcolor{keywordtype}{void} \mbox{\hyperlink{struct_video_component_1_1_pimpl_a715a47d99ff7ab3ef5f917b687b66c01}{play}}()                           \{ mediaSession.play(); \}}
\DoxyCodeLine{452     \textcolor{keywordtype}{void} \mbox{\hyperlink{struct_video_component_1_1_pimpl_aab986910175fd243e55ea209ef28f4cf}{stop}}()                           \{ mediaSession.stop(); \}}
\DoxyCodeLine{453 }
\DoxyCodeLine{454     \textcolor{keywordtype}{void} \mbox{\hyperlink{struct_video_component_1_1_pimpl_aad13ce8cdf4ddc2c816abc2cffd72a09}{setPosition}} (\textcolor{keywordtype}{double} newPosition) \{ mediaSession.setPosition (newPosition); \}}
\DoxyCodeLine{455     \textcolor{keywordtype}{double} \mbox{\hyperlink{struct_video_component_1_1_pimpl_a1b5c6aaa840823f6cb69a2ad349c4009}{getPosition}}()\textcolor{keyword}{ const            }\{ \textcolor{keywordflow}{return} mediaSession.getPosition(); \}}
\DoxyCodeLine{456 }
\DoxyCodeLine{457     \textcolor{keywordtype}{void} \mbox{\hyperlink{struct_video_component_1_1_pimpl_a26d540a1d9a8d40ae650af25c3b7fa64}{setSpeed}} (\textcolor{keywordtype}{double} newSpeed)       \{ mediaSession.setSpeed (newSpeed); \}}
\DoxyCodeLine{458     \textcolor{keywordtype}{double} \mbox{\hyperlink{struct_video_component_1_1_pimpl_a75b9306bb106c987fe662e52329bb3c9}{getSpeed}}()\textcolor{keyword}{ const               }\{ \textcolor{keywordflow}{return} mediaSession.getSpeed(); \}}
\DoxyCodeLine{459 }
\DoxyCodeLine{460     \mbox{\hyperlink{class_rectangle}{Rectangle<int>}} \mbox{\hyperlink{struct_video_component_1_1_pimpl_a6072baa038c7c5bbb5d4fc1e0db94ded}{getNativeSize}}()\textcolor{keyword}{ const  }\{ \textcolor{keywordflow}{return} mediaSession.getNativeSize(); \}}
\DoxyCodeLine{461 }
\DoxyCodeLine{462     \textcolor{keywordtype}{double} \mbox{\hyperlink{struct_video_component_1_1_pimpl_a53f30af1fe6d9fba92655dc9cbbbf387}{getDuration}}()\textcolor{keyword}{ const            }\{ \textcolor{keywordflow}{return} mediaSession.getDuration(); \}}
\DoxyCodeLine{463 }
\DoxyCodeLine{464     \textcolor{keywordtype}{void} \mbox{\hyperlink{struct_video_component_1_1_pimpl_a821b3c879008a719797b62e498cf2f18}{setVolume}} (\textcolor{keywordtype}{float} newVolume)      \{ mediaSession.setVolume (newVolume); \}}
\DoxyCodeLine{465     \textcolor{keywordtype}{float} \mbox{\hyperlink{struct_video_component_1_1_pimpl_a2c0b3eaa8fc5e364dc5086486ac517d5}{getVolume}}()\textcolor{keyword}{ const               }\{ \textcolor{keywordflow}{return} mediaSession.getVolume(); \}}
\DoxyCodeLine{466 }
\DoxyCodeLine{467     \mbox{\hyperlink{class_file}{File}} \mbox{\hyperlink{struct_video_component_1_1_pimpl_af56d094c7a0a45f8ddd0c1e11d861f0a}{currentFile}};}
\DoxyCodeLine{468     \mbox{\hyperlink{class_u_r_l}{URL}} \mbox{\hyperlink{struct_video_component_1_1_pimpl_a66ef9a9d2fcfac60a19436f489d12d14}{currentURL}};}
\DoxyCodeLine{469 }
\DoxyCodeLine{470 \textcolor{keyword}{private}:}
\DoxyCodeLine{471     \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{472     \textcolor{keyword}{class }MediaSession  : \textcolor{keyword}{private} \mbox{\hyperlink{struct_audio_manager_on_audio_focus_change_listener_1_1_owner}{AudioManagerOnAudioFocusChangeListener::Owner}}}
\DoxyCodeLine{473     \{}
\DoxyCodeLine{474     \textcolor{keyword}{public}:}
\DoxyCodeLine{475         MediaSession (\mbox{\hyperlink{struct_video_component_1_1_pimpl}{Pimpl}}\& ownerToUse)}
\DoxyCodeLine{476             : owner (ownerToUse),}
\DoxyCodeLine{477               sdkVersion (\mbox{\hyperlink{namespacejuce_a5f3f814b10a0af4c725415ceacdfde7c}{getAndroidSDKVersion}}()),}
\DoxyCodeLine{478               audioAttributes (getAudioAttributes()),}
\DoxyCodeLine{479               nativeMediaSession (LocalRef<jobject> (\mbox{\hyperlink{namespacejuce_a4f3642abf35d22b0f69c4361d90ce667}{getEnv}}()-\/>NewObject (AndroidMediaSession,}
\DoxyCodeLine{480                                                                           AndroidMediaSession.constructor,}
\DoxyCodeLine{481                                                                           \mbox{\hyperlink{namespacejuce_ae270c2dd4b358c3482f8950a283a36af}{getAppContext}}().\mbox{\hyperlink{namespacedsp_ab70e205bff92b09aa297e479676b5bc8}{get}}(),}
\DoxyCodeLine{482                                                                           javaString (\textcolor{stringliteral}{"{}JuceVideoMediaSession"{}}).\mbox{\hyperlink{namespacedsp_ab70e205bff92b09aa297e479676b5bc8}{get}}()))),}
\DoxyCodeLine{483               mediaSessionCallback (createCallbackObject()),}
\DoxyCodeLine{484               playbackStateBuilder (LocalRef<jobject> (\mbox{\hyperlink{namespacejuce_a4f3642abf35d22b0f69c4361d90ce667}{getEnv}}()-\/>NewObject (AndroidPlaybackStateBuilder,}
\DoxyCodeLine{485                                                                             AndroidPlaybackStateBuilder.constructor))),}
\DoxyCodeLine{486               controller (*\textcolor{keyword}{this}, LocalRef<jobject> (\mbox{\hyperlink{namespacejuce_a4f3642abf35d22b0f69c4361d90ce667}{getEnv}}()-\/>CallObjectMethod (nativeMediaSession,}
\DoxyCodeLine{487                                                                                 AndroidMediaSession.getController))),}
\DoxyCodeLine{488               player (*\textcolor{keyword}{this}),}
\DoxyCodeLine{489               audioManager (LocalRef<jobject> (\mbox{\hyperlink{namespacejuce_a4f3642abf35d22b0f69c4361d90ce667}{getEnv}}()-\/>CallObjectMethod (\mbox{\hyperlink{namespacejuce_ae270c2dd4b358c3482f8950a283a36af}{getAppContext}}().\mbox{\hyperlink{namespacedsp_ab70e205bff92b09aa297e479676b5bc8}{get}}(), AndroidContext.getSystemService,}
\DoxyCodeLine{490                                                                            javaString (\textcolor{stringliteral}{"{}audio"{}}).\mbox{\hyperlink{namespacedsp_ab70e205bff92b09aa297e479676b5bc8}{get}}()))),}
\DoxyCodeLine{491               audioFocusChangeListener (*\textcolor{keyword}{this}),}
\DoxyCodeLine{492               nativeAudioFocusChangeListener (GlobalRef (\mbox{\hyperlink{namespacejuce_aa5d43f5b68766ba8c811e4e17df96a3e}{CreateJavaInterface}} (\&audioFocusChangeListener,}
\DoxyCodeLine{493                                                                               \textcolor{stringliteral}{"{}android/media/AudioManager\$OnAudioFocusChangeListener"{}}))),}
\DoxyCodeLine{494               audioFocusRequest (createAudioFocusRequestIfNecessary (sdkVersion, audioAttributes,}
\DoxyCodeLine{495                                                                      nativeAudioFocusChangeListener))}
\DoxyCodeLine{496         \{}
\DoxyCodeLine{497             \textcolor{keyword}{auto}* env = \mbox{\hyperlink{namespacejuce_a4f3642abf35d22b0f69c4361d90ce667}{getEnv}}();}
\DoxyCodeLine{498 }
\DoxyCodeLine{499             env-\/>CallVoidMethod (nativeMediaSession, AndroidMediaSession.setPlaybackToLocal, audioAttributes.get());}
\DoxyCodeLine{500             env-\/>CallVoidMethod (nativeMediaSession, AndroidMediaSession.setMediaButtonReceiver, \textcolor{keyword}{nullptr});}
\DoxyCodeLine{501             env-\/>CallVoidMethod (nativeMediaSession, AndroidMediaSession.setCallback, mediaSessionCallback.get());}
\DoxyCodeLine{502         \}}
\DoxyCodeLine{503 }
\DoxyCodeLine{504         \string~MediaSession()\textcolor{keyword}{ override}}
\DoxyCodeLine{505 \textcolor{keyword}{        }\{}
\DoxyCodeLine{506             \textcolor{keyword}{auto}* env = \mbox{\hyperlink{namespacejuce_a4f3642abf35d22b0f69c4361d90ce667}{getEnv}}();}
\DoxyCodeLine{507 }
\DoxyCodeLine{508             env-\/>CallVoidMethod (nativeMediaSession, AndroidMediaSession.setCallback, \textcolor{keyword}{nullptr});}
\DoxyCodeLine{509 }
\DoxyCodeLine{510             controller.stop();}
\DoxyCodeLine{511             env-\/>CallVoidMethod (nativeMediaSession, AndroidMediaSession.release);}
\DoxyCodeLine{512         \}}
\DoxyCodeLine{513 }
\DoxyCodeLine{514         \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_video_component_affcf58e61e1bf8dea6c0d7c0ed4828e9}{isVideoOpen}}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} player.isVideoOpen(); \}}
\DoxyCodeLine{515         \textcolor{keywordtype}{bool} \mbox{\hyperlink{struct_video_component_1_1_pimpl_a5bb75c9361b7eb71d97935bf60481166}{isPlaying}}()\textcolor{keyword}{ const   }\{ \textcolor{keywordflow}{return} player.isPlaying(); \}}
\DoxyCodeLine{516 }
\DoxyCodeLine{517         \textcolor{keywordtype}{void} \mbox{\hyperlink{struct_video_component_1_1_pimpl_a239cbe367565ec31ca4c3b9a71c68595}{load}} (\textcolor{keyword}{const} \mbox{\hyperlink{class_u_r_l}{URL}}\& url) \{ controller.load (url); \}}
\DoxyCodeLine{518 }
\DoxyCodeLine{519         \textcolor{keywordtype}{void} \mbox{\hyperlink{class_video_component_ab9e0174e14d9786958137b94d07a7554}{closeVideo}}()}
\DoxyCodeLine{520         \{}
\DoxyCodeLine{521             resetState();}
\DoxyCodeLine{522             controller.closeVideo();}
\DoxyCodeLine{523         \}}
\DoxyCodeLine{524 }
\DoxyCodeLine{525         \textcolor{keywordtype}{void} setDisplay (\textcolor{keyword}{const} LocalRef<jobject>\& surfaceHolder) \{ player.setDisplay (surfaceHolder); \}}
\DoxyCodeLine{526 }
\DoxyCodeLine{527         \textcolor{keywordtype}{void} \mbox{\hyperlink{struct_video_component_1_1_pimpl_a715a47d99ff7ab3ef5f917b687b66c01}{play}}() \{ controller.play(); \}}
\DoxyCodeLine{528         \textcolor{keywordtype}{void} \mbox{\hyperlink{struct_video_component_1_1_pimpl_aab986910175fd243e55ea209ef28f4cf}{stop}}() \{ controller.stop(); \}}
\DoxyCodeLine{529 }
\DoxyCodeLine{530         \textcolor{keywordtype}{void} \mbox{\hyperlink{struct_video_component_1_1_pimpl_aad13ce8cdf4ddc2c816abc2cffd72a09}{setPosition}} (\textcolor{keywordtype}{double} newPosition) \{ controller.setPosition (newPosition); \}}
\DoxyCodeLine{531         \textcolor{keywordtype}{double} \mbox{\hyperlink{struct_video_component_1_1_pimpl_a1b5c6aaa840823f6cb69a2ad349c4009}{getPosition}}()\textcolor{keyword}{ const            }\{ \textcolor{keywordflow}{return} controller.getPosition(); \}}
\DoxyCodeLine{532 }
\DoxyCodeLine{533         \textcolor{keywordtype}{void} \mbox{\hyperlink{struct_video_component_1_1_pimpl_a26d540a1d9a8d40ae650af25c3b7fa64}{setSpeed}} (\textcolor{keywordtype}{double} newSpeed)}
\DoxyCodeLine{534         \{}
\DoxyCodeLine{535             playSpeedMult = newSpeed;}
\DoxyCodeLine{536 }
\DoxyCodeLine{537             \textcolor{comment}{// Calling non 0.0 speed on a paused player would start it...}}
\DoxyCodeLine{538             \textcolor{keywordflow}{if} (player.isPlaying())}
\DoxyCodeLine{539             \{}
\DoxyCodeLine{540                 player.setPlaySpeed (playSpeedMult);}
\DoxyCodeLine{541                 updatePlaybackState();}
\DoxyCodeLine{542             \}}
\DoxyCodeLine{543         \}}
\DoxyCodeLine{544 }
\DoxyCodeLine{545         \textcolor{keywordtype}{double} \mbox{\hyperlink{struct_video_component_1_1_pimpl_a75b9306bb106c987fe662e52329bb3c9}{getSpeed}}()\textcolor{keyword}{ const              }\{ \textcolor{keywordflow}{return} controller.getPlaySpeed(); \}}
\DoxyCodeLine{546         \mbox{\hyperlink{class_rectangle}{Rectangle<int>}} \mbox{\hyperlink{struct_video_component_1_1_pimpl_a6072baa038c7c5bbb5d4fc1e0db94ded}{getNativeSize}}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} player.getVideoNativeSize(); \}}
\DoxyCodeLine{547         \textcolor{keywordtype}{double} \mbox{\hyperlink{struct_video_component_1_1_pimpl_a53f30af1fe6d9fba92655dc9cbbbf387}{getDuration}}()\textcolor{keyword}{ const           }\{ \textcolor{keywordflow}{return} (\textcolor{keywordtype}{double}) player.getVideoDuration() / 1000.0; \}}
\DoxyCodeLine{548 }
\DoxyCodeLine{549         \textcolor{keywordtype}{void} \mbox{\hyperlink{struct_video_component_1_1_pimpl_a821b3c879008a719797b62e498cf2f18}{setVolume}} (\textcolor{keywordtype}{float} newVolume)}
\DoxyCodeLine{550         \{}
\DoxyCodeLine{551 \textcolor{preprocessor}{           \#if JUCE\_SYNC\_VIDEO\_VOLUME\_WITH\_OS\_MEDIA\_VOLUME}}
\DoxyCodeLine{552             controller.setVolume (newVolume);}
\DoxyCodeLine{553 \textcolor{preprocessor}{           \#else}}
\DoxyCodeLine{554             player.setAudioVolume (newVolume);}
\DoxyCodeLine{555 \textcolor{preprocessor}{           \#endif}}
\DoxyCodeLine{556         \}}
\DoxyCodeLine{557 }
\DoxyCodeLine{558         \textcolor{keywordtype}{float} \mbox{\hyperlink{struct_video_component_1_1_pimpl_a2c0b3eaa8fc5e364dc5086486ac517d5}{getVolume}}()\textcolor{keyword}{ const}}
\DoxyCodeLine{559 \textcolor{keyword}{        }\{}
\DoxyCodeLine{560 \textcolor{preprocessor}{           \#if JUCE\_SYNC\_VIDEO\_VOLUME\_WITH\_OS\_MEDIA\_VOLUME}}
\DoxyCodeLine{561             \textcolor{keywordflow}{return} controller.getVolume();}
\DoxyCodeLine{562 \textcolor{preprocessor}{           \#else}}
\DoxyCodeLine{563             \textcolor{keywordflow}{return} player.getAudioVolume();}
\DoxyCodeLine{564 \textcolor{preprocessor}{           \#endif}}
\DoxyCodeLine{565         \}}
\DoxyCodeLine{566 }
\DoxyCodeLine{567         \textcolor{keywordtype}{void} storeState()}
\DoxyCodeLine{568         \{}
\DoxyCodeLine{569             storedPlaybackState.clear();}
\DoxyCodeLine{570             storedPlaybackState = GlobalRef (getCurrentPlaybackState());}
\DoxyCodeLine{571         \}}
\DoxyCodeLine{572 }
\DoxyCodeLine{573         \textcolor{keywordtype}{void} restoreState()}
\DoxyCodeLine{574         \{}
\DoxyCodeLine{575             \textcolor{keywordflow}{if} (storedPlaybackState.get() == \textcolor{keyword}{nullptr})}
\DoxyCodeLine{576                 \textcolor{keywordflow}{return};}
\DoxyCodeLine{577 }
\DoxyCodeLine{578             \textcolor{keyword}{auto}* env = \mbox{\hyperlink{namespacejuce_a4f3642abf35d22b0f69c4361d90ce667}{getEnv}}();}
\DoxyCodeLine{579 }
\DoxyCodeLine{580             \textcolor{keyword}{auto} pos = env-\/>CallLongMethod (storedPlaybackState, AndroidPlaybackState.getPosition);}
\DoxyCodeLine{581             \mbox{\hyperlink{struct_video_component_1_1_pimpl_aad13ce8cdf4ddc2c816abc2cffd72a09}{setPosition}} ((\textcolor{keywordtype}{double}) pos / 1000.0);}
\DoxyCodeLine{582 }
\DoxyCodeLine{583             \mbox{\hyperlink{struct_video_component_1_1_pimpl_a26d540a1d9a8d40ae650af25c3b7fa64}{setSpeed}} (playSpeedMult);}
\DoxyCodeLine{584 }
\DoxyCodeLine{585             \textcolor{keyword}{auto} state = env-\/>CallIntMethod (storedPlaybackState, AndroidPlaybackState.getState);}
\DoxyCodeLine{586 }
\DoxyCodeLine{587             \textcolor{keywordflow}{if} (state != PlaybackState::STATE\_NONE \&\& state != PlaybackState::STATE\_STOPPED}
\DoxyCodeLine{588                 \&\& state != PlaybackState::STATE\_PAUSED \&\& state != PlaybackState::STATE\_ERROR)}
\DoxyCodeLine{589             \{}
\DoxyCodeLine{590                 \mbox{\hyperlink{struct_video_component_1_1_pimpl_a715a47d99ff7ab3ef5f917b687b66c01}{play}}();}
\DoxyCodeLine{591             \}}
\DoxyCodeLine{592         \}}
\DoxyCodeLine{593 }
\DoxyCodeLine{594     \textcolor{keyword}{private}:}
\DoxyCodeLine{595         \textcolor{keyword}{struct }PlaybackState}
\DoxyCodeLine{596         \{}
\DoxyCodeLine{597             \textcolor{keyword}{enum}}
\DoxyCodeLine{598             \{}
\DoxyCodeLine{599                 STATE\_NONE = 0,}
\DoxyCodeLine{600                 STATE\_STOPPED = 1,}
\DoxyCodeLine{601                 STATE\_PAUSED = 2,}
\DoxyCodeLine{602                 STATE\_PLAYING = 3,}
\DoxyCodeLine{603                 STATE\_FAST\_FORWARDING = 4,}
\DoxyCodeLine{604                 STATE\_REWINDING = 5,}
\DoxyCodeLine{605                 STATE\_BUFFERING = 6,}
\DoxyCodeLine{606                 STATE\_ERROR = 7,}
\DoxyCodeLine{607                 STATE\_CONNECTING = 8,}
\DoxyCodeLine{608                 STATE\_SKIPPING\_TO\_PREVIOUS = 9,}
\DoxyCodeLine{609                 STATE\_SKIPPING\_TO\_NEXT = 10,}
\DoxyCodeLine{610                 STATE\_SKIPPING\_TO\_QUEUE\_ITEM = 11,}
\DoxyCodeLine{611             \};}
\DoxyCodeLine{612 }
\DoxyCodeLine{613             \textcolor{keyword}{enum}}
\DoxyCodeLine{614             \{}
\DoxyCodeLine{615                 ACTION\_PAUSE              = 0x2,}
\DoxyCodeLine{616                 ACTION\_PLAY               = 0x4,}
\DoxyCodeLine{617                 ACTION\_PLAY\_FROM\_MEDIA\_ID = 0x8000,}
\DoxyCodeLine{618                 ACTION\_PLAY\_PAUSE         = 0x200,}
\DoxyCodeLine{619                 ACTION\_SEEK\_TO            = 0x100,}
\DoxyCodeLine{620                 ACTION\_STOP               = 0x1,}
\DoxyCodeLine{621             \};}
\DoxyCodeLine{622         \};}
\DoxyCodeLine{623 }
\DoxyCodeLine{624         \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{625         \textcolor{keyword}{class }Controller}
\DoxyCodeLine{626         \{}
\DoxyCodeLine{627         \textcolor{keyword}{public}:}
\DoxyCodeLine{628             Controller (MediaSession\& ownerToUse, \textcolor{keyword}{const} LocalRef<jobject>\& nativeControllerToUse)}
\DoxyCodeLine{629                 : owner (ownerToUse),}
\DoxyCodeLine{630                   nativeController (GlobalRef (nativeControllerToUse)),}
\DoxyCodeLine{631                   controllerTransportControls (LocalRef<jobject> (\mbox{\hyperlink{namespacejuce_a4f3642abf35d22b0f69c4361d90ce667}{getEnv}}()-\/>CallObjectMethod (nativeControllerToUse,}
\DoxyCodeLine{632                                                                                               AndroidMediaController.getTransportControls))),}
\DoxyCodeLine{633                   controllerCallback (createControllerCallbacks())}
\DoxyCodeLine{634             \{}
\DoxyCodeLine{635                 \textcolor{keyword}{auto}* env = \mbox{\hyperlink{namespacejuce_a4f3642abf35d22b0f69c4361d90ce667}{getEnv}}();}
\DoxyCodeLine{636 }
\DoxyCodeLine{637                 env-\/>CallVoidMethod (nativeController, AndroidMediaController.registerCallback, controllerCallback.get());}
\DoxyCodeLine{638             \}}
\DoxyCodeLine{639 }
\DoxyCodeLine{640             \string~Controller()}
\DoxyCodeLine{641             \{}
\DoxyCodeLine{642                 \textcolor{keyword}{auto}* env = \mbox{\hyperlink{namespacejuce_a4f3642abf35d22b0f69c4361d90ce667}{getEnv}}();}
\DoxyCodeLine{643                 env-\/>CallVoidMethod (nativeController, AndroidMediaController.unregisterCallback, controllerCallback.get());}
\DoxyCodeLine{644             \}}
\DoxyCodeLine{645 }
\DoxyCodeLine{646             \textcolor{keywordtype}{void} \mbox{\hyperlink{struct_video_component_1_1_pimpl_a239cbe367565ec31ca4c3b9a71c68595}{load}} (\textcolor{keyword}{const} \mbox{\hyperlink{class_u_r_l}{URL}}\& url)}
\DoxyCodeLine{647             \{}
\DoxyCodeLine{648                 \textcolor{comment}{// NB: would use playFromUri, but it was only introduced in API 23...}}
\DoxyCodeLine{649                 \mbox{\hyperlink{namespacejuce_a4f3642abf35d22b0f69c4361d90ce667}{getEnv}}()-\/>CallVoidMethod (controllerTransportControls, AndroidMediaControllerTransportControls.playFromMediaId,}
\DoxyCodeLine{650                                           javaString (url.\mbox{\hyperlink{class_u_r_l_a4f8b7e5a18bc152daaad5192c8d0b003}{toString}} (\textcolor{keyword}{true})).get(), \textcolor{keyword}{nullptr});}
\DoxyCodeLine{651             \}}
\DoxyCodeLine{652 }
\DoxyCodeLine{653             \textcolor{keywordtype}{void} \mbox{\hyperlink{class_video_component_ab9e0174e14d9786958137b94d07a7554}{closeVideo}}()}
\DoxyCodeLine{654             \{}
\DoxyCodeLine{655                 \mbox{\hyperlink{namespacejuce_a4f3642abf35d22b0f69c4361d90ce667}{getEnv}}()-\/>CallVoidMethod (controllerTransportControls, AndroidMediaControllerTransportControls.stop);}
\DoxyCodeLine{656             \}}
\DoxyCodeLine{657 }
\DoxyCodeLine{658             \textcolor{keywordtype}{void} \mbox{\hyperlink{struct_video_component_1_1_pimpl_a715a47d99ff7ab3ef5f917b687b66c01}{play}}()}
\DoxyCodeLine{659             \{}
\DoxyCodeLine{660                 \mbox{\hyperlink{namespacejuce_a4f3642abf35d22b0f69c4361d90ce667}{getEnv}}()-\/>CallVoidMethod (controllerTransportControls, AndroidMediaControllerTransportControls.play);}
\DoxyCodeLine{661             \}}
\DoxyCodeLine{662 }
\DoxyCodeLine{663             \textcolor{keywordtype}{void} \mbox{\hyperlink{struct_video_component_1_1_pimpl_aab986910175fd243e55ea209ef28f4cf}{stop}}()}
\DoxyCodeLine{664             \{}
\DoxyCodeLine{665                 \textcolor{comment}{// NB: calling pause, rather than stop, because after calling stop, we would have to call load() again.}}
\DoxyCodeLine{666                 \mbox{\hyperlink{namespacejuce_a4f3642abf35d22b0f69c4361d90ce667}{getEnv}}()-\/>CallVoidMethod (controllerTransportControls, AndroidMediaControllerTransportControls.pause);}
\DoxyCodeLine{667             \}}
\DoxyCodeLine{668 }
\DoxyCodeLine{669             \textcolor{keywordtype}{void} \mbox{\hyperlink{struct_video_component_1_1_pimpl_aad13ce8cdf4ddc2c816abc2cffd72a09}{setPosition}} (\textcolor{keywordtype}{double} newPosition)}
\DoxyCodeLine{670             \{}
\DoxyCodeLine{671                 \textcolor{keyword}{auto} seekPos = \textcolor{keyword}{static\_cast<}jlong\textcolor{keyword}{>} (newPosition * 1000);}
\DoxyCodeLine{672 }
\DoxyCodeLine{673                 \mbox{\hyperlink{namespacejuce_a4f3642abf35d22b0f69c4361d90ce667}{getEnv}}()-\/>CallVoidMethod (controllerTransportControls, AndroidMediaControllerTransportControls.seekTo, seekPos);}
\DoxyCodeLine{674             \}}
\DoxyCodeLine{675 }
\DoxyCodeLine{676             \textcolor{keywordtype}{double} \mbox{\hyperlink{struct_video_component_1_1_pimpl_a1b5c6aaa840823f6cb69a2ad349c4009}{getPosition}}()\textcolor{keyword}{ const}}
\DoxyCodeLine{677 \textcolor{keyword}{            }\{}
\DoxyCodeLine{678                 \textcolor{keyword}{auto}* env = \mbox{\hyperlink{namespacejuce_a4f3642abf35d22b0f69c4361d90ce667}{getEnv}}();}
\DoxyCodeLine{679 }
\DoxyCodeLine{680                 \textcolor{keyword}{auto} playbackState = LocalRef<jobject> (env-\/>CallObjectMethod (nativeController, AndroidMediaController.getPlaybackState));}
\DoxyCodeLine{681 }
\DoxyCodeLine{682                 \textcolor{keywordflow}{if} (playbackState != \textcolor{keyword}{nullptr})}
\DoxyCodeLine{683                     \textcolor{keywordflow}{return} (\textcolor{keywordtype}{double}) env-\/>CallLongMethod (playbackState, AndroidPlaybackState.getPosition) / 1000.0;}
\DoxyCodeLine{684 }
\DoxyCodeLine{685                 \textcolor{keywordflow}{return} 0.0;}
\DoxyCodeLine{686             \}}
\DoxyCodeLine{687 }
\DoxyCodeLine{688             \textcolor{keywordtype}{double} \mbox{\hyperlink{class_video_component_a755aedfded2f35026c93c211a7825a63}{getPlaySpeed}}()\textcolor{keyword}{ const}}
\DoxyCodeLine{689 \textcolor{keyword}{            }\{}
\DoxyCodeLine{690                 \textcolor{keyword}{auto}* env = \mbox{\hyperlink{namespacejuce_a4f3642abf35d22b0f69c4361d90ce667}{getEnv}}();}
\DoxyCodeLine{691 }
\DoxyCodeLine{692                 \textcolor{keyword}{auto} playbackState = LocalRef<jobject> (env-\/>CallObjectMethod (nativeController, AndroidMediaController.getPlaybackState));}
\DoxyCodeLine{693 }
\DoxyCodeLine{694                 \textcolor{keywordflow}{if} (playbackState != \textcolor{keyword}{nullptr})}
\DoxyCodeLine{695                     \textcolor{keywordflow}{return} (\textcolor{keywordtype}{double}) env-\/>CallFloatMethod (playbackState, AndroidPlaybackState.getPlaybackSpeed);}
\DoxyCodeLine{696 }
\DoxyCodeLine{697                 \textcolor{keywordflow}{return} 1.0;}
\DoxyCodeLine{698             \}}
\DoxyCodeLine{699 }
\DoxyCodeLine{700             \textcolor{keywordtype}{void} \mbox{\hyperlink{struct_video_component_1_1_pimpl_a821b3c879008a719797b62e498cf2f18}{setVolume}} (\textcolor{keywordtype}{float} newVolume)}
\DoxyCodeLine{701             \{}
\DoxyCodeLine{702                 \textcolor{keyword}{auto}* env = \mbox{\hyperlink{namespacejuce_a4f3642abf35d22b0f69c4361d90ce667}{getEnv}}();}
\DoxyCodeLine{703 }
\DoxyCodeLine{704                 \textcolor{keyword}{auto} playbackInfo = LocalRef<jobject> (env-\/>CallObjectMethod (nativeController, AndroidMediaController.getPlaybackInfo));}
\DoxyCodeLine{705 }
\DoxyCodeLine{706                 \textcolor{keyword}{auto} maxVolume = env-\/>CallIntMethod (playbackInfo, AndroidMediaControllerPlaybackInfo.getMaxVolume);}
\DoxyCodeLine{707 }
\DoxyCodeLine{708                 \textcolor{keyword}{auto} targetVolume = \mbox{\hyperlink{group__juce__core-maths_gae8394cdf11279b266f4aa741758c1669}{jmin}} (jint ((\textcolor{keywordtype}{float}) maxVolume * newVolume), maxVolume);}
\DoxyCodeLine{709 }
\DoxyCodeLine{710                 \textcolor{keyword}{static} \textcolor{keyword}{constexpr} jint flagShowUI = 1;}
\DoxyCodeLine{711                 env-\/>CallVoidMethod (nativeController, AndroidMediaController.setVolumeTo, targetVolume, flagShowUI);}
\DoxyCodeLine{712             \}}
\DoxyCodeLine{713 }
\DoxyCodeLine{714             \textcolor{keywordtype}{float} \mbox{\hyperlink{struct_video_component_1_1_pimpl_a2c0b3eaa8fc5e364dc5086486ac517d5}{getVolume}}()\textcolor{keyword}{ const}}
\DoxyCodeLine{715 \textcolor{keyword}{            }\{}
\DoxyCodeLine{716                 \textcolor{keyword}{auto}* env = \mbox{\hyperlink{namespacejuce_a4f3642abf35d22b0f69c4361d90ce667}{getEnv}}();}
\DoxyCodeLine{717 }
\DoxyCodeLine{718                 \textcolor{keyword}{auto} playbackInfo = LocalRef<jobject> (env-\/>CallObjectMethod (nativeController, AndroidMediaController.getPlaybackInfo));}
\DoxyCodeLine{719 }
\DoxyCodeLine{720                 \textcolor{keyword}{auto} maxVolume = (\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}}) (env-\/>CallIntMethod (playbackInfo, AndroidMediaControllerPlaybackInfo.getMaxVolume));}
\DoxyCodeLine{721                 \textcolor{keyword}{auto} curVolume = (\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}}) (env-\/>CallIntMethod (playbackInfo, AndroidMediaControllerPlaybackInfo.getCurrentVolume));}
\DoxyCodeLine{722 }
\DoxyCodeLine{723                 \textcolor{keywordflow}{return} \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{float}\textcolor{keyword}{>} (curVolume) / (\textcolor{keywordtype}{float}) maxVolume;}
\DoxyCodeLine{724             \}}
\DoxyCodeLine{725 }
\DoxyCodeLine{726         \textcolor{keyword}{private}:}
\DoxyCodeLine{727             MediaSession\& owner;}
\DoxyCodeLine{728 }
\DoxyCodeLine{729             GlobalRef nativeController;}
\DoxyCodeLine{730             GlobalRef controllerTransportControls;}
\DoxyCodeLine{731             GlobalRef controllerCallback;}
\DoxyCodeLine{732             \textcolor{keywordtype}{bool} wasPlaying = \textcolor{keyword}{false};}
\DoxyCodeLine{733             \textcolor{keywordtype}{bool} wasPaused = \textcolor{keyword}{true};}
\DoxyCodeLine{734 }
\DoxyCodeLine{735             \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{736             \textcolor{keywordtype}{void} stateChanged (jobject playbackState)}
\DoxyCodeLine{737             \{}
\DoxyCodeLine{738                 JUCE\_VIDEO\_LOG (\textcolor{stringliteral}{"{}MediaSessionController::playbackStateChanged()"{}});}
\DoxyCodeLine{739 }
\DoxyCodeLine{740                 \textcolor{keywordflow}{if} (playbackState == \textcolor{keyword}{nullptr})}
\DoxyCodeLine{741                     \textcolor{keywordflow}{return};}
\DoxyCodeLine{742 }
\DoxyCodeLine{743                 \textcolor{keyword}{auto} state = \mbox{\hyperlink{namespacejuce_a4f3642abf35d22b0f69c4361d90ce667}{getEnv}}()-\/>CallIntMethod (playbackState, AndroidPlaybackState.getState);}
\DoxyCodeLine{744 }
\DoxyCodeLine{745                 \textcolor{keyword}{static} \textcolor{keyword}{constexpr} jint statePaused  = 2;}
\DoxyCodeLine{746                 \textcolor{keyword}{static} \textcolor{keyword}{constexpr} jint statePlaying = 3;}
\DoxyCodeLine{747 }
\DoxyCodeLine{748                 \textcolor{keywordflow}{if} (wasPlaying == \textcolor{keyword}{false} \&\& state == statePlaying)}
\DoxyCodeLine{749                     owner.playbackStarted();}
\DoxyCodeLine{750                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (wasPaused == \textcolor{keyword}{false} \&\& state == statePaused)}
\DoxyCodeLine{751                     owner.playbackStopped();}
\DoxyCodeLine{752 }
\DoxyCodeLine{753                 wasPlaying = state == statePlaying;}
\DoxyCodeLine{754                 wasPaused  = state == statePaused;}
\DoxyCodeLine{755             \}}
\DoxyCodeLine{756 }
\DoxyCodeLine{757             \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{758 \textcolor{preprocessor}{            \#define JNI\_CLASS\_MEMBERS(METHOD, STATICMETHOD, FIELD, STATICFIELD, CALLBACK) \(\backslash\)}}
\DoxyCodeLine{759 \textcolor{preprocessor}{                METHOD (constructor, "{}<init>"{}}, "{}(J)V"{})                  \(\backslash\)}
\DoxyCodeLine{760                 CALLBACK (audioInfoChanged,     "{}mediaControllerAudioInfoChanged"{},      "{}(JLandroid/media/session/MediaController\$PlaybackInfo;)V"{}) \(\backslash\)}
\DoxyCodeLine{761                 CALLBACK (metadataChanged,      "{}mediaControllerMetadataChanged"{},       "{}(JLandroid/media/MediaMetadata;)V"{}) \(\backslash\)}
\DoxyCodeLine{762                 CALLBACK (playbackStateChanged, "{}mediaControllerPlaybackStateChanged"{},  "{}(JLandroid/media/session/PlaybackState;)V"{}) \(\backslash\)}
\DoxyCodeLine{763                 CALLBACK (sessionDestroyed,     "{}mediaControllerSessionDestroyed"{},      "{}(J)V"{})}
\DoxyCodeLine{764 }
\DoxyCodeLine{765             \mbox{\hyperlink{juce__android___j_n_i_helpers_8h_aa0b57cbc1250c62976546282ab97d5a7}{DECLARE\_JNI\_CLASS\_WITH\_BYTECODE}} (AndroidMediaControllerCallback, \textcolor{stringliteral}{"{}com/rmsl/juce/MediaControllerCallback"{}}, 21, MediaSessionByteCode, \textcolor{keyword}{sizeof} (MediaSessionByteCode))}
\DoxyCodeLine{766            \textcolor{preprocessor}{\#undef JNI\_CLASS\_MEMBERS}}
\DoxyCodeLine{767 }
\DoxyCodeLine{768             LocalRef<jobject> createControllerCallbacks()}
\DoxyCodeLine{769             \{}
\DoxyCodeLine{770                 \textcolor{keywordflow}{return} LocalRef<jobject> (\mbox{\hyperlink{namespacejuce_a4f3642abf35d22b0f69c4361d90ce667}{getEnv}}()-\/>NewObject (AndroidMediaControllerCallback,}
\DoxyCodeLine{771                                                                AndroidMediaControllerCallback.constructor,}
\DoxyCodeLine{772                                                                \textcolor{keyword}{reinterpret\_cast<}jlong\textcolor{keyword}{>} (\textcolor{keyword}{this})));}
\DoxyCodeLine{773             \}}
\DoxyCodeLine{774 }
\DoxyCodeLine{775             \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{776             \textcolor{comment}{// MediaSessionController callbacks}}
\DoxyCodeLine{777             \textcolor{keyword}{static} \textcolor{keywordtype}{void} audioInfoChanged (JNIEnv*, jobject, jlong host, jobject playbackInfo)}
\DoxyCodeLine{778             \{}
\DoxyCodeLine{779                 \textcolor{keywordflow}{if} (\textcolor{keyword}{auto}* myself = \textcolor{keyword}{reinterpret\_cast<}VideoComponent::Pimpl::MediaSession::Controller*\textcolor{keyword}{>} (host))}
\DoxyCodeLine{780                 \{}
\DoxyCodeLine{781                     \mbox{\hyperlink{group__juce__core-maths_ga5158e6e8faa5553204f90af596fafaf5}{ignoreUnused}} (playbackInfo);}
\DoxyCodeLine{782                     JUCE\_VIDEO\_LOG (\textcolor{stringliteral}{"{}MediaSessionController::audioInfoChanged()"{}});}
\DoxyCodeLine{783                 \}}
\DoxyCodeLine{784             \}}
\DoxyCodeLine{785 }
\DoxyCodeLine{786             \textcolor{keyword}{static} \textcolor{keywordtype}{void} metadataChanged (JNIEnv*, jobject, jlong host, jobject metadata)}
\DoxyCodeLine{787             \{}
\DoxyCodeLine{788                 \textcolor{keywordflow}{if} (\textcolor{keyword}{auto}* myself = \textcolor{keyword}{reinterpret\_cast<}VideoComponent::Pimpl::MediaSession::Controller*\textcolor{keyword}{>} (host))}
\DoxyCodeLine{789                 \{}
\DoxyCodeLine{790                     \mbox{\hyperlink{group__juce__core-maths_ga5158e6e8faa5553204f90af596fafaf5}{ignoreUnused}} (metadata);}
\DoxyCodeLine{791                     JUCE\_VIDEO\_LOG (\textcolor{stringliteral}{"{}MediaSessionController::metadataChanged()"{}});}
\DoxyCodeLine{792                 \}}
\DoxyCodeLine{793             \}}
\DoxyCodeLine{794 }
\DoxyCodeLine{795             \textcolor{keyword}{static} \textcolor{keywordtype}{void} playbackStateChanged (JNIEnv*, jobject, jlong host, jobject state)}
\DoxyCodeLine{796             \{}
\DoxyCodeLine{797                 \textcolor{keywordflow}{if} (\textcolor{keyword}{auto}* myself = \textcolor{keyword}{reinterpret\_cast<}VideoComponent::Pimpl::MediaSession::Controller*\textcolor{keyword}{>} (host))}
\DoxyCodeLine{798                     myself-\/>stateChanged (state);}
\DoxyCodeLine{799             \}}
\DoxyCodeLine{800 }
\DoxyCodeLine{801             \textcolor{keyword}{static} \textcolor{keywordtype}{void} sessionDestroyed (JNIEnv*, jobject, jlong host)}
\DoxyCodeLine{802             \{}
\DoxyCodeLine{803                 \textcolor{keywordflow}{if} (\textcolor{keyword}{auto}* myself = \textcolor{keyword}{reinterpret\_cast<}VideoComponent::Pimpl::MediaSession::Controller*\textcolor{keyword}{>} (host))}
\DoxyCodeLine{804                     JUCE\_VIDEO\_LOG (\textcolor{stringliteral}{"{}MediaSessionController::sessionDestroyed()"{}});}
\DoxyCodeLine{805             \}}
\DoxyCodeLine{806         \};}
\DoxyCodeLine{807 }
\DoxyCodeLine{808         \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{809         \textcolor{keyword}{class }Player   : \textcolor{keyword}{private} \mbox{\hyperlink{struct_media_player_listener_1_1_owner}{MediaPlayerListener::Owner}}}
\DoxyCodeLine{810         \{}
\DoxyCodeLine{811         \textcolor{keyword}{public}:}
\DoxyCodeLine{812             Player (MediaSession\& ownerToUse)}
\DoxyCodeLine{813                 : owner (ownerToUse),}
\DoxyCodeLine{814                   mediaPlayerListener (*\textcolor{keyword}{this}),}
\DoxyCodeLine{815                   nativeMediaPlayerListener (GlobalRef (\mbox{\hyperlink{namespacejuce_aa5d43f5b68766ba8c811e4e17df96a3e}{CreateJavaInterface}} (\&mediaPlayerListener,}
\DoxyCodeLine{816                                                                              getNativeMediaPlayerListenerInterfaces())))}
\DoxyCodeLine{817 }
\DoxyCodeLine{818             \{\}}
\DoxyCodeLine{819 }
\DoxyCodeLine{820             \textcolor{keywordtype}{void} setDisplay (\textcolor{keyword}{const} LocalRef<jobject>\& surfaceHolder)}
\DoxyCodeLine{821             \{}
\DoxyCodeLine{822                 \textcolor{keywordflow}{if} (surfaceHolder == \textcolor{keyword}{nullptr})}
\DoxyCodeLine{823                 \{}
\DoxyCodeLine{824                     videoSurfaceHolder.clear();}
\DoxyCodeLine{825 }
\DoxyCodeLine{826                     \textcolor{keywordflow}{if} (nativeMediaPlayer.get() != \textcolor{keyword}{nullptr})}
\DoxyCodeLine{827                         \mbox{\hyperlink{namespacejuce_a4f3642abf35d22b0f69c4361d90ce667}{getEnv}}()-\/>CallVoidMethod (nativeMediaPlayer, AndroidMediaPlayer.setDisplay, \textcolor{keyword}{nullptr});}
\DoxyCodeLine{828 }
\DoxyCodeLine{829                     \textcolor{keywordflow}{return};}
\DoxyCodeLine{830                 \}}
\DoxyCodeLine{831 }
\DoxyCodeLine{832                 videoSurfaceHolder = GlobalRef (surfaceHolder);}
\DoxyCodeLine{833 }
\DoxyCodeLine{834                 \textcolor{keywordflow}{if} (nativeMediaPlayer.get() != \textcolor{keyword}{nullptr})}
\DoxyCodeLine{835                     \mbox{\hyperlink{namespacejuce_a4f3642abf35d22b0f69c4361d90ce667}{getEnv}}()-\/>CallVoidMethod (nativeMediaPlayer, AndroidMediaPlayer.setDisplay, videoSurfaceHolder.get());}
\DoxyCodeLine{836             \}}
\DoxyCodeLine{837 }
\DoxyCodeLine{838             \textcolor{keywordtype}{void} \mbox{\hyperlink{struct_video_component_1_1_pimpl_a239cbe367565ec31ca4c3b9a71c68595}{load}} (\textcolor{keyword}{const} LocalRef<jstring>\& mediaId, \textcolor{keyword}{const} LocalRef<jobject>\& extras)}
\DoxyCodeLine{839             \{}
\DoxyCodeLine{840                 \mbox{\hyperlink{group__juce__core-maths_ga5158e6e8faa5553204f90af596fafaf5}{ignoreUnused}} (extras);}
\DoxyCodeLine{841 }
\DoxyCodeLine{842                 \mbox{\hyperlink{class_video_component_ab9e0174e14d9786958137b94d07a7554}{closeVideo}}();}
\DoxyCodeLine{843 }
\DoxyCodeLine{844                 \textcolor{keyword}{auto}* env = \mbox{\hyperlink{namespacejuce_a4f3642abf35d22b0f69c4361d90ce667}{getEnv}}();}
\DoxyCodeLine{845 }
\DoxyCodeLine{846                 nativeMediaPlayer = GlobalRef (LocalRef<jobject> (env-\/>NewObject (AndroidMediaPlayer, AndroidMediaPlayer.constructor)));}
\DoxyCodeLine{847 }
\DoxyCodeLine{848                 currentState = State::idle;}
\DoxyCodeLine{849 }
\DoxyCodeLine{850                 \textcolor{keyword}{auto} uri = LocalRef<jobject> (env-\/>CallStaticObjectMethod (AndroidUri, AndroidUri.parse, mediaId.get()));}
\DoxyCodeLine{851                 env-\/>CallVoidMethod (nativeMediaPlayer, AndroidMediaPlayer.setDataSource, \mbox{\hyperlink{namespacejuce_ae270c2dd4b358c3482f8950a283a36af}{getAppContext}}().\mbox{\hyperlink{namespacedsp_ab70e205bff92b09aa297e479676b5bc8}{get}}(), uri.get());}
\DoxyCodeLine{852 }
\DoxyCodeLine{853                 \textcolor{keywordflow}{if} (jniCheckHasExceptionOccurredAndClear())}
\DoxyCodeLine{854                 \{}
\DoxyCodeLine{855                     owner.errorOccurred (\textcolor{stringliteral}{"{}Could not find video under path provided ("{}} + juceString (mediaId) + \textcolor{stringliteral}{"{})"{}});}
\DoxyCodeLine{856                     \textcolor{keywordflow}{return};}
\DoxyCodeLine{857                 \}}
\DoxyCodeLine{858 }
\DoxyCodeLine{859                 currentState = State::initialised;}
\DoxyCodeLine{860 }
\DoxyCodeLine{861                 env-\/>CallVoidMethod (nativeMediaPlayer, AndroidMediaPlayer.setOnBufferingUpdateListener,   nativeMediaPlayerListener.get());}
\DoxyCodeLine{862                 env-\/>CallVoidMethod (nativeMediaPlayer, AndroidMediaPlayer.setOnCompletionListener, nativeMediaPlayerListener.get());}
\DoxyCodeLine{863                 env-\/>CallVoidMethod (nativeMediaPlayer, AndroidMediaPlayer.setOnErrorListener,      nativeMediaPlayerListener.get());}
\DoxyCodeLine{864                 env-\/>CallVoidMethod (nativeMediaPlayer, AndroidMediaPlayer.setOnInfoListener,       nativeMediaPlayerListener.get());}
\DoxyCodeLine{865                 env-\/>CallVoidMethod (nativeMediaPlayer, AndroidMediaPlayer.setOnPreparedListener,   nativeMediaPlayerListener.get());}
\DoxyCodeLine{866                 env-\/>CallVoidMethod (nativeMediaPlayer, AndroidMediaPlayer.setOnSeekCompleteListener,   nativeMediaPlayerListener.get());}
\DoxyCodeLine{867 }
\DoxyCodeLine{868                 \textcolor{keywordflow}{if} (videoSurfaceHolder != \textcolor{keyword}{nullptr})}
\DoxyCodeLine{869                     env-\/>CallVoidMethod (nativeMediaPlayer, AndroidMediaPlayer.setDisplay, videoSurfaceHolder.get());}
\DoxyCodeLine{870 }
\DoxyCodeLine{871                 env-\/>CallVoidMethod (nativeMediaPlayer, AndroidMediaPlayer.prepareAsync);}
\DoxyCodeLine{872 }
\DoxyCodeLine{873                 currentState = State::preparing;}
\DoxyCodeLine{874             \}}
\DoxyCodeLine{875 }
\DoxyCodeLine{876             \textcolor{keywordtype}{void} \mbox{\hyperlink{class_video_component_ab9e0174e14d9786958137b94d07a7554}{closeVideo}}()}
\DoxyCodeLine{877             \{}
\DoxyCodeLine{878                 \textcolor{keywordflow}{if} (nativeMediaPlayer.get() == \textcolor{keyword}{nullptr})}
\DoxyCodeLine{879                     \textcolor{keywordflow}{return};}
\DoxyCodeLine{880 }
\DoxyCodeLine{881                 \textcolor{keyword}{auto}* env = \mbox{\hyperlink{namespacejuce_a4f3642abf35d22b0f69c4361d90ce667}{getEnv}}();}
\DoxyCodeLine{882 }
\DoxyCodeLine{883                 \textcolor{keywordflow}{if} (getCurrentStateInfo().canCallStop)}
\DoxyCodeLine{884                     env-\/>CallVoidMethod (nativeMediaPlayer, AndroidMediaPlayer.stop);}
\DoxyCodeLine{885 }
\DoxyCodeLine{886                 env-\/>CallVoidMethod (nativeMediaPlayer, AndroidMediaPlayer.release);}
\DoxyCodeLine{887                 nativeMediaPlayer.clear();}
\DoxyCodeLine{888 }
\DoxyCodeLine{889                 currentState = State::end;}
\DoxyCodeLine{890             \}}
\DoxyCodeLine{891 }
\DoxyCodeLine{892             \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_video_component_affcf58e61e1bf8dea6c0d7c0ed4828e9}{isVideoOpen}}() \textcolor{keyword}{const} \textcolor{keyword}{noexcept}}
\DoxyCodeLine{893             \{}
\DoxyCodeLine{894                 \textcolor{keywordflow}{return} currentState == State::prepared || currentState == State::started}
\DoxyCodeLine{895                     || currentState == State::paused || currentState == State::complete;}
\DoxyCodeLine{896             \}}
\DoxyCodeLine{897 }
\DoxyCodeLine{898             \textcolor{keywordtype}{int} getPlaybackStateFlag() \textcolor{keyword}{const} \textcolor{keyword}{noexcept} \{ \textcolor{keywordflow}{return} getCurrentStateInfo().playbackStateFlag; \}}
\DoxyCodeLine{899             \textcolor{keywordtype}{int} getAllowedActions()    \textcolor{keyword}{const} \textcolor{keyword}{noexcept} \{ \textcolor{keywordflow}{return} getCurrentStateInfo().allowedActions; \}}
\DoxyCodeLine{900 }
\DoxyCodeLine{901             jlong \mbox{\hyperlink{class_video_component_a6a020fa3a2f8de228002c243cb9f9d6a}{getVideoDuration}}()\textcolor{keyword}{ const}}
\DoxyCodeLine{902 \textcolor{keyword}{            }\{}
\DoxyCodeLine{903                 \textcolor{keywordflow}{if} (! getCurrentStateInfo().canCallGetVideoDuration)}
\DoxyCodeLine{904                     \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{905 }
\DoxyCodeLine{906                 \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacejuce_a4f3642abf35d22b0f69c4361d90ce667}{getEnv}}()-\/>CallIntMethod (nativeMediaPlayer, AndroidMediaPlayer.getDuration);}
\DoxyCodeLine{907             \}}
\DoxyCodeLine{908 }
\DoxyCodeLine{909             \mbox{\hyperlink{class_rectangle}{Rectangle<int>}} \mbox{\hyperlink{class_video_component_a03adf011e7dd2ef68447dd1c1139cd32}{getVideoNativeSize}}()\textcolor{keyword}{ const}}
\DoxyCodeLine{910 \textcolor{keyword}{            }\{}
\DoxyCodeLine{911                 \textcolor{keywordflow}{if} (! getCurrentStateInfo().canCallGetVideoHeight)}
\DoxyCodeLine{912                 \{}
\DoxyCodeLine{913                     \mbox{\hyperlink{group__juce__core-system_gadc044ce5efecbecf2f5a44cd00db67b3}{jassertfalse}};}
\DoxyCodeLine{914                     \textcolor{keywordflow}{return} \{\};}
\DoxyCodeLine{915                 \}}
\DoxyCodeLine{916 }
\DoxyCodeLine{917                 \textcolor{keyword}{auto}* env = \mbox{\hyperlink{namespacejuce_a4f3642abf35d22b0f69c4361d90ce667}{getEnv}}();}
\DoxyCodeLine{918 }
\DoxyCodeLine{919                 \textcolor{keyword}{auto} \mbox{\hyperlink{png_8h_ad46179dbe9c68fdcea52b34c3480ec0f}{width}}  = (\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}}) env-\/>CallIntMethod (nativeMediaPlayer, AndroidMediaPlayer.getVideoWidth);}
\DoxyCodeLine{920                 \textcolor{keyword}{auto} \mbox{\hyperlink{namespacegl_a33074d1196a1300c7cee5c0e42fa5cf8}{height}} = (\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}}) env-\/>CallIntMethod (nativeMediaPlayer, AndroidMediaPlayer.getVideoHeight);}
\DoxyCodeLine{921 }
\DoxyCodeLine{922                 \textcolor{keywordflow}{return} \mbox{\hyperlink{class_rectangle}{Rectangle<int>}} (0, 0, \mbox{\hyperlink{png_8h_ad46179dbe9c68fdcea52b34c3480ec0f}{width}}, \mbox{\hyperlink{namespacegl_a33074d1196a1300c7cee5c0e42fa5cf8}{height}});}
\DoxyCodeLine{923             \}}
\DoxyCodeLine{924 }
\DoxyCodeLine{925             \textcolor{keywordtype}{void} \mbox{\hyperlink{struct_video_component_1_1_pimpl_a715a47d99ff7ab3ef5f917b687b66c01}{play}}()}
\DoxyCodeLine{926             \{}
\DoxyCodeLine{927                 \textcolor{keywordflow}{if} (! getCurrentStateInfo().canCallStart)}
\DoxyCodeLine{928                 \{}
\DoxyCodeLine{929                     \mbox{\hyperlink{group__juce__core-system_gadc044ce5efecbecf2f5a44cd00db67b3}{jassertfalse}};}
\DoxyCodeLine{930                     \textcolor{keywordflow}{return};}
\DoxyCodeLine{931                 \}}
\DoxyCodeLine{932 }
\DoxyCodeLine{933                 \textcolor{keyword}{auto}* env = \mbox{\hyperlink{namespacejuce_a4f3642abf35d22b0f69c4361d90ce667}{getEnv}}();}
\DoxyCodeLine{934 }
\DoxyCodeLine{935                 \textcolor{comment}{// Perform a potentially pending volume setting}}
\DoxyCodeLine{936                 \textcolor{keywordflow}{if} (lastAudioVolume != \mbox{\hyperlink{os_8h_abb702d8b501669a23aa0ab3b281b9384}{std::numeric\_limits<float>::min}}())}
\DoxyCodeLine{937                     env-\/>CallVoidMethod (nativeMediaPlayer, AndroidMediaPlayer.setVolume, (jfloat) lastAudioVolume, (jfloat) lastAudioVolume);}
\DoxyCodeLine{938 }
\DoxyCodeLine{939                 env-\/>CallVoidMethod (nativeMediaPlayer, AndroidMediaPlayer.start);}
\DoxyCodeLine{940 }
\DoxyCodeLine{941                 currentState = State::started;}
\DoxyCodeLine{942             \}}
\DoxyCodeLine{943 }
\DoxyCodeLine{944             \textcolor{keywordtype}{void} pause()}
\DoxyCodeLine{945             \{}
\DoxyCodeLine{946                 \textcolor{keywordflow}{if} (! getCurrentStateInfo().canCallPause)}
\DoxyCodeLine{947                 \{}
\DoxyCodeLine{948                     \mbox{\hyperlink{group__juce__core-system_gadc044ce5efecbecf2f5a44cd00db67b3}{jassertfalse}};}
\DoxyCodeLine{949                     \textcolor{keywordflow}{return};}
\DoxyCodeLine{950                 \}}
\DoxyCodeLine{951 }
\DoxyCodeLine{952                 \mbox{\hyperlink{namespacejuce_a4f3642abf35d22b0f69c4361d90ce667}{getEnv}}()-\/>CallVoidMethod (nativeMediaPlayer, AndroidMediaPlayer.pause);}
\DoxyCodeLine{953 }
\DoxyCodeLine{954                 currentState = State::paused;}
\DoxyCodeLine{955             \}}
\DoxyCodeLine{956 }
\DoxyCodeLine{957             \textcolor{keywordtype}{bool} \mbox{\hyperlink{struct_video_component_1_1_pimpl_a5bb75c9361b7eb71d97935bf60481166}{isPlaying}}()\textcolor{keyword}{ const}}
\DoxyCodeLine{958 \textcolor{keyword}{            }\{}
\DoxyCodeLine{959                 \textcolor{keywordflow}{return} getCurrentStateInfo().isPlaying;}
\DoxyCodeLine{960             \}}
\DoxyCodeLine{961 }
\DoxyCodeLine{962             \textcolor{keywordtype}{void} \mbox{\hyperlink{class_video_component_a6a86bf214d3e0acf657fac949f03937e}{setPlayPosition}} (jint newPositionMs)}
\DoxyCodeLine{963             \{}
\DoxyCodeLine{964                 \textcolor{keywordflow}{if} (! getCurrentStateInfo().canCallSeekTo)}
\DoxyCodeLine{965                 \{}
\DoxyCodeLine{966                     \mbox{\hyperlink{group__juce__core-system_gadc044ce5efecbecf2f5a44cd00db67b3}{jassertfalse}};}
\DoxyCodeLine{967                     \textcolor{keywordflow}{return};}
\DoxyCodeLine{968                 \}}
\DoxyCodeLine{969 }
\DoxyCodeLine{970                 \mbox{\hyperlink{namespacejuce_a4f3642abf35d22b0f69c4361d90ce667}{getEnv}}()-\/>CallVoidMethod (nativeMediaPlayer, AndroidMediaPlayer.seekTo, (jint) newPositionMs);}
\DoxyCodeLine{971             \}}
\DoxyCodeLine{972 }
\DoxyCodeLine{973             jint \mbox{\hyperlink{class_video_component_a5fb59703548c5ca05b3c7449927e2d6b}{getPlayPosition}}()\textcolor{keyword}{ const}}
\DoxyCodeLine{974 \textcolor{keyword}{            }\{}
\DoxyCodeLine{975                 \textcolor{keywordflow}{if} (! getCurrentStateInfo().canCallGetCurrentPosition)}
\DoxyCodeLine{976                     \textcolor{keywordflow}{return} 0.0;}
\DoxyCodeLine{977 }
\DoxyCodeLine{978                 \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacejuce_a4f3642abf35d22b0f69c4361d90ce667}{getEnv}}()-\/>CallIntMethod (nativeMediaPlayer, AndroidMediaPlayer.getCurrentPosition);}
\DoxyCodeLine{979             \}}
\DoxyCodeLine{980 }
\DoxyCodeLine{981             \textcolor{keywordtype}{void} \mbox{\hyperlink{class_video_component_a2c4877f02766b0925ec7112efec02b4d}{setPlaySpeed}} (\textcolor{keywordtype}{double} newSpeed)}
\DoxyCodeLine{982             \{}
\DoxyCodeLine{983                 \textcolor{keywordflow}{if} (! getCurrentStateInfo().canCallSetPlaybackParams)}
\DoxyCodeLine{984                 \{}
\DoxyCodeLine{985                     \mbox{\hyperlink{group__juce__core-system_gadc044ce5efecbecf2f5a44cd00db67b3}{jassertfalse}};}
\DoxyCodeLine{986                     \textcolor{keywordflow}{return};}
\DoxyCodeLine{987                 \}}
\DoxyCodeLine{988 }
\DoxyCodeLine{989                 \textcolor{keyword}{auto}* env = \mbox{\hyperlink{namespacejuce_a4f3642abf35d22b0f69c4361d90ce667}{getEnv}}();}
\DoxyCodeLine{990 }
\DoxyCodeLine{991                 \textcolor{keyword}{auto} playbackParams = LocalRef<jobject> (env-\/>CallObjectMethod (nativeMediaPlayer, AndroidMediaPlayer.getPlaybackParams));}
\DoxyCodeLine{992                 LocalRef<jobject> (env-\/>CallObjectMethod (playbackParams, AndroidPlaybackParams.setSpeed, (jfloat) newSpeed));}
\DoxyCodeLine{993                 env-\/>CallVoidMethod (nativeMediaPlayer, AndroidMediaPlayer.setPlaybackParams, playbackParams.get());}
\DoxyCodeLine{994 }
\DoxyCodeLine{995                 \textcolor{keywordflow}{if} (jniCheckHasExceptionOccurredAndClear())}
\DoxyCodeLine{996                 \{}
\DoxyCodeLine{997                     \textcolor{comment}{// MediaPlayer can't handle speed provided!}}
\DoxyCodeLine{998                     \mbox{\hyperlink{group__juce__core-system_gadc044ce5efecbecf2f5a44cd00db67b3}{jassertfalse}};}
\DoxyCodeLine{999                 \}}
\DoxyCodeLine{1000             \}}
\DoxyCodeLine{1001 }
\DoxyCodeLine{1002             \textcolor{keywordtype}{double} \mbox{\hyperlink{class_video_component_a755aedfded2f35026c93c211a7825a63}{getPlaySpeed}}()\textcolor{keyword}{ const}}
\DoxyCodeLine{1003 \textcolor{keyword}{            }\{}
\DoxyCodeLine{1004                 \textcolor{keywordflow}{if} (! getCurrentStateInfo().canCallGetPlaybackParams)}
\DoxyCodeLine{1005                     \textcolor{keywordflow}{return} 0.0;}
\DoxyCodeLine{1006 }
\DoxyCodeLine{1007                 \textcolor{keyword}{auto}* env = \mbox{\hyperlink{namespacejuce_a4f3642abf35d22b0f69c4361d90ce667}{getEnv}}();}
\DoxyCodeLine{1008 }
\DoxyCodeLine{1009                 \textcolor{keyword}{auto} playbackParams = LocalRef<jobject> (env-\/>CallObjectMethod (nativeMediaPlayer, AndroidMediaPlayer.getPlaybackParams));}
\DoxyCodeLine{1010                 \textcolor{keywordflow}{return} (\textcolor{keywordtype}{double}) env-\/>CallFloatMethod (playbackParams, AndroidPlaybackParams.getSpeed);}
\DoxyCodeLine{1011             \}}
\DoxyCodeLine{1012 }
\DoxyCodeLine{1013             \textcolor{keywordtype}{void} \mbox{\hyperlink{class_video_component_aed2f213ac574199c45d1d6ca62be8323}{setAudioVolume}} (\textcolor{keywordtype}{float} newVolume)}
\DoxyCodeLine{1014             \{}
\DoxyCodeLine{1015                 \textcolor{keywordflow}{if} (! getCurrentStateInfo().canCallSetVolume)}
\DoxyCodeLine{1016                 \{}
\DoxyCodeLine{1017                     \mbox{\hyperlink{group__juce__core-system_gadc044ce5efecbecf2f5a44cd00db67b3}{jassertfalse}};}
\DoxyCodeLine{1018                     \textcolor{keywordflow}{return};}
\DoxyCodeLine{1019                 \}}
\DoxyCodeLine{1020 }
\DoxyCodeLine{1021                 lastAudioVolume = \mbox{\hyperlink{group__juce__core-maths_gacf7cd562ab136d15d3bf5c3be047cf96}{jlimit}} (0.0f, 1.0f, newVolume);}
\DoxyCodeLine{1022 }
\DoxyCodeLine{1023                 \textcolor{keywordflow}{if} (nativeMediaPlayer.get() != \textcolor{keyword}{nullptr})}
\DoxyCodeLine{1024                     \mbox{\hyperlink{namespacejuce_a4f3642abf35d22b0f69c4361d90ce667}{getEnv}}()-\/>CallVoidMethod (nativeMediaPlayer, AndroidMediaPlayer.setVolume, (jfloat) lastAudioVolume, (jfloat) lastAudioVolume);}
\DoxyCodeLine{1025             \}}
\DoxyCodeLine{1026 }
\DoxyCodeLine{1027             \textcolor{keywordtype}{float} \mbox{\hyperlink{class_video_component_ae57684e14b3b950488e8b677b89c8106}{getAudioVolume}}()\textcolor{keyword}{ const}}
\DoxyCodeLine{1028 \textcolor{keyword}{            }\{}
\DoxyCodeLine{1029                 \textcolor{comment}{// There is NO getVolume() in MediaPlayer, so the value returned here can be incorrect!}}
\DoxyCodeLine{1030                 \textcolor{keywordflow}{return} lastAudioVolume;}
\DoxyCodeLine{1031             \}}
\DoxyCodeLine{1032 }
\DoxyCodeLine{1033         \textcolor{keyword}{private}:}
\DoxyCodeLine{1034             \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{1035             \textcolor{keyword}{struct }StateInfo}
\DoxyCodeLine{1036             \{}
\DoxyCodeLine{1037                 \textcolor{keywordtype}{int} playbackStateFlag = 0, allowedActions = 0;}
\DoxyCodeLine{1038 }
\DoxyCodeLine{1039                 \textcolor{keywordtype}{bool} \mbox{\hyperlink{struct_video_component_1_1_pimpl_a5bb75c9361b7eb71d97935bf60481166}{isPlaying}}, canCallGetCurrentPosition, canCallGetVideoDuration,}
\DoxyCodeLine{1040                         canCallGetVideoHeight, canCallGetVideoWidth, canCallGetPlaybackParams,}
\DoxyCodeLine{1041                         canCallPause, canCallPrepare, canCallSeekTo, canCallSetAudioAttributes,}
\DoxyCodeLine{1042                         canCallSetDataSource, canCallSetPlaybackParams, canCallSetVolume,}
\DoxyCodeLine{1043                         canCallStart, canCallStop;}
\DoxyCodeLine{1044             \};}
\DoxyCodeLine{1045 }
\DoxyCodeLine{1046             \textcolor{keyword}{enum class} State}
\DoxyCodeLine{1047             \{}
\DoxyCodeLine{1048                 idle, initialised, preparing, prepared, started, paused, stopped, complete, \mbox{\hyperlink{juce__linux___a_l_s_a_8cpp_af44443f87d7b66dff07b3d884445dca1}{error}}, end}
\DoxyCodeLine{1049             \};}
\DoxyCodeLine{1050 }
\DoxyCodeLine{1051             \textcolor{keyword}{static} \textcolor{keyword}{constexpr} StateInfo stateInfos[] = \{}
\DoxyCodeLine{1052                 \textcolor{comment}{/* idle */}}
\DoxyCodeLine{1053                 \{PlaybackState::STATE\_NONE, PlaybackState::ACTION\_PLAY\_FROM\_MEDIA\_ID,}
\DoxyCodeLine{1054                             \textcolor{keyword}{false}, \textcolor{keyword}{true}, \textcolor{keyword}{false}, \textcolor{keyword}{true}, \textcolor{keyword}{true}, \textcolor{keyword}{false}, \textcolor{keyword}{false}, \textcolor{keyword}{false}, \textcolor{keyword}{false}, \textcolor{keyword}{true},}
\DoxyCodeLine{1055                             \textcolor{keyword}{true},  \textcolor{keyword}{false}, \textcolor{keyword}{true}, \textcolor{keyword}{false}, \textcolor{keyword}{false}\},}
\DoxyCodeLine{1056                 \textcolor{comment}{/* initialised */}}
\DoxyCodeLine{1057                 \{PlaybackState::STATE\_NONE, 0, \textcolor{comment}{// NB: could use action prepare, but that's API 24 onwards only}}
\DoxyCodeLine{1058                             \textcolor{keyword}{false}, \textcolor{keyword}{true}, \textcolor{keyword}{false}, \textcolor{keyword}{true}, \textcolor{keyword}{true}, \textcolor{keyword}{true}, \textcolor{keyword}{false}, \textcolor{keyword}{true}, \textcolor{keyword}{false}, \textcolor{keyword}{true},}
\DoxyCodeLine{1059                             \textcolor{keyword}{false},  \textcolor{keyword}{true}, \textcolor{keyword}{true}, \textcolor{keyword}{false}, \textcolor{keyword}{false}\},}
\DoxyCodeLine{1060                 \textcolor{comment}{/* preparing */}}
\DoxyCodeLine{1061                 \{PlaybackState::STATE\_BUFFERING, 0,}
\DoxyCodeLine{1062                             \textcolor{keyword}{false}, \textcolor{keyword}{false}, \textcolor{keyword}{false}, \textcolor{keyword}{false}, \textcolor{keyword}{false}, \textcolor{keyword}{true}, \textcolor{keyword}{false}, \textcolor{keyword}{false}, \textcolor{keyword}{false}, \textcolor{keyword}{false},}
\DoxyCodeLine{1063                             \textcolor{keyword}{false},  \textcolor{keyword}{false}, \textcolor{keyword}{false}, \textcolor{keyword}{false}, \textcolor{keyword}{false}\},}
\DoxyCodeLine{1064                 \textcolor{comment}{/* prepared */}}
\DoxyCodeLine{1065                 \{PlaybackState::STATE\_PAUSED,}
\DoxyCodeLine{1066                             PlaybackState::ACTION\_PLAY | PlaybackState::ACTION\_PLAY\_PAUSE | PlaybackState::ACTION\_PLAY\_FROM\_MEDIA\_ID | PlaybackState::ACTION\_STOP | PlaybackState::ACTION\_SEEK\_TO,}
\DoxyCodeLine{1067                             \textcolor{keyword}{false}, \textcolor{keyword}{true}, \textcolor{keyword}{true}, \textcolor{keyword}{true}, \textcolor{keyword}{true}, \textcolor{keyword}{true}, \textcolor{keyword}{false}, \textcolor{keyword}{false}, \textcolor{keyword}{true}, \textcolor{keyword}{true},}
\DoxyCodeLine{1068                             \textcolor{keyword}{false}, \textcolor{keyword}{true}, \textcolor{keyword}{true}, \textcolor{keyword}{true}, \textcolor{keyword}{true}\},}
\DoxyCodeLine{1069                 \textcolor{comment}{/* started */}}
\DoxyCodeLine{1070                 \{PlaybackState::STATE\_PLAYING,}
\DoxyCodeLine{1071                             PlaybackState::ACTION\_PAUSE | PlaybackState::ACTION\_PLAY\_PAUSE | PlaybackState::ACTION\_SEEK\_TO | PlaybackState::ACTION\_STOP | PlaybackState::ACTION\_PLAY\_FROM\_MEDIA\_ID,}
\DoxyCodeLine{1072                             \textcolor{keyword}{true}, \textcolor{keyword}{true}, \textcolor{keyword}{true}, \textcolor{keyword}{true}, \textcolor{keyword}{true}, \textcolor{keyword}{true}, \textcolor{keyword}{true}, \textcolor{keyword}{false}, \textcolor{keyword}{true}, \textcolor{keyword}{true},}
\DoxyCodeLine{1073                             \textcolor{keyword}{false}, \textcolor{keyword}{true}, \textcolor{keyword}{true}, \textcolor{keyword}{true}, \textcolor{keyword}{true}\},}
\DoxyCodeLine{1074                 \textcolor{comment}{/* paused */}}
\DoxyCodeLine{1075                 \{PlaybackState::STATE\_PAUSED,}
\DoxyCodeLine{1076                             PlaybackState::ACTION\_PLAY | PlaybackState::ACTION\_PLAY\_PAUSE | PlaybackState::ACTION\_SEEK\_TO | PlaybackState::ACTION\_STOP | PlaybackState::ACTION\_PLAY\_FROM\_MEDIA\_ID,}
\DoxyCodeLine{1077                             \textcolor{keyword}{false}, \textcolor{keyword}{true}, \textcolor{keyword}{true}, \textcolor{keyword}{true}, \textcolor{keyword}{true}, \textcolor{keyword}{true}, \textcolor{keyword}{true}, \textcolor{keyword}{false}, \textcolor{keyword}{true}, \textcolor{keyword}{true},}
\DoxyCodeLine{1078                             \textcolor{keyword}{false}, \textcolor{keyword}{true}, \textcolor{keyword}{true}, \textcolor{keyword}{true}, \textcolor{keyword}{true}\},}
\DoxyCodeLine{1079                 \textcolor{comment}{/* stopped */}}
\DoxyCodeLine{1080                 \{PlaybackState::STATE\_STOPPED,}
\DoxyCodeLine{1081                             PlaybackState::ACTION\_PLAY\_FROM\_MEDIA\_ID,}
\DoxyCodeLine{1082                             \textcolor{keyword}{false}, \textcolor{keyword}{true}, \textcolor{keyword}{true}, \textcolor{keyword}{true}, \textcolor{keyword}{true}, \textcolor{keyword}{true}, \textcolor{keyword}{false}, \textcolor{keyword}{true}, \textcolor{keyword}{false}, \textcolor{keyword}{true},}
\DoxyCodeLine{1083                             \textcolor{keyword}{false}, \textcolor{keyword}{false}, \textcolor{keyword}{true}, \textcolor{keyword}{false}, \textcolor{keyword}{true}\},}
\DoxyCodeLine{1084                 \textcolor{comment}{/* complete */}}
\DoxyCodeLine{1085                 \{PlaybackState::STATE\_PAUSED,}
\DoxyCodeLine{1086                             PlaybackState::ACTION\_SEEK\_TO | PlaybackState::ACTION\_STOP | PlaybackState::ACTION\_PLAY\_FROM\_MEDIA\_ID,}
\DoxyCodeLine{1087                             \textcolor{keyword}{false}, \textcolor{keyword}{true}, \textcolor{keyword}{true}, \textcolor{keyword}{true}, \textcolor{keyword}{true}, \textcolor{keyword}{true}, \textcolor{keyword}{true}, \textcolor{keyword}{false}, \textcolor{keyword}{true}, \textcolor{keyword}{true},}
\DoxyCodeLine{1088                             \textcolor{keyword}{false}, \textcolor{keyword}{true}, \textcolor{keyword}{true}, \textcolor{keyword}{true}, \textcolor{keyword}{true}\},}
\DoxyCodeLine{1089                 \textcolor{comment}{/* error */}}
\DoxyCodeLine{1090                 \{PlaybackState::STATE\_ERROR,}
\DoxyCodeLine{1091                             PlaybackState::ACTION\_PLAY\_FROM\_MEDIA\_ID,}
\DoxyCodeLine{1092                             \textcolor{keyword}{false}, \textcolor{keyword}{false}, \textcolor{keyword}{false}, \textcolor{keyword}{false}, \textcolor{keyword}{false}, \textcolor{keyword}{false}, \textcolor{keyword}{false}, \textcolor{keyword}{false}, \textcolor{keyword}{false}, \textcolor{keyword}{false},}
\DoxyCodeLine{1093                             \textcolor{keyword}{false}, \textcolor{keyword}{false}, \textcolor{keyword}{false}, \textcolor{keyword}{false}, \textcolor{keyword}{false}\},}
\DoxyCodeLine{1094                 \textcolor{comment}{/* end */}}
\DoxyCodeLine{1095                 \{PlaybackState::STATE\_NONE,}
\DoxyCodeLine{1096                             PlaybackState::ACTION\_PLAY\_FROM\_MEDIA\_ID,}
\DoxyCodeLine{1097                             \textcolor{keyword}{false}, \textcolor{keyword}{false}, \textcolor{keyword}{false}, \textcolor{keyword}{false}, \textcolor{keyword}{false}, \textcolor{keyword}{false}, \textcolor{keyword}{false}, \textcolor{keyword}{false}, \textcolor{keyword}{false}, \textcolor{keyword}{false},}
\DoxyCodeLine{1098                             \textcolor{keyword}{false}, \textcolor{keyword}{false}, \textcolor{keyword}{false}, \textcolor{keyword}{false}, \textcolor{keyword}{false}\}}
\DoxyCodeLine{1099             \};}
\DoxyCodeLine{1100 }
\DoxyCodeLine{1101             StateInfo getCurrentStateInfo() \textcolor{keyword}{const} \textcolor{keyword}{noexcept}             \{ \textcolor{keywordflow}{return} stateInfos[\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>} (currentState)]; \}}
\DoxyCodeLine{1102 }
\DoxyCodeLine{1103             \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{1104             MediaSession\& owner;}
\DoxyCodeLine{1105             GlobalRef nativeMediaPlayer;}
\DoxyCodeLine{1106 }
\DoxyCodeLine{1107             \mbox{\hyperlink{class_media_player_listener}{MediaPlayerListener}} mediaPlayerListener;}
\DoxyCodeLine{1108             GlobalRef nativeMediaPlayerListener;}
\DoxyCodeLine{1109 }
\DoxyCodeLine{1110             \textcolor{keywordtype}{float} lastAudioVolume = \mbox{\hyperlink{os_8h_abb702d8b501669a23aa0ab3b281b9384}{std::numeric\_limits<float>::min}}();}
\DoxyCodeLine{1111 }
\DoxyCodeLine{1112             GlobalRef videoSurfaceHolder;}
\DoxyCodeLine{1113 }
\DoxyCodeLine{1114             State currentState = State::idle;}
\DoxyCodeLine{1115 }
\DoxyCodeLine{1116             \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{1117             \textcolor{keywordtype}{void} onPrepared (LocalRef<jobject>\& mediaPlayer)\textcolor{keyword}{ override}}
\DoxyCodeLine{1118 \textcolor{keyword}{            }\{}
\DoxyCodeLine{1119                 JUCE\_VIDEO\_LOG (\textcolor{stringliteral}{"{}MediaPlayer::onPrepared()"{}});}
\DoxyCodeLine{1120 }
\DoxyCodeLine{1121                 \mbox{\hyperlink{group__juce__core-maths_ga5158e6e8faa5553204f90af596fafaf5}{ignoreUnused}} (mediaPlayer);}
\DoxyCodeLine{1122 }
\DoxyCodeLine{1123                 currentState = State::prepared;}
\DoxyCodeLine{1124 }
\DoxyCodeLine{1125                 owner.playerPrepared();}
\DoxyCodeLine{1126             \}}
\DoxyCodeLine{1127 }
\DoxyCodeLine{1128             \textcolor{keywordtype}{void} onBufferingUpdate (LocalRef<jobject>\& mediaPlayer, \textcolor{keywordtype}{int} progress)\textcolor{keyword}{ override}}
\DoxyCodeLine{1129 \textcolor{keyword}{            }\{}
\DoxyCodeLine{1130                 \mbox{\hyperlink{group__juce__core-maths_ga5158e6e8faa5553204f90af596fafaf5}{ignoreUnused}} (mediaPlayer);}
\DoxyCodeLine{1131 }
\DoxyCodeLine{1132                 owner.playerBufferingUpdated (progress);}
\DoxyCodeLine{1133             \}}
\DoxyCodeLine{1134 }
\DoxyCodeLine{1135             \textcolor{keywordtype}{void} onSeekComplete (LocalRef<jobject>\& mediaPlayer)\textcolor{keyword}{ override}}
\DoxyCodeLine{1136 \textcolor{keyword}{            }\{}
\DoxyCodeLine{1137                 JUCE\_VIDEO\_LOG (\textcolor{stringliteral}{"{}MediaPlayer::onSeekComplete()"{}});}
\DoxyCodeLine{1138 }
\DoxyCodeLine{1139                 \mbox{\hyperlink{group__juce__core-maths_ga5158e6e8faa5553204f90af596fafaf5}{ignoreUnused}} (mediaPlayer);}
\DoxyCodeLine{1140 }
\DoxyCodeLine{1141                 owner.playerSeekCompleted();}
\DoxyCodeLine{1142             \}}
\DoxyCodeLine{1143 }
\DoxyCodeLine{1144             \textcolor{keywordtype}{void} onCompletion (LocalRef<jobject>\& mediaPlayer)\textcolor{keyword}{ override}}
\DoxyCodeLine{1145 \textcolor{keyword}{            }\{}
\DoxyCodeLine{1146                 JUCE\_VIDEO\_LOG (\textcolor{stringliteral}{"{}MediaPlayer::onCompletion()"{}});}
\DoxyCodeLine{1147 }
\DoxyCodeLine{1148                 \mbox{\hyperlink{group__juce__core-maths_ga5158e6e8faa5553204f90af596fafaf5}{ignoreUnused}} (mediaPlayer);}
\DoxyCodeLine{1149 }
\DoxyCodeLine{1150                 currentState = State::complete;}
\DoxyCodeLine{1151 }
\DoxyCodeLine{1152                 owner.playerPlaybackCompleted();}
\DoxyCodeLine{1153             \}}
\DoxyCodeLine{1154 }
\DoxyCodeLine{1155             \textcolor{keyword}{enum}}
\DoxyCodeLine{1156             \{}
\DoxyCodeLine{1157                 MEDIA\_INFO\_UNKNOWN               = 1,}
\DoxyCodeLine{1158                 MEDIA\_INFO\_VIDEO\_RENDERING\_START = 3,}
\DoxyCodeLine{1159                 MEDIA\_INFO\_VIDEO\_TRACK\_LAGGING   = 700,}
\DoxyCodeLine{1160                 MEDIA\_INFO\_BUFFERING\_START       = 701,}
\DoxyCodeLine{1161                 MEDIA\_INFO\_BUFFERING\_END         = 702,}
\DoxyCodeLine{1162                 MEDIA\_INFO\_NETWORK\_BANDWIDTH     = 703,}
\DoxyCodeLine{1163                 MEDIA\_INFO\_BAD\_INTERLEAVING      = 800,}
\DoxyCodeLine{1164                 MEDIA\_INFO\_NOT\_SEEKABLE          = 801,}
\DoxyCodeLine{1165                 MEDIA\_INFO\_METADATA\_UPDATE       = 802,}
\DoxyCodeLine{1166                 MEDIA\_INFO\_AUDIO\_NOT\_PLAYING     = 804,}
\DoxyCodeLine{1167                 MEDIA\_INFO\_VIDEO\_NOT\_PLAYING     = 805,}
\DoxyCodeLine{1168                 MEDIA\_INFO\_UNSUPPORTED\_SUBTITE   = 901,}
\DoxyCodeLine{1169                 MEDIA\_INFO\_SUBTITLE\_TIMED\_OUT    = 902}
\DoxyCodeLine{1170             \};}
\DoxyCodeLine{1171 }
\DoxyCodeLine{1172             \textcolor{keywordtype}{bool} onInfo (LocalRef<jobject>\& mediaPlayer, \textcolor{keywordtype}{int} what, \textcolor{keywordtype}{int} extra)\textcolor{keyword}{ override}}
\DoxyCodeLine{1173 \textcolor{keyword}{            }\{}
\DoxyCodeLine{1174                 JUCE\_VIDEO\_LOG (\textcolor{stringliteral}{"{}MediaPlayer::onInfo(), infoCode: "{}} + \mbox{\hyperlink{class_string}{String}} (what) + \textcolor{stringliteral}{"{} ("{}} + infoCodeToString (what) + \textcolor{stringliteral}{"{})"{}}}
\DoxyCodeLine{1175                                 + \textcolor{stringliteral}{"{}, extraCode: "{}} + \mbox{\hyperlink{class_string}{String}} (extra));}
\DoxyCodeLine{1176 }
\DoxyCodeLine{1177                 \mbox{\hyperlink{group__juce__core-maths_ga5158e6e8faa5553204f90af596fafaf5}{ignoreUnused}} (mediaPlayer, extra);}
\DoxyCodeLine{1178 }
\DoxyCodeLine{1179                 \textcolor{keywordflow}{if} (what == MEDIA\_INFO\_BUFFERING\_START)}
\DoxyCodeLine{1180                     owner.playerBufferingStarted();}
\DoxyCodeLine{1181                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (what == MEDIA\_INFO\_BUFFERING\_END)}
\DoxyCodeLine{1182                     owner.playerBufferingEnded();}
\DoxyCodeLine{1183 }
\DoxyCodeLine{1184                 \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{1185             \}}
\DoxyCodeLine{1186 }
\DoxyCodeLine{1187             \textcolor{keyword}{static} \mbox{\hyperlink{class_string}{String}} infoCodeToString (\textcolor{keywordtype}{int} \mbox{\hyperlink{structcode}{code}})}
\DoxyCodeLine{1188             \{}
\DoxyCodeLine{1189                 \textcolor{keywordflow}{switch} (\mbox{\hyperlink{structcode}{code}})}
\DoxyCodeLine{1190                 \{}
\DoxyCodeLine{1191                     \textcolor{keywordflow}{case} MEDIA\_INFO\_UNKNOWN:               \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}Unknown"{}};}
\DoxyCodeLine{1192                     \textcolor{keywordflow}{case} MEDIA\_INFO\_VIDEO\_RENDERING\_START: \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}Rendering start"{}};}
\DoxyCodeLine{1193                     \textcolor{keywordflow}{case} MEDIA\_INFO\_VIDEO\_TRACK\_LAGGING:   \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}Video track lagging"{}};}
\DoxyCodeLine{1194                     \textcolor{keywordflow}{case} MEDIA\_INFO\_BUFFERING\_START:       \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}Buffering start"{}};}
\DoxyCodeLine{1195                     \textcolor{keywordflow}{case} MEDIA\_INFO\_BUFFERING\_END:         \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}Buffering end"{}};}
\DoxyCodeLine{1196                     \textcolor{keywordflow}{case} MEDIA\_INFO\_NETWORK\_BANDWIDTH:     \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}Network bandwidth info available"{}};}
\DoxyCodeLine{1197                     \textcolor{keywordflow}{case} MEDIA\_INFO\_BAD\_INTERLEAVING:      \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}Bad interleaving"{}};}
\DoxyCodeLine{1198                     \textcolor{keywordflow}{case} MEDIA\_INFO\_NOT\_SEEKABLE:          \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}Video not seekable"{}};}
\DoxyCodeLine{1199                     \textcolor{keywordflow}{case} MEDIA\_INFO\_METADATA\_UPDATE:       \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}Metadata updated"{}};}
\DoxyCodeLine{1200                     \textcolor{keywordflow}{case} MEDIA\_INFO\_AUDIO\_NOT\_PLAYING:     \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}Audio not playing"{}};}
\DoxyCodeLine{1201                     \textcolor{keywordflow}{case} MEDIA\_INFO\_VIDEO\_NOT\_PLAYING:     \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}Video not playing"{}};}
\DoxyCodeLine{1202                     \textcolor{keywordflow}{case} MEDIA\_INFO\_UNSUPPORTED\_SUBTITE:   \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}Unsupported subtitle"{}};}
\DoxyCodeLine{1203                     \textcolor{keywordflow}{case} MEDIA\_INFO\_SUBTITLE\_TIMED\_OUT:    \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}Subtitle timed out"{}};}
\DoxyCodeLine{1204                     \textcolor{keywordflow}{default}:                               \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{1205                 \}}
\DoxyCodeLine{1206             \}}
\DoxyCodeLine{1207 }
\DoxyCodeLine{1208             \textcolor{keywordtype}{bool} onError (LocalRef<jobject>\& mediaPlayer, \textcolor{keywordtype}{int} what, \textcolor{keywordtype}{int} extra)\textcolor{keyword}{ override}}
\DoxyCodeLine{1209 \textcolor{keyword}{            }\{}
\DoxyCodeLine{1210                 \textcolor{keyword}{auto} errorMessage = errorCodeToString (what);}
\DoxyCodeLine{1211                 \textcolor{keyword}{auto} extraMessage = errorCodeToString (extra);}
\DoxyCodeLine{1212 }
\DoxyCodeLine{1213                 \textcolor{keywordflow}{if} (extraMessage.isNotEmpty())}
\DoxyCodeLine{1214                     errorMessage << \textcolor{stringliteral}{"{}, "{}} << extraMessage;}
\DoxyCodeLine{1215 }
\DoxyCodeLine{1216                 JUCE\_VIDEO\_LOG (\textcolor{stringliteral}{"{}MediaPlayer::onError(), errorCode: "{}} + \mbox{\hyperlink{class_string}{String}} (what) + \textcolor{stringliteral}{"{} ("{}} + errorMessage + \textcolor{stringliteral}{"{})"{}}}
\DoxyCodeLine{1217                                 + \textcolor{stringliteral}{"{}, extraCode: "{}} + \mbox{\hyperlink{class_string}{String}} (extra) + \textcolor{stringliteral}{"{} ("{}} + extraMessage + \textcolor{stringliteral}{"{})"{}});}
\DoxyCodeLine{1218 }
\DoxyCodeLine{1219                 \mbox{\hyperlink{group__juce__core-maths_ga5158e6e8faa5553204f90af596fafaf5}{ignoreUnused}} (mediaPlayer);}
\DoxyCodeLine{1220 }
\DoxyCodeLine{1221                 currentState = State::error;}
\DoxyCodeLine{1222 }
\DoxyCodeLine{1223                 owner.errorOccurred (errorMessage);}
\DoxyCodeLine{1224                 \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{1225             \}}
\DoxyCodeLine{1226 }
\DoxyCodeLine{1227             \textcolor{keyword}{static} \mbox{\hyperlink{class_string}{String}} errorCodeToString (\textcolor{keywordtype}{int} \mbox{\hyperlink{structcode}{code}})}
\DoxyCodeLine{1228             \{}
\DoxyCodeLine{1229                 \textcolor{keyword}{enum}}
\DoxyCodeLine{1230                 \{}
\DoxyCodeLine{1231                     MEDIA\_ERROR\_UNSUPPORTED                        = -\/1010,}
\DoxyCodeLine{1232                     MEDIA\_ERROR\_MALFORMED                          = -\/1007,}
\DoxyCodeLine{1233                     MEDIA\_ERROR\_IO                                 = -\/1004,}
\DoxyCodeLine{1234                     MEDIA\_ERROR\_TIMED\_OUT                          = -\/110,}
\DoxyCodeLine{1235                     MEDIA\_ERROR\_UNKNOWN                            = 1,}
\DoxyCodeLine{1236                     MEDIA\_ERROR\_SERVER\_DIED                        = 100,}
\DoxyCodeLine{1237                     MEDIA\_ERROR\_NOT\_VALID\_FOR\_PROGRESSIVE\_PLAYBACK = 200}
\DoxyCodeLine{1238                 \};}
\DoxyCodeLine{1239 }
\DoxyCodeLine{1240                 \textcolor{keywordflow}{switch} (\mbox{\hyperlink{structcode}{code}})}
\DoxyCodeLine{1241                 \{}
\DoxyCodeLine{1242                     \textcolor{keywordflow}{case} MEDIA\_ERROR\_UNSUPPORTED:                        \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}Unsupported bitstream"{}};}
\DoxyCodeLine{1243                     \textcolor{keywordflow}{case} MEDIA\_ERROR\_MALFORMED:                          \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}Malformed bitstream"{}};}
\DoxyCodeLine{1244                     \textcolor{keywordflow}{case} MEDIA\_ERROR\_IO:                                 \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}File/Network I/O error"{}};}
\DoxyCodeLine{1245                     \textcolor{keywordflow}{case} MEDIA\_ERROR\_TIMED\_OUT:                          \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}Timed out"{}};}
\DoxyCodeLine{1246                     \textcolor{keywordflow}{case} MEDIA\_ERROR\_UNKNOWN:                            \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}Unknown error"{}};}
\DoxyCodeLine{1247                     \textcolor{keywordflow}{case} MEDIA\_ERROR\_SERVER\_DIED:                        \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}Media server died (playback restart required)"{}};}
\DoxyCodeLine{1248                     \textcolor{keywordflow}{case} MEDIA\_ERROR\_NOT\_VALID\_FOR\_PROGRESSIVE\_PLAYBACK: \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}Video container not valid for progressive playback"{}};}
\DoxyCodeLine{1249                     \textcolor{keywordflow}{default}:                                             \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{1250                 \}}
\DoxyCodeLine{1251             \}}
\DoxyCodeLine{1252 }
\DoxyCodeLine{1253             \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{1254             \textcolor{keyword}{static} \mbox{\hyperlink{class_string_array}{StringArray}} getNativeMediaPlayerListenerInterfaces()}
\DoxyCodeLine{1255             \{}
\DoxyCodeLine{1256 \textcolor{preprocessor}{                \#define IFPREFIX "{}android/media/MediaPlayer\$"{}}}
\DoxyCodeLine{1257 }
\DoxyCodeLine{1258                 \textcolor{keywordflow}{return} \{ \mbox{\hyperlink{juce__android___video_8h_a0d430e3e814e5f5811f92dc024bfcf97}{IFPREFIX}} \textcolor{stringliteral}{"{}OnCompletionListener"{}}, \mbox{\hyperlink{juce__android___video_8h_a0d430e3e814e5f5811f92dc024bfcf97}{IFPREFIX}} \textcolor{stringliteral}{"{}OnErrorListener"{}},}
\DoxyCodeLine{1259                          \mbox{\hyperlink{juce__android___video_8h_a0d430e3e814e5f5811f92dc024bfcf97}{IFPREFIX}} \textcolor{stringliteral}{"{}OnInfoListener"{}}, \mbox{\hyperlink{juce__android___video_8h_a0d430e3e814e5f5811f92dc024bfcf97}{IFPREFIX}} \textcolor{stringliteral}{"{}OnPreparedListener"{}},}
\DoxyCodeLine{1260                          \mbox{\hyperlink{juce__android___video_8h_a0d430e3e814e5f5811f92dc024bfcf97}{IFPREFIX}} \textcolor{stringliteral}{"{}OnBufferingUpdateListener"{}}, \mbox{\hyperlink{juce__android___video_8h_a0d430e3e814e5f5811f92dc024bfcf97}{IFPREFIX}} \textcolor{stringliteral}{"{}OnSeekCompleteListener"{}}}
\DoxyCodeLine{1261                 \};}
\DoxyCodeLine{1262 }
\DoxyCodeLine{1263 \textcolor{preprocessor}{                \#undef IFPREFIX}}
\DoxyCodeLine{1264             \}}
\DoxyCodeLine{1265         \};}
\DoxyCodeLine{1266 }
\DoxyCodeLine{1267         \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{1268         \mbox{\hyperlink{struct_video_component_1_1_pimpl}{Pimpl}}\& owner;}
\DoxyCodeLine{1269         \textcolor{keywordtype}{int} sdkVersion;}
\DoxyCodeLine{1270 }
\DoxyCodeLine{1271         GlobalRef audioAttributes;}
\DoxyCodeLine{1272         GlobalRef nativeMediaSession;}
\DoxyCodeLine{1273         GlobalRef mediaSessionCallback;}
\DoxyCodeLine{1274         GlobalRef playbackStateBuilder;}
\DoxyCodeLine{1275 }
\DoxyCodeLine{1276         Controller controller;}
\DoxyCodeLine{1277         Player player;}
\DoxyCodeLine{1278 }
\DoxyCodeLine{1279         GlobalRef audioManager;}
\DoxyCodeLine{1280         \mbox{\hyperlink{class_audio_manager_on_audio_focus_change_listener}{AudioManagerOnAudioFocusChangeListener}} audioFocusChangeListener;}
\DoxyCodeLine{1281         GlobalRef nativeAudioFocusChangeListener;}
\DoxyCodeLine{1282         GlobalRef audioFocusRequest;}
\DoxyCodeLine{1283 }
\DoxyCodeLine{1284         GlobalRef storedPlaybackState;}
\DoxyCodeLine{1285 }
\DoxyCodeLine{1286         \textcolor{keywordtype}{bool} pendingSeekRequest = \textcolor{keyword}{false};}
\DoxyCodeLine{1287 }
\DoxyCodeLine{1288         \textcolor{keywordtype}{bool} playerBufferingInProgress = \textcolor{keyword}{false};}
\DoxyCodeLine{1289         \textcolor{keywordtype}{bool} usesBuffering = \textcolor{keyword}{false};}
\DoxyCodeLine{1290         \mbox{\hyperlink{class_sparse_set}{SparseSet<int>}} bufferedRegions;}
\DoxyCodeLine{1291 }
\DoxyCodeLine{1292         \textcolor{keywordtype}{double} playSpeedMult = 1.0;}
\DoxyCodeLine{1293         \textcolor{keywordtype}{bool} hasAudioFocus = \textcolor{keyword}{false};}
\DoxyCodeLine{1294 }
\DoxyCodeLine{1295         \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{1296 \textcolor{preprocessor}{        \#define JNI\_CLASS\_MEMBERS(METHOD, STATICMETHOD, FIELD, STATICFIELD, CALLBACK) \(\backslash\)}}
\DoxyCodeLine{1297 \textcolor{preprocessor}{            METHOD (constructor, "{}<init>"{}}, "{}(J)V"{})                      \(\backslash\)}
\DoxyCodeLine{1298             CALLBACK (pauseCallback,           "{}mediaSessionPause"{},           "{}(J)V"{}) \(\backslash\)}
\DoxyCodeLine{1299             CALLBACK (playCallback,            "{}mediaSessionPlay"{},            "{}(J)V"{}) \(\backslash\)}
\DoxyCodeLine{1300             CALLBACK (playFromMediaIdCallback, "{}mediaSessionPlayFromMediaId"{}, "{}(JLjava/lang/String;Landroid/os/Bundle;)V"{}) \(\backslash\)}
\DoxyCodeLine{1301             CALLBACK (seekToCallback,          "{}mediaSessionSeekTo"{},          "{}(JJ)V"{}) \(\backslash\)}
\DoxyCodeLine{1302             CALLBACK (stopCallback,            "{}mediaSessionStop"{},            "{}(J)V"{})}
\DoxyCodeLine{1303 }
\DoxyCodeLine{1304         \mbox{\hyperlink{juce__android___j_n_i_helpers_8h_aee2899905ecbbb12e9c3d56d31289078}{DECLARE\_JNI\_CLASS\_WITH\_MIN\_SDK}} (AndroidMediaSessionCallback, \textcolor{stringliteral}{"{}com/rmsl/juce/MediaSessionCallback"{}}, 21)}
\DoxyCodeLine{1305         \textcolor{preprocessor}{\#undef JNI\_CLASS\_MEMBERS}}
\DoxyCodeLine{1306 }
\DoxyCodeLine{1307         LocalRef<jobject> createCallbackObject()}
\DoxyCodeLine{1308         \{}
\DoxyCodeLine{1309             \textcolor{keywordflow}{return} LocalRef<jobject> (\mbox{\hyperlink{namespacejuce_a4f3642abf35d22b0f69c4361d90ce667}{getEnv}}()-\/>NewObject (AndroidMediaSessionCallback,}
\DoxyCodeLine{1310                                                            AndroidMediaSessionCallback.constructor,}
\DoxyCodeLine{1311                                                            \textcolor{keyword}{reinterpret\_cast<}jlong\textcolor{keyword}{>} (\textcolor{keyword}{this})));}
\DoxyCodeLine{1312         \}}
\DoxyCodeLine{1313 }
\DoxyCodeLine{1314         \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{1315         \textcolor{comment}{// MediaSession callbacks}}
\DoxyCodeLine{1316         \textcolor{keyword}{static} \textcolor{keywordtype}{void} pauseCallback (JNIEnv*, jobject, jlong host)}
\DoxyCodeLine{1317         \{}
\DoxyCodeLine{1318             \textcolor{keywordflow}{if} (\textcolor{keyword}{auto}* myself = \textcolor{keyword}{reinterpret\_cast<}VideoComponent::Pimpl::MediaSession*\textcolor{keyword}{>} (host))}
\DoxyCodeLine{1319             \{}
\DoxyCodeLine{1320                 JUCE\_VIDEO\_LOG (\textcolor{stringliteral}{"{}MediaSession::pauseCallback()"{}});}
\DoxyCodeLine{1321                 myself-\/>player.pause();}
\DoxyCodeLine{1322                 myself-\/>updatePlaybackState();}
\DoxyCodeLine{1323 }
\DoxyCodeLine{1324                 myself-\/>abandonAudioFocus();}
\DoxyCodeLine{1325             \}}
\DoxyCodeLine{1326         \}}
\DoxyCodeLine{1327 }
\DoxyCodeLine{1328         \textcolor{keyword}{static} \textcolor{keywordtype}{void} playCallback (JNIEnv*, jobject, jlong host)}
\DoxyCodeLine{1329         \{}
\DoxyCodeLine{1330             \textcolor{keywordflow}{if} (\textcolor{keyword}{auto}* myself = \textcolor{keyword}{reinterpret\_cast<}VideoComponent::Pimpl::MediaSession*\textcolor{keyword}{>} (host))}
\DoxyCodeLine{1331             \{}
\DoxyCodeLine{1332                 JUCE\_VIDEO\_LOG (\textcolor{stringliteral}{"{}MediaSession::playCallback()"{}});}
\DoxyCodeLine{1333 }
\DoxyCodeLine{1334                 myself-\/>requestAudioFocus();}
\DoxyCodeLine{1335 }
\DoxyCodeLine{1336                 \textcolor{keywordflow}{if} (! myself-\/>hasAudioFocus)}
\DoxyCodeLine{1337                 \{}
\DoxyCodeLine{1338                     myself-\/>errorOccurred (\textcolor{stringliteral}{"{}Application has been denied audio focus. Try again later."{}});}
\DoxyCodeLine{1339                     \textcolor{keywordflow}{return};}
\DoxyCodeLine{1340                 \}}
\DoxyCodeLine{1341 }
\DoxyCodeLine{1342                 \mbox{\hyperlink{namespacejuce_a4f3642abf35d22b0f69c4361d90ce667}{getEnv}}()-\/>CallVoidMethod (myself-\/>nativeMediaSession, AndroidMediaSession.setActive, \textcolor{keyword}{true});}
\DoxyCodeLine{1343 }
\DoxyCodeLine{1344                 myself-\/>player.play();}
\DoxyCodeLine{1345                 myself-\/>setSpeed (myself-\/>playSpeedMult);}
\DoxyCodeLine{1346                 myself-\/>updatePlaybackState();}
\DoxyCodeLine{1347             \}}
\DoxyCodeLine{1348         \}}
\DoxyCodeLine{1349 }
\DoxyCodeLine{1350         \textcolor{keyword}{static} \textcolor{keywordtype}{void} playFromMediaIdCallback (JNIEnv* env, jobject, jlong host, jstring mediaId, jobject extras)}
\DoxyCodeLine{1351         \{}
\DoxyCodeLine{1352             \textcolor{keywordflow}{if} (\textcolor{keyword}{auto}* myself = \textcolor{keyword}{reinterpret\_cast<}VideoComponent::Pimpl::MediaSession*\textcolor{keyword}{>} (host))}
\DoxyCodeLine{1353             \{}
\DoxyCodeLine{1354                 JUCE\_VIDEO\_LOG (\textcolor{stringliteral}{"{}MediaSession::playFromMediaIdCallback()"{}});}
\DoxyCodeLine{1355 }
\DoxyCodeLine{1356                 myself-\/>player.load (LocalRef<jstring> ((jstring) env-\/>NewLocalRef(mediaId)), LocalRef<jobject> (env-\/>NewLocalRef(extras)));}
\DoxyCodeLine{1357                 myself-\/>updatePlaybackState();}
\DoxyCodeLine{1358             \}}
\DoxyCodeLine{1359         \}}
\DoxyCodeLine{1360 }
\DoxyCodeLine{1361         \textcolor{keyword}{static} \textcolor{keywordtype}{void} seekToCallback (JNIEnv* \textcolor{comment}{/*env*/}, jobject, jlong host, jlong pos)}
\DoxyCodeLine{1362         \{}
\DoxyCodeLine{1363             \textcolor{keywordflow}{if} (\textcolor{keyword}{auto}* myself = \textcolor{keyword}{reinterpret\_cast<}VideoComponent::Pimpl::MediaSession*\textcolor{keyword}{>} (host))}
\DoxyCodeLine{1364             \{}
\DoxyCodeLine{1365                 JUCE\_VIDEO\_LOG (\textcolor{stringliteral}{"{}MediaSession::seekToCallback()"{}});}
\DoxyCodeLine{1366 }
\DoxyCodeLine{1367                 myself-\/>pendingSeekRequest = \textcolor{keyword}{true};}
\DoxyCodeLine{1368                 myself-\/>player.setPlayPosition ((jint) pos);}
\DoxyCodeLine{1369                 myself-\/>updatePlaybackState();}
\DoxyCodeLine{1370             \}}
\DoxyCodeLine{1371         \}}
\DoxyCodeLine{1372 }
\DoxyCodeLine{1373         \textcolor{keyword}{static} \textcolor{keywordtype}{void} stopCallback(JNIEnv* env, jobject, jlong host)}
\DoxyCodeLine{1374         \{}
\DoxyCodeLine{1375             \textcolor{keywordflow}{if} (\textcolor{keyword}{auto}* myself = \textcolor{keyword}{reinterpret\_cast<}VideoComponent::Pimpl::MediaSession*\textcolor{keyword}{>} (host))}
\DoxyCodeLine{1376             \{}
\DoxyCodeLine{1377                 JUCE\_VIDEO\_LOG (\textcolor{stringliteral}{"{}MediaSession::stopCallback()"{}});}
\DoxyCodeLine{1378 }
\DoxyCodeLine{1379                 env-\/>CallVoidMethod (myself-\/>nativeMediaSession, AndroidMediaSession.setActive, \textcolor{keyword}{false});}
\DoxyCodeLine{1380 }
\DoxyCodeLine{1381                 myself-\/>player.closeVideo();}
\DoxyCodeLine{1382                 myself-\/>updatePlaybackState();}
\DoxyCodeLine{1383 }
\DoxyCodeLine{1384                 myself-\/>abandonAudioFocus();}
\DoxyCodeLine{1385 }
\DoxyCodeLine{1386                 myself-\/>owner.closeVideoFinished();}
\DoxyCodeLine{1387             \}}
\DoxyCodeLine{1388         \}}
\DoxyCodeLine{1389 }
\DoxyCodeLine{1390         \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{1391         \textcolor{keywordtype}{bool} isSeekInProgress() \mbox{\hyperlink{zconf_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} noexcept}
\DoxyCodeLine{1392         \{}
\DoxyCodeLine{1393             \textcolor{keywordflow}{if} (pendingSeekRequest)}
\DoxyCodeLine{1394                 \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{1395 }
\DoxyCodeLine{1396             \textcolor{keywordflow}{if} (! usesBuffering)}
\DoxyCodeLine{1397                 \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{1398 }
\DoxyCodeLine{1399             \textcolor{comment}{// NB: player sometimes notifies us about buffering, but only for regions that}}
\DoxyCodeLine{1400             \textcolor{comment}{// were previously buffered already. For buffering happening for the first time,}}
\DoxyCodeLine{1401             \textcolor{comment}{// we don't get such notification...}}
\DoxyCodeLine{1402             \textcolor{keywordflow}{if} (playerBufferingInProgress)}
\DoxyCodeLine{1403                 \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{1404 }
\DoxyCodeLine{1405             \textcolor{keyword}{auto} playPos = player.getPlayPosition();}
\DoxyCodeLine{1406             \textcolor{keyword}{auto} durationMs = player.getVideoDuration();}
\DoxyCodeLine{1407             \textcolor{keyword}{auto} playPosPercent = (\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}}) (100.0 * playPos / \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{double}\textcolor{keyword}{>} (durationMs));}
\DoxyCodeLine{1408 }
\DoxyCodeLine{1409             \textcolor{comment}{// NB: assuming the playback will start roughly when there is 5\% of content loaded...}}
\DoxyCodeLine{1410             \textcolor{keywordflow}{return} ! bufferedRegions.\mbox{\hyperlink{class_sparse_set_ab8100292d1f68164f67b9d7cf5a3a809}{containsRange}} (\mbox{\hyperlink{class_range}{Range<int>}} (playPosPercent, \mbox{\hyperlink{group__juce__core-maths_gae8394cdf11279b266f4aa741758c1669}{jmin}} (101, playPosPercent + 5)));}
\DoxyCodeLine{1411         \}}
\DoxyCodeLine{1412 }
\DoxyCodeLine{1413         \textcolor{keywordtype}{void} updatePlaybackState()}
\DoxyCodeLine{1414         \{}
\DoxyCodeLine{1415             \mbox{\hyperlink{namespacejuce_a4f3642abf35d22b0f69c4361d90ce667}{getEnv}}()-\/>CallVoidMethod (nativeMediaSession, AndroidMediaSession.setPlaybackState, getCurrentPlaybackState().\mbox{\hyperlink{namespacedsp_ab70e205bff92b09aa297e479676b5bc8}{get}}());}
\DoxyCodeLine{1416         \}}
\DoxyCodeLine{1417 }
\DoxyCodeLine{1418         LocalRef<jobject> getCurrentPlaybackState()}
\DoxyCodeLine{1419         \{}
\DoxyCodeLine{1420             \textcolor{keyword}{static} \textcolor{keyword}{constexpr} \textcolor{keywordtype}{int} bufferingState = 6;}
\DoxyCodeLine{1421 }
\DoxyCodeLine{1422             \textcolor{keyword}{auto} playbackStateFlag = isSeekInProgress() ? bufferingState : player.getPlaybackStateFlag();}
\DoxyCodeLine{1423             \textcolor{keyword}{auto} playPos = player.getPlayPosition();}
\DoxyCodeLine{1424             \textcolor{keyword}{auto} playSpeed = player.getPlaySpeed();}
\DoxyCodeLine{1425             \textcolor{keyword}{auto} allowedActions = player.getAllowedActions();}
\DoxyCodeLine{1426 }
\DoxyCodeLine{1427             \textcolor{keyword}{auto}* env = \mbox{\hyperlink{namespacejuce_a4f3642abf35d22b0f69c4361d90ce667}{getEnv}}();}
\DoxyCodeLine{1428 }
\DoxyCodeLine{1429             LocalRef<jobject> (env-\/>CallObjectMethod (playbackStateBuilder, AndroidPlaybackStateBuilder.setState,}
\DoxyCodeLine{1430                                                       (jint) playbackStateFlag, (jlong) playPos, (jfloat) playSpeed));}
\DoxyCodeLine{1431 }
\DoxyCodeLine{1432             LocalRef<jobject> (env-\/>CallObjectMethod (playbackStateBuilder, AndroidPlaybackStateBuilder.setActions, (jint) allowedActions));}
\DoxyCodeLine{1433 }
\DoxyCodeLine{1434             \textcolor{keywordflow}{return} LocalRef<jobject> (env-\/>CallObjectMethod (playbackStateBuilder, AndroidPlaybackStateBuilder.build));}
\DoxyCodeLine{1435         \}}
\DoxyCodeLine{1436 }
\DoxyCodeLine{1437         \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{1438         \textcolor{keywordtype}{void} playerPrepared()}
\DoxyCodeLine{1439         \{}
\DoxyCodeLine{1440             resetState();}
\DoxyCodeLine{1441 }
\DoxyCodeLine{1442             updateMetadata();}
\DoxyCodeLine{1443 }
\DoxyCodeLine{1444             owner.loadFinished();}
\DoxyCodeLine{1445         \}}
\DoxyCodeLine{1446 }
\DoxyCodeLine{1447         \textcolor{keywordtype}{void} playerBufferingStarted() \{ playerBufferingInProgress = \textcolor{keyword}{true}; \}}
\DoxyCodeLine{1448         \textcolor{keywordtype}{void} playerBufferingEnded()   \{ playerBufferingInProgress = \textcolor{keyword}{false}; \}}
\DoxyCodeLine{1449 }
\DoxyCodeLine{1450         \textcolor{keywordtype}{void} playerBufferingUpdated (\textcolor{keywordtype}{int} progress)}
\DoxyCodeLine{1451         \{}
\DoxyCodeLine{1452             usesBuffering = \textcolor{keyword}{true};}
\DoxyCodeLine{1453 }
\DoxyCodeLine{1454             updatePlaybackState();}
\DoxyCodeLine{1455 }
\DoxyCodeLine{1456             \textcolor{keyword}{auto} playPos = player.getPlayPosition();}
\DoxyCodeLine{1457             \textcolor{keyword}{auto} durationMs = player.getVideoDuration();}
\DoxyCodeLine{1458             \textcolor{keyword}{auto} playPosPercent = (\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}}) (100.0 * playPos / \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{double}\textcolor{keyword}{>} (durationMs));}
\DoxyCodeLine{1459 }
\DoxyCodeLine{1460             bufferedRegions.\mbox{\hyperlink{class_sparse_set_af5c79666e9e795e602c5a50ba94a3286}{addRange}} (\mbox{\hyperlink{class_range}{Range<int>}} (playPosPercent, progress + 1));}
\DoxyCodeLine{1461 }
\DoxyCodeLine{1462             \mbox{\hyperlink{class_string}{String}} ranges;}
\DoxyCodeLine{1463 }
\DoxyCodeLine{1464             \textcolor{keywordflow}{for} (\textcolor{keyword}{auto}\& \mbox{\hyperlink{namespacegl_aaa813f59532257ed092c4fad1b443fa5}{r}} : bufferedRegions.\mbox{\hyperlink{class_sparse_set_abd7b512ddcf1e2d4b112f62ef8c28f03}{getRanges}}())}
\DoxyCodeLine{1465                 ranges << \textcolor{stringliteral}{"{}["{}} << \mbox{\hyperlink{namespacegl_aaa813f59532257ed092c4fad1b443fa5}{r}}.getStart() << \textcolor{stringliteral}{"{}\%, "{}} << \mbox{\hyperlink{namespacegl_aaa813f59532257ed092c4fad1b443fa5}{r}}.getEnd() -\/ 1 << \textcolor{stringliteral}{"{}\%] "{}};}
\DoxyCodeLine{1466 }
\DoxyCodeLine{1467             JUCE\_VIDEO\_LOG (\textcolor{stringliteral}{"{}Buffering status update, seek pos: "{}} + \mbox{\hyperlink{class_string}{String}} (playPosPercent) + \textcolor{stringliteral}{"{}\%, buffered regions: "{}} + ranges);}
\DoxyCodeLine{1468         \}}
\DoxyCodeLine{1469 }
\DoxyCodeLine{1470         \textcolor{keywordtype}{void} playerSeekCompleted()}
\DoxyCodeLine{1471         \{}
\DoxyCodeLine{1472             pendingSeekRequest = \textcolor{keyword}{false};}
\DoxyCodeLine{1473             updatePlaybackState();}
\DoxyCodeLine{1474         \}}
\DoxyCodeLine{1475 }
\DoxyCodeLine{1476         \textcolor{keywordtype}{void} playerPlaybackCompleted()}
\DoxyCodeLine{1477         \{}
\DoxyCodeLine{1478             player.pause();}
\DoxyCodeLine{1479             abandonAudioFocus();}
\DoxyCodeLine{1480 }
\DoxyCodeLine{1481             pendingSeekRequest = \textcolor{keyword}{true};}
\DoxyCodeLine{1482             player.setPlayPosition (0);}
\DoxyCodeLine{1483             updatePlaybackState();}
\DoxyCodeLine{1484         \}}
\DoxyCodeLine{1485 }
\DoxyCodeLine{1486         \textcolor{keywordtype}{void} updateMetadata()}
\DoxyCodeLine{1487         \{}
\DoxyCodeLine{1488             \textcolor{keyword}{auto}* env = \mbox{\hyperlink{namespacejuce_a4f3642abf35d22b0f69c4361d90ce667}{getEnv}}();}
\DoxyCodeLine{1489 }
\DoxyCodeLine{1490             \textcolor{keyword}{auto} metadataBuilder = LocalRef<jobject> (env-\/>NewObject (AndroidMediaMetadataBuilder,}
\DoxyCodeLine{1491                                                                       AndroidMediaMetadataBuilder.constructor));}
\DoxyCodeLine{1492 }
\DoxyCodeLine{1493             \textcolor{keyword}{auto} durationMs = player.getVideoDuration();}
\DoxyCodeLine{1494 }
\DoxyCodeLine{1495             \textcolor{keyword}{auto} jDurationKey = javaString (\textcolor{stringliteral}{"{}android.media.metadata.DURATION"{}});}
\DoxyCodeLine{1496             LocalRef<jobject> (env-\/>CallObjectMethod (metadataBuilder,}
\DoxyCodeLine{1497                                                       AndroidMediaMetadataBuilder.putLong,}
\DoxyCodeLine{1498                                                       jDurationKey.get(),}
\DoxyCodeLine{1499                                                       (jlong) durationMs));}
\DoxyCodeLine{1500 }
\DoxyCodeLine{1501             \textcolor{keyword}{auto} jNumTracksKey = javaString (\textcolor{stringliteral}{"{}android.media.metadata.NUM\_TRACKS"{}});}
\DoxyCodeLine{1502             LocalRef<jobject> (env-\/>CallObjectMethod (metadataBuilder,}
\DoxyCodeLine{1503                                                       AndroidMediaMetadataBuilder.putLong,}
\DoxyCodeLine{1504                                                       jNumTracksKey.get(),}
\DoxyCodeLine{1505                                                       (jlong) 1));}
\DoxyCodeLine{1506 }
\DoxyCodeLine{1507             env-\/>CallVoidMethod (nativeMediaSession, AndroidMediaSession.setMetadata,}
\DoxyCodeLine{1508                                  env-\/>CallObjectMethod (metadataBuilder, AndroidMediaMetadataBuilder.build));}
\DoxyCodeLine{1509         \}}
\DoxyCodeLine{1510 }
\DoxyCodeLine{1511         \textcolor{keywordtype}{void} errorOccurred (\textcolor{keyword}{const} \mbox{\hyperlink{class_string}{String}}\& errorMessage)}
\DoxyCodeLine{1512         \{}
\DoxyCodeLine{1513             \textcolor{keyword}{auto}* env = \mbox{\hyperlink{namespacejuce_a4f3642abf35d22b0f69c4361d90ce667}{getEnv}}();}
\DoxyCodeLine{1514 }
\DoxyCodeLine{1515             \textcolor{comment}{// Propagate error to session controller(s) and ...}}
\DoxyCodeLine{1516             LocalRef<jobject> (env-\/>CallObjectMethod (playbackStateBuilder, AndroidPlaybackStateBuilder.setErrorMessage,}
\DoxyCodeLine{1517                                                       javaString (errorMessage).\mbox{\hyperlink{namespacedsp_ab70e205bff92b09aa297e479676b5bc8}{get}}()));}
\DoxyCodeLine{1518 }
\DoxyCodeLine{1519             \textcolor{keyword}{auto} state = LocalRef<jobject> (env-\/>CallObjectMethod (playbackStateBuilder, AndroidPlaybackStateBuilder.build));}
\DoxyCodeLine{1520             env-\/>CallVoidMethod (nativeMediaSession, AndroidMediaSession.setPlaybackState, state.get());}
\DoxyCodeLine{1521 }
\DoxyCodeLine{1522             \textcolor{comment}{// ...also notify JUCE side client}}
\DoxyCodeLine{1523             owner.errorOccurred (errorMessage);}
\DoxyCodeLine{1524         \}}
\DoxyCodeLine{1525 }
\DoxyCodeLine{1526         \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{1527         \textcolor{keyword}{static} LocalRef<jobject> createAudioFocusRequestIfNecessary (\textcolor{keywordtype}{int} sdkVersion, \textcolor{keyword}{const} GlobalRef\& audioAttributes,}
\DoxyCodeLine{1528                                                                      \textcolor{keyword}{const} GlobalRef\& nativeAudioFocusChangeListener)}
\DoxyCodeLine{1529         \{}
\DoxyCodeLine{1530             \textcolor{keywordflow}{if} (sdkVersion < 26)}
\DoxyCodeLine{1531                 \textcolor{keywordflow}{return} LocalRef<jobject>();}
\DoxyCodeLine{1532 }
\DoxyCodeLine{1533             \textcolor{keyword}{auto}* env = \mbox{\hyperlink{namespacejuce_a4f3642abf35d22b0f69c4361d90ce667}{getEnv}}();}
\DoxyCodeLine{1534 }
\DoxyCodeLine{1535             \textcolor{keyword}{auto} requestBuilderClass = LocalRef<jclass> (env-\/>FindClass (\textcolor{stringliteral}{"{}android/media/AudioFocusRequest\$Builder"{}}));}
\DoxyCodeLine{1536 }
\DoxyCodeLine{1537             \textcolor{keyword}{static} jmethodID constructor = env-\/>GetMethodID (requestBuilderClass, \textcolor{stringliteral}{"{}<init>"{}}, \textcolor{stringliteral}{"{}(I)V"{}});}
\DoxyCodeLine{1538             \textcolor{keyword}{static} jmethodID buildMethod = env-\/>GetMethodID (requestBuilderClass, \textcolor{stringliteral}{"{}build"{}}, \textcolor{stringliteral}{"{}()Landroid/media/AudioFocusRequest;"{}});}
\DoxyCodeLine{1539             \textcolor{keyword}{static} jmethodID setAudioAttributesMethod = env-\/>GetMethodID (requestBuilderClass, \textcolor{stringliteral}{"{}setAudioAttributes"{}},}
\DoxyCodeLine{1540                                                                           \textcolor{stringliteral}{"{}(Landroid/media/AudioAttributes;)Landroid/media/AudioFocusRequest\$Builder;"{}});}
\DoxyCodeLine{1541             \textcolor{keyword}{static} jmethodID setOnAudioFocusChangeListenerMethod = env-\/>GetMethodID (requestBuilderClass, \textcolor{stringliteral}{"{}setOnAudioFocusChangeListener"{}},}
\DoxyCodeLine{1542                                                                                      \textcolor{stringliteral}{"{}(Landroid/media/AudioManager\$OnAudioFocusChangeListener;)Landroid/media/AudioFocusRequest\$Builder;"{}});}
\DoxyCodeLine{1543 }
\DoxyCodeLine{1544             \textcolor{keyword}{static} \textcolor{keyword}{constexpr} jint audioFocusGain = 1;}
\DoxyCodeLine{1545 }
\DoxyCodeLine{1546             \textcolor{keyword}{auto} requestBuilder = LocalRef<jobject> (env-\/>NewObject (requestBuilderClass, constructor, audioFocusGain));}
\DoxyCodeLine{1547             LocalRef<jobject> (env-\/>CallObjectMethod (requestBuilder, setAudioAttributesMethod, audioAttributes.get()));}
\DoxyCodeLine{1548             LocalRef<jobject> (env-\/>CallObjectMethod (requestBuilder, setOnAudioFocusChangeListenerMethod, nativeAudioFocusChangeListener.get()));}
\DoxyCodeLine{1549 }
\DoxyCodeLine{1550             \textcolor{keywordflow}{return} LocalRef<jobject> (env-\/>CallObjectMethod (requestBuilder, buildMethod));}
\DoxyCodeLine{1551         \}}
\DoxyCodeLine{1552 }
\DoxyCodeLine{1553         \textcolor{keywordtype}{void} requestAudioFocus()}
\DoxyCodeLine{1554         \{}
\DoxyCodeLine{1555             \textcolor{keyword}{static} \textcolor{keyword}{constexpr} jint audioFocusGain = 1;}
\DoxyCodeLine{1556             \textcolor{keyword}{static} \textcolor{keyword}{constexpr} jint streamMusic = 3;}
\DoxyCodeLine{1557             \textcolor{keyword}{static} \textcolor{keyword}{constexpr} jint audioFocusRequestGranted = 1;}
\DoxyCodeLine{1558 }
\DoxyCodeLine{1559             jint \mbox{\hyperlink{namespacegl_a7cb1126dbc1cb105bcce082cff5ae633}{result}} = audioFocusRequestGranted;}
\DoxyCodeLine{1560 }
\DoxyCodeLine{1561             \textcolor{keywordflow}{if} (sdkVersion >= 26)}
\DoxyCodeLine{1562             \{}
\DoxyCodeLine{1563                 \textcolor{keyword}{static} jmethodID requestAudioFocusMethod = \mbox{\hyperlink{namespacejuce_a4f3642abf35d22b0f69c4361d90ce667}{getEnv}}()-\/>GetMethodID (AndroidAudioManager, \textcolor{stringliteral}{"{}requestAudioFocus"{}},}
\DoxyCodeLine{1564                                                                                   \textcolor{stringliteral}{"{}(Landroid/media/AudioFocusRequest;)I"{}});}
\DoxyCodeLine{1565 }
\DoxyCodeLine{1566                 \mbox{\hyperlink{namespacegl_a7cb1126dbc1cb105bcce082cff5ae633}{result}} = \mbox{\hyperlink{namespacejuce_a4f3642abf35d22b0f69c4361d90ce667}{getEnv}}()-\/>CallIntMethod (audioManager, requestAudioFocusMethod, audioFocusRequest.get());}
\DoxyCodeLine{1567             \}}
\DoxyCodeLine{1568             \textcolor{keywordflow}{else}}
\DoxyCodeLine{1569             \{}
\DoxyCodeLine{1570                 \mbox{\hyperlink{namespacegl_a7cb1126dbc1cb105bcce082cff5ae633}{result}} = \mbox{\hyperlink{namespacejuce_a4f3642abf35d22b0f69c4361d90ce667}{getEnv}}()-\/>CallIntMethod (audioManager, AndroidAudioManager.requestAudioFocus,}
\DoxyCodeLine{1571                                                   nativeAudioFocusChangeListener.get(), streamMusic, audioFocusGain);}
\DoxyCodeLine{1572             \}}
\DoxyCodeLine{1573 }
\DoxyCodeLine{1574             hasAudioFocus = \mbox{\hyperlink{namespacegl_a7cb1126dbc1cb105bcce082cff5ae633}{result}} == audioFocusRequestGranted;}
\DoxyCodeLine{1575         \}}
\DoxyCodeLine{1576 }
\DoxyCodeLine{1577         \textcolor{keywordtype}{void} abandonAudioFocus()}
\DoxyCodeLine{1578         \{}
\DoxyCodeLine{1579             \textcolor{keywordflow}{if} (! hasAudioFocus)}
\DoxyCodeLine{1580                 \textcolor{keywordflow}{return};}
\DoxyCodeLine{1581 }
\DoxyCodeLine{1582             \textcolor{keyword}{static} \textcolor{keyword}{constexpr} jint audioFocusRequestGranted = 1;}
\DoxyCodeLine{1583 }
\DoxyCodeLine{1584             jint \mbox{\hyperlink{namespacegl_a7cb1126dbc1cb105bcce082cff5ae633}{result}} = audioFocusRequestGranted;}
\DoxyCodeLine{1585 }
\DoxyCodeLine{1586             \textcolor{keywordflow}{if} (sdkVersion >= 26)}
\DoxyCodeLine{1587             \{}
\DoxyCodeLine{1588                 \textcolor{keyword}{static} jmethodID abandonAudioFocusMethod = \mbox{\hyperlink{namespacejuce_a4f3642abf35d22b0f69c4361d90ce667}{getEnv}}()-\/>GetMethodID (AndroidAudioManager, \textcolor{stringliteral}{"{}abandonAudioFocusRequest"{}},}
\DoxyCodeLine{1589                                                                                   \textcolor{stringliteral}{"{}(Landroid/media/AudioFocusRequest;)I"{}});}
\DoxyCodeLine{1590 }
\DoxyCodeLine{1591                 \mbox{\hyperlink{namespacegl_a7cb1126dbc1cb105bcce082cff5ae633}{result}} = \mbox{\hyperlink{namespacejuce_a4f3642abf35d22b0f69c4361d90ce667}{getEnv}}()-\/>CallIntMethod (audioManager, abandonAudioFocusMethod, audioFocusRequest.get());}
\DoxyCodeLine{1592             \}}
\DoxyCodeLine{1593             \textcolor{keywordflow}{else}}
\DoxyCodeLine{1594             \{}
\DoxyCodeLine{1595                 \mbox{\hyperlink{namespacegl_a7cb1126dbc1cb105bcce082cff5ae633}{result}} = \mbox{\hyperlink{namespacejuce_a4f3642abf35d22b0f69c4361d90ce667}{getEnv}}()-\/>CallIntMethod (audioManager, AndroidAudioManager.abandonAudioFocus,}
\DoxyCodeLine{1596                                                    nativeAudioFocusChangeListener.get());}
\DoxyCodeLine{1597             \}}
\DoxyCodeLine{1598 }
\DoxyCodeLine{1599             \textcolor{comment}{// NB: granted in this case means "{}granted to change the focus to abandoned"{}...}}
\DoxyCodeLine{1600             hasAudioFocus = \mbox{\hyperlink{namespacegl_a7cb1126dbc1cb105bcce082cff5ae633}{result}} != audioFocusRequestGranted;}
\DoxyCodeLine{1601         \}}
\DoxyCodeLine{1602 }
\DoxyCodeLine{1603         \textcolor{keywordtype}{void} onAudioFocusChange (\textcolor{keywordtype}{int} changeType)\textcolor{keyword}{ override}}
\DoxyCodeLine{1604 \textcolor{keyword}{        }\{}
\DoxyCodeLine{1605             \textcolor{keyword}{static} \textcolor{keyword}{constexpr} jint audioFocusGain = 1;}
\DoxyCodeLine{1606 }
\DoxyCodeLine{1607             \textcolor{keywordflow}{if} (changeType == audioFocusGain)}
\DoxyCodeLine{1608                 JUCE\_VIDEO\_LOG (\textcolor{stringliteral}{"{}Audio focus gained"{}});}
\DoxyCodeLine{1609             \textcolor{keywordflow}{else}}
\DoxyCodeLine{1610                 JUCE\_VIDEO\_LOG (\textcolor{stringliteral}{"{}Audio focus lost"{}});}
\DoxyCodeLine{1611 }
\DoxyCodeLine{1612             \textcolor{keywordflow}{if} (changeType != audioFocusGain)}
\DoxyCodeLine{1613             \{}
\DoxyCodeLine{1614                 \textcolor{keywordflow}{if} (\mbox{\hyperlink{struct_video_component_1_1_pimpl_a5bb75c9361b7eb71d97935bf60481166}{isPlaying}}())}
\DoxyCodeLine{1615                 \{}
\DoxyCodeLine{1616                     JUCE\_VIDEO\_LOG (\textcolor{stringliteral}{"{}Received a request to abandon audio focus. Stopping playback..."{}});}
\DoxyCodeLine{1617                     \mbox{\hyperlink{struct_video_component_1_1_pimpl_aab986910175fd243e55ea209ef28f4cf}{stop}}();}
\DoxyCodeLine{1618                 \}}
\DoxyCodeLine{1619 }
\DoxyCodeLine{1620                 abandonAudioFocus();}
\DoxyCodeLine{1621             \}}
\DoxyCodeLine{1622         \}}
\DoxyCodeLine{1623 }
\DoxyCodeLine{1624         \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{1625         \textcolor{keywordtype}{void} playbackStarted()}
\DoxyCodeLine{1626         \{}
\DoxyCodeLine{1627             owner.playbackStarted();}
\DoxyCodeLine{1628         \}}
\DoxyCodeLine{1629 }
\DoxyCodeLine{1630         \textcolor{keywordtype}{void} playbackStopped()}
\DoxyCodeLine{1631         \{}
\DoxyCodeLine{1632             owner.playbackStopped();}
\DoxyCodeLine{1633         \}}
\DoxyCodeLine{1634 }
\DoxyCodeLine{1635         \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{1636         \textcolor{keywordtype}{void} resetState()}
\DoxyCodeLine{1637         \{}
\DoxyCodeLine{1638             usesBuffering = \textcolor{keyword}{false};}
\DoxyCodeLine{1639             bufferedRegions.\mbox{\hyperlink{class_sparse_set_a7d2fc6674ce3c6c0c52d720d88752339}{clear}}();}
\DoxyCodeLine{1640             playerBufferingInProgress = \textcolor{keyword}{false};}
\DoxyCodeLine{1641 }
\DoxyCodeLine{1642             pendingSeekRequest = \textcolor{keyword}{false};}
\DoxyCodeLine{1643 }
\DoxyCodeLine{1644             playSpeedMult = 1.0;}
\DoxyCodeLine{1645             hasAudioFocus = \textcolor{keyword}{false};}
\DoxyCodeLine{1646         \}}
\DoxyCodeLine{1647 }
\DoxyCodeLine{1648         \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{1649         \textcolor{keyword}{static} LocalRef<jobject> getAudioAttributes()}
\DoxyCodeLine{1650         \{}
\DoxyCodeLine{1651             \textcolor{comment}{// Video requires SDK version 21 or higher}}
\DoxyCodeLine{1652             \mbox{\hyperlink{group__juce__core-system_ga1f96ab6751237979b907a54f52a7296a}{jassert}} (\mbox{\hyperlink{namespacejuce_a5f3f814b10a0af4c725415ceacdfde7c}{getAndroidSDKVersion}}() >= 21);}
\DoxyCodeLine{1653 }
\DoxyCodeLine{1654             \textcolor{keyword}{auto}* env = \mbox{\hyperlink{namespacejuce_a4f3642abf35d22b0f69c4361d90ce667}{getEnv}}();}
\DoxyCodeLine{1655 }
\DoxyCodeLine{1656             \textcolor{keyword}{auto} audioAttribsBuilder = LocalRef<jobject> (env-\/>NewObject (AndroidAudioAttributesBuilder,}
\DoxyCodeLine{1657                                                                           AndroidAudioAttributesBuilder.constructor));}
\DoxyCodeLine{1658             \textcolor{keyword}{static} \textcolor{keyword}{constexpr} jint contentTypeMovie = 3;}
\DoxyCodeLine{1659             \textcolor{keyword}{static} \textcolor{keyword}{constexpr} jint usageMedia = 1;}
\DoxyCodeLine{1660 }
\DoxyCodeLine{1661             LocalRef<jobject> (env-\/>CallObjectMethod (audioAttribsBuilder, AndroidAudioAttributesBuilder.setContentType, contentTypeMovie));}
\DoxyCodeLine{1662             LocalRef<jobject> (env-\/>CallObjectMethod (audioAttribsBuilder, AndroidAudioAttributesBuilder.setUsage, usageMedia));}
\DoxyCodeLine{1663 }
\DoxyCodeLine{1664             \textcolor{keywordflow}{return} LocalRef<jobject> (env-\/>CallObjectMethod (audioAttribsBuilder, AndroidAudioAttributesBuilder.build));}
\DoxyCodeLine{1665         \}}
\DoxyCodeLine{1666     \};}
\DoxyCodeLine{1667 }
\DoxyCodeLine{1668 \textcolor{preprocessor}{   \#if JUCE\_SYNC\_VIDEO\_VOLUME\_WITH\_OS\_MEDIA\_VOLUME}}
\DoxyCodeLine{1669     \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{1670     \textcolor{keyword}{class }SystemVolumeListener}
\DoxyCodeLine{1671     \{}
\DoxyCodeLine{1672     \textcolor{keyword}{public}:}
\DoxyCodeLine{1673         SystemVolumeListener (\mbox{\hyperlink{struct_video_component_1_1_pimpl_aa84bfd6ad60b925ac1266e1202816911}{Pimpl}}\& ownerToUse)}
\DoxyCodeLine{1674             : owner (ownerToUse),}
\DoxyCodeLine{1675               nativeObserver (createCallbackObject())}
\DoxyCodeLine{1676         \{}
\DoxyCodeLine{1677             \mbox{\hyperlink{class_component_a6f956f690d72256838146c7dfe99bc0e}{setEnabled}} (\textcolor{keyword}{true});}
\DoxyCodeLine{1678         \}}
\DoxyCodeLine{1679 }
\DoxyCodeLine{1680         \string~SystemVolumeListener()}
\DoxyCodeLine{1681         \{}
\DoxyCodeLine{1682             \mbox{\hyperlink{class_component_a6f956f690d72256838146c7dfe99bc0e}{setEnabled}} (\textcolor{keyword}{false});}
\DoxyCodeLine{1683         \}}
\DoxyCodeLine{1684     \textcolor{keyword}{private}:}
\DoxyCodeLine{1685         \mbox{\hyperlink{struct_video_component_1_1_pimpl_aa84bfd6ad60b925ac1266e1202816911}{Pimpl}}\& owner;}
\DoxyCodeLine{1686         GlobalRef nativeObserver;}
\DoxyCodeLine{1687 }
\DoxyCodeLine{1688         \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{1689 \textcolor{preprocessor}{        \#define JNI\_CLASS\_MEMBERS(METHOD, STATICMETHOD, FIELD, STATICFIELD, CALLBACK) \(\backslash\)}}
\DoxyCodeLine{1690 \textcolor{preprocessor}{            METHOD (constructor, "{}<init>"{}},     "{}(Landroid/app/Activity;J)V"{}) \(\backslash\)}
\DoxyCodeLine{1691             METHOD (setEnabled,  "{}setEnabled"{}, "{}(Z)V"{})                  \(\backslash\)}
\DoxyCodeLine{1692             CALLBACK (systemVolumeChangedCallback, "{}mediaSessionSystemVolumeChanged"{}, "{}(J)V"{})}
\DoxyCodeLine{1693 }
\DoxyCodeLine{1694         \mbox{\hyperlink{juce__android___j_n_i_helpers_8h_aee2899905ecbbb12e9c3d56d31289078}{DECLARE\_JNI\_CLASS\_WITH\_MIN\_SDK}} (SystemVolumeObserver, \textcolor{stringliteral}{"{}com/rmsl/juce/SystemVolumeObserver"{}}, 21)}
\DoxyCodeLine{1695         \textcolor{preprocessor}{\#undef JNI\_CLASS\_MEMBERS}}
\DoxyCodeLine{1696 }
\DoxyCodeLine{1697 }
\DoxyCodeLine{1698         LocalRef<jobject> createCallbackObject()}
\DoxyCodeLine{1699         \{}
\DoxyCodeLine{1700             \textcolor{keywordflow}{return} LocalRef<jobject> (\mbox{\hyperlink{namespacejuce_a4f3642abf35d22b0f69c4361d90ce667}{getEnv}}()-\/>NewObject (SystemVolumeObserver,}
\DoxyCodeLine{1701                                                            SystemVolumeObserver.constructor,}
\DoxyCodeLine{1702                                                            \mbox{\hyperlink{namespacejuce_a4ddd0805ae69f3d2ebf3b146c2dc5228}{getCurrentActivity}}().\mbox{\hyperlink{namespacedsp_ab70e205bff92b09aa297e479676b5bc8}{get}}(),}
\DoxyCodeLine{1703                                                            \textcolor{keyword}{reinterpret\_cast<}jlong\textcolor{keyword}{>} (\textcolor{keyword}{this})));}
\DoxyCodeLine{1704         \}}
\DoxyCodeLine{1705     \textcolor{keyword}{public}:}
\DoxyCodeLine{1706         \textcolor{keywordtype}{void} \mbox{\hyperlink{class_component_a6f956f690d72256838146c7dfe99bc0e}{setEnabled}} (\textcolor{keywordtype}{bool} shouldBeEnabled)}
\DoxyCodeLine{1707         \{}
\DoxyCodeLine{1708             \mbox{\hyperlink{namespacejuce_a4f3642abf35d22b0f69c4361d90ce667}{getEnv}}()-\/>CallVoidMethod (nativeObserver, SystemVolumeObserver.setEnabled, shouldBeEnabled);}
\DoxyCodeLine{1709 }
\DoxyCodeLine{1710             \textcolor{comment}{// Send first notification instantly to ensure sync.}}
\DoxyCodeLine{1711             \textcolor{keywordflow}{if} (shouldBeEnabled)}
\DoxyCodeLine{1712                 systemVolumeChanged();}
\DoxyCodeLine{1713         \}}
\DoxyCodeLine{1714 }
\DoxyCodeLine{1715     \textcolor{keyword}{private}:}
\DoxyCodeLine{1716         \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{1717         \textcolor{keywordtype}{void} systemVolumeChanged()}
\DoxyCodeLine{1718         \{}
\DoxyCodeLine{1719             \mbox{\hyperlink{class_message_manager_acfe6da5271c2ab76fdb0414b235ed095}{MessageManager::callAsync}} ([weakThis = \mbox{\hyperlink{class_weak_reference}{WeakReference<SystemVolumeListener>}} \{ \textcolor{keyword}{this} \}]() \textcolor{keyword}{mutable}}
\DoxyCodeLine{1720                                        \{}
\DoxyCodeLine{1721                                            \textcolor{keywordflow}{if} (weakThis == \textcolor{keyword}{nullptr})}
\DoxyCodeLine{1722                                                \textcolor{keywordflow}{return};}
\DoxyCodeLine{1723 }
\DoxyCodeLine{1724                                            \textcolor{keywordflow}{if} (weakThis-\/>owner.owner.onGlobalMediaVolumeChanged != \textcolor{keyword}{nullptr})}
\DoxyCodeLine{1725                                                weakThis-\/>owner.owner.onGlobalMediaVolumeChanged();}
\DoxyCodeLine{1726                                        \});}
\DoxyCodeLine{1727 }
\DoxyCodeLine{1728         \}}
\DoxyCodeLine{1729 }
\DoxyCodeLine{1730         \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{1731         \textcolor{keyword}{static} \textcolor{keywordtype}{void} systemVolumeChangedCallback (JNIEnv*, jobject, jlong host)}
\DoxyCodeLine{1732         \{}
\DoxyCodeLine{1733             \textcolor{keywordflow}{if} (\textcolor{keyword}{auto}* myself = \textcolor{keyword}{reinterpret\_cast<}VideoComponent::Pimpl::SystemVolumeListener*\textcolor{keyword}{>} (host))}
\DoxyCodeLine{1734                 myself-\/>systemVolumeChanged();}
\DoxyCodeLine{1735         \}}
\DoxyCodeLine{1736 }
\DoxyCodeLine{1737         \mbox{\hyperlink{group__juce__core-memory_ga557fa9dbf924a150e27f0cf0dad368b0}{JUCE\_DECLARE\_WEAK\_REFERENCEABLE}} (SystemVolumeListener)}
\DoxyCodeLine{1738     \};}
\DoxyCodeLine{1739 }
\DoxyCodeLine{1740     \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{1741     \mbox{\hyperlink{class_video_component}{VideoComponent}}\& owner;}
\DoxyCodeLine{1742 }
\DoxyCodeLine{1743     MediaSession mediaSession;}
\DoxyCodeLine{1744     GlobalRef activityLifeListener;}
\DoxyCodeLine{1745 \textcolor{preprocessor}{   \#if JUCE\_SYNC\_VIDEO\_VOLUME\_WITH\_OS\_MEDIA\_VOLUME}}
\DoxyCodeLine{1746     SystemVolumeListener systemVolumeListener;}
\DoxyCodeLine{1747 \textcolor{preprocessor}{   \#endif}}
\DoxyCodeLine{1748     GlobalRef surfaceHolderCallback;}
\DoxyCodeLine{1749 }
\DoxyCodeLine{1750     \mbox{\hyperlink{namespacejuce_a7959b0b488fde11032d8151bf10669a4}{std::function}}<\mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} (\textcolor{keyword}{const} \mbox{\hyperlink{class_u_r_l}{URL}}\&, \mbox{\hyperlink{class_result}{Result}})> loadFinishedCallback;}
\DoxyCodeLine{1751 }
\DoxyCodeLine{1752     \textcolor{keywordtype}{bool} wasOpen = \textcolor{keyword}{false};}
\DoxyCodeLine{1753 }
\DoxyCodeLine{1754     \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{1755     \textcolor{keywordtype}{void} loadFinished()}
\DoxyCodeLine{1756     \{}
\DoxyCodeLine{1757         owner.resized();}
\DoxyCodeLine{1758 }
\DoxyCodeLine{1759         \textcolor{keywordflow}{if} (loadFinishedCallback != \textcolor{keyword}{nullptr})}
\DoxyCodeLine{1760         \{}
\DoxyCodeLine{1761             loadFinishedCallback (\mbox{\hyperlink{struct_video_component_1_1_pimpl_a66ef9a9d2fcfac60a19436f489d12d14}{currentURL}}, \mbox{\hyperlink{class_result_af20c96ffa94adac90e10a8395d8c8852}{Result::ok}}());}
\DoxyCodeLine{1762             loadFinishedCallback = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{1763         \}}
\DoxyCodeLine{1764     \}}
\DoxyCodeLine{1765 }
\DoxyCodeLine{1766     \textcolor{keywordtype}{void} closeVideoFinished()}
\DoxyCodeLine{1767     \{}
\DoxyCodeLine{1768         owner.resized();}
\DoxyCodeLine{1769     \}}
\DoxyCodeLine{1770 }
\DoxyCodeLine{1771     \textcolor{keywordtype}{void} errorOccurred (\textcolor{keyword}{const} \mbox{\hyperlink{class_string}{String}}\& errorMessage)}
\DoxyCodeLine{1772     \{}
\DoxyCodeLine{1773         \textcolor{keywordflow}{if} (owner.\mbox{\hyperlink{class_video_component_a7f9bdd9fc7925b2cb804bc44352da62c}{onErrorOccurred}} != \textcolor{keyword}{nullptr})}
\DoxyCodeLine{1774             owner.\mbox{\hyperlink{class_video_component_a7f9bdd9fc7925b2cb804bc44352da62c}{onErrorOccurred}} (errorMessage);}
\DoxyCodeLine{1775     \}}
\DoxyCodeLine{1776 }
\DoxyCodeLine{1777     \textcolor{keywordtype}{void} playbackStarted()}
\DoxyCodeLine{1778     \{}
\DoxyCodeLine{1779         \textcolor{keywordflow}{if} (owner.\mbox{\hyperlink{class_video_component_a50b3c539d0356679af9aa797c767fe12}{onPlaybackStarted}} != \textcolor{keyword}{nullptr})}
\DoxyCodeLine{1780             owner.\mbox{\hyperlink{class_video_component_a50b3c539d0356679af9aa797c767fe12}{onPlaybackStarted}}();}
\DoxyCodeLine{1781     \}}
\DoxyCodeLine{1782 }
\DoxyCodeLine{1783     \textcolor{keywordtype}{void} playbackStopped()}
\DoxyCodeLine{1784     \{}
\DoxyCodeLine{1785         \textcolor{keywordflow}{if} (owner.\mbox{\hyperlink{class_video_component_a79612bf6c51b83026eafcf1587307b3f}{onPlaybackStopped}} != \textcolor{keyword}{nullptr})}
\DoxyCodeLine{1786             owner.\mbox{\hyperlink{class_video_component_a79612bf6c51b83026eafcf1587307b3f}{onPlaybackStopped}}();}
\DoxyCodeLine{1787     \}}
\DoxyCodeLine{1788 }
\DoxyCodeLine{1789     \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{1790     \textcolor{keywordtype}{void} surfaceChanged (LocalRef<jobject> holder, \textcolor{keywordtype}{int} \textcolor{comment}{/*format*/}, \textcolor{keywordtype}{int} \textcolor{comment}{/*width*/}, \textcolor{keywordtype}{int} \textcolor{comment}{/*height*/})\textcolor{keyword}{ override}}
\DoxyCodeLine{1791 \textcolor{keyword}{    }\{}
\DoxyCodeLine{1792         mediaSession.setDisplay (holder);}
\DoxyCodeLine{1793     \}}
\DoxyCodeLine{1794 }
\DoxyCodeLine{1795     \textcolor{keywordtype}{void} surfaceDestroyed (LocalRef<jobject> \textcolor{comment}{/*holder*/})\textcolor{keyword}{ override}}
\DoxyCodeLine{1796 \textcolor{keyword}{    }\{}
\DoxyCodeLine{1797         mediaSession.setDisplay (LocalRef<jobject>());}
\DoxyCodeLine{1798     \}}
\DoxyCodeLine{1799 }
\DoxyCodeLine{1800     \textcolor{keywordtype}{void} surfaceCreated (LocalRef<jobject> \textcolor{comment}{/*holder*/})\textcolor{keyword}{ override}}
\DoxyCodeLine{1801 \textcolor{keyword}{    }\{}
\DoxyCodeLine{1802     \}}
\DoxyCodeLine{1803 }
\DoxyCodeLine{1804     \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{1805     \textcolor{keywordtype}{void} onActivityPaused (jobject)\textcolor{keyword}{ override}}
\DoxyCodeLine{1806 \textcolor{keyword}{    }\{}
\DoxyCodeLine{1807         wasOpen = \mbox{\hyperlink{struct_video_component_1_1_pimpl_ae4196459a308062879eed776c0282fb3}{isOpen}}();}
\DoxyCodeLine{1808 }
\DoxyCodeLine{1809         \textcolor{keywordflow}{if} (! wasOpen)}
\DoxyCodeLine{1810             \textcolor{keywordflow}{return};}
\DoxyCodeLine{1811 }
\DoxyCodeLine{1812         JUCE\_VIDEO\_LOG (\textcolor{stringliteral}{"{}App paused, releasing media player..."{}});}
\DoxyCodeLine{1813 }
\DoxyCodeLine{1814         mediaSession.storeState();}
\DoxyCodeLine{1815         mediaSession.closeVideo();}
\DoxyCodeLine{1816 }
\DoxyCodeLine{1817 \textcolor{preprocessor}{       \#if JUCE\_SYNC\_VIDEO\_VOLUME\_WITH\_OS\_MEDIA\_VOLUME}}
\DoxyCodeLine{1818         systemVolumeListener.setEnabled (\textcolor{keyword}{false});}
\DoxyCodeLine{1819 \textcolor{preprocessor}{       \#endif}}
\DoxyCodeLine{1820     \}}
\DoxyCodeLine{1821 }
\DoxyCodeLine{1822     \textcolor{keywordtype}{void} onActivityResumed (jobject)\textcolor{keyword}{ override}}
\DoxyCodeLine{1823 \textcolor{keyword}{    }\{}
\DoxyCodeLine{1824         \textcolor{keywordflow}{if} (! wasOpen)}
\DoxyCodeLine{1825             \textcolor{keywordflow}{return};}
\DoxyCodeLine{1826 }
\DoxyCodeLine{1827         JUCE\_VIDEO\_LOG (\textcolor{stringliteral}{"{}App resumed, restoring media player..."{}});}
\DoxyCodeLine{1828 }
\DoxyCodeLine{1829         \mbox{\hyperlink{struct_video_component_1_1_pimpl_a9ef59ce888292e13332107b41acb5d6e}{loadAsync}} (\mbox{\hyperlink{struct_video_component_1_1_pimpl_a66ef9a9d2fcfac60a19436f489d12d14}{currentURL}}, [\textcolor{keyword}{this}] (\textcolor{keyword}{const} \mbox{\hyperlink{class_u_r_l}{URL}}\&, \mbox{\hyperlink{class_result}{Result}} \mbox{\hyperlink{namespacegl_aaa813f59532257ed092c4fad1b443fa5}{r}})}
\DoxyCodeLine{1830                    \{}
\DoxyCodeLine{1831                        \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacegl_aaa813f59532257ed092c4fad1b443fa5}{r}}.wasOk())}
\DoxyCodeLine{1832                            mediaSession.restoreState();}
\DoxyCodeLine{1833                    \});}
\DoxyCodeLine{1834 }
\DoxyCodeLine{1835 \textcolor{preprocessor}{       \#if JUCE\_SYNC\_VIDEO\_VOLUME\_WITH\_OS\_MEDIA\_VOLUME}}
\DoxyCodeLine{1836         systemVolumeListener.setEnabled (\textcolor{keyword}{true});}
\DoxyCodeLine{1837 \textcolor{preprocessor}{       \#endif}}
\DoxyCodeLine{1838     \}}
\DoxyCodeLine{1839 }
\DoxyCodeLine{1840     \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{1841 \textcolor{preprocessor}{   \#endif}}
\DoxyCodeLine{1842 }
\DoxyCodeLine{1843     \mbox{\hyperlink{group__juce__core-system_ga851b02724a8158a7f746c66b5758b3dd}{JUCE\_DECLARE\_NON\_COPYABLE\_WITH\_LEAK\_DETECTOR}} (\mbox{\hyperlink{struct_video_component_1_1_pimpl_aa84bfd6ad60b925ac1266e1202816911}{Pimpl}})}
\DoxyCodeLine{1844 \};}
\DoxyCodeLine{1845 }
\DoxyCodeLine{1846 \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{1847 \textcolor{keyword}{constexpr} VideoComponent::Pimpl::MediaSession::Player::StateInfo VideoComponent::Pimpl::MediaSession::Player::stateInfos[];}
\DoxyCodeLine{1848 }
\DoxyCodeLine{1849 \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{1850 VideoComponent::Pimpl::MediaSession::AndroidMediaSessionCallback\_Class VideoComponent::Pimpl::MediaSession::AndroidMediaSessionCallback;}
\DoxyCodeLine{1851 VideoComponent::Pimpl::MediaSession::Controller::AndroidMediaControllerCallback\_Class VideoComponent::Pimpl::MediaSession::Controller::AndroidMediaControllerCallback;}
\DoxyCodeLine{1852 VideoComponent::Pimpl::SystemVolumeListener::SystemVolumeObserver\_Class VideoComponent::Pimpl::SystemVolumeListener::SystemVolumeObserver;}

\end{DoxyCode}
