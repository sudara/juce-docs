\hypertarget{juce___smoothed_value_8h_source}{}\doxysection{juce\+\_\+\+Smoothed\+Value.\+h}
\label{juce___smoothed_value_8h_source}\index{build/juce\_audio\_basics/utilities/juce\_SmoothedValue.h@{build/juce\_audio\_basics/utilities/juce\_SmoothedValue.h}}
\mbox{\hyperlink{juce___smoothed_value_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 }
\DoxyCodeLine{5 \textcolor{comment}{/*}}
\DoxyCodeLine{6 \textcolor{comment}{  ==============================================================================}}
\DoxyCodeLine{7 \textcolor{comment}{}}
\DoxyCodeLine{8 \textcolor{comment}{   This file is part of the JUCE library.}}
\DoxyCodeLine{9 \textcolor{comment}{   Copyright (c) 2020 -\/ Raw Material Software Limited}}
\DoxyCodeLine{10 \textcolor{comment}{}}
\DoxyCodeLine{11 \textcolor{comment}{   JUCE is an open source library subject to commercial or open-\/source}}
\DoxyCodeLine{12 \textcolor{comment}{   licensing.}}
\DoxyCodeLine{13 \textcolor{comment}{}}
\DoxyCodeLine{14 \textcolor{comment}{   The code included in this file is provided under the terms of the ISC license}}
\DoxyCodeLine{15 \textcolor{comment}{   http://www.isc.org/downloads/software-\/support-\/policy/isc-\/license. Permission}}
\DoxyCodeLine{16 \textcolor{comment}{   To use, copy, modify, and/or distribute this software for any purpose with or}}
\DoxyCodeLine{17 \textcolor{comment}{   without fee is hereby granted provided that the above copyright notice and}}
\DoxyCodeLine{18 \textcolor{comment}{   this permission notice appear in all copies.}}
\DoxyCodeLine{19 \textcolor{comment}{}}
\DoxyCodeLine{20 \textcolor{comment}{   JUCE IS PROVIDED "{}AS IS"{} WITHOUT ANY WARRANTY, AND ALL WARRANTIES, WHETHER}}
\DoxyCodeLine{21 \textcolor{comment}{   EXPRESSED OR IMPLIED, INCLUDING MERCHANTABILITY AND FITNESS FOR PURPOSE, ARE}}
\DoxyCodeLine{22 \textcolor{comment}{   DISCLAIMED.}}
\DoxyCodeLine{23 \textcolor{comment}{}}
\DoxyCodeLine{24 \textcolor{comment}{  ==============================================================================}}
\DoxyCodeLine{25 \textcolor{comment}{*/}}
\DoxyCodeLine{26 }
\DoxyCodeLine{27 \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{36 \textcolor{comment}{}\textcolor{keyword}{template} <\textcolor{keyword}{typename} SmoothedValueType>}
\DoxyCodeLine{37 \textcolor{keyword}{class }\mbox{\hyperlink{class_smoothed_value_base}{SmoothedValueBase}}}
\DoxyCodeLine{38 \{}
\DoxyCodeLine{39 \textcolor{keyword}{private}:}
\DoxyCodeLine{40     \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{41     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T> \textcolor{keyword}{struct }FloatTypeHelper;}
\DoxyCodeLine{42 }
\DoxyCodeLine{43     \textcolor{keyword}{template} <\textcolor{keyword}{template} <\textcolor{keyword}{typename}> \textcolor{keyword}{class }SmoothedValueClass, \textcolor{keyword}{typename} \mbox{\hyperlink{class_smoothed_value_base_a331eba8c0333698d8bb470b1311d49e4}{FloatType}}>}
\DoxyCodeLine{44     \textcolor{keyword}{struct }FloatTypeHelper <SmoothedValueClass <\mbox{\hyperlink{class_smoothed_value_base_a331eba8c0333698d8bb470b1311d49e4}{FloatType}}>>}
\DoxyCodeLine{45     \{}
\DoxyCodeLine{46         \textcolor{keyword}{using} Type = \mbox{\hyperlink{class_smoothed_value_base_a331eba8c0333698d8bb470b1311d49e4}{FloatType}};}
\DoxyCodeLine{47     \};}
\DoxyCodeLine{48 }
\DoxyCodeLine{49     \textcolor{keyword}{template} <\textcolor{keyword}{template} <\textcolor{keyword}{typename}, \textcolor{keyword}{typename}> \textcolor{keyword}{class }SmoothedValueClass, \textcolor{keyword}{typename} \mbox{\hyperlink{class_smoothed_value_base_a331eba8c0333698d8bb470b1311d49e4}{FloatType}}, \textcolor{keyword}{typename} SmoothingType>}
\DoxyCodeLine{50     \textcolor{keyword}{struct }FloatTypeHelper <SmoothedValueClass <\mbox{\hyperlink{class_smoothed_value_base_a331eba8c0333698d8bb470b1311d49e4}{FloatType}}, SmoothingType>>}
\DoxyCodeLine{51     \{}
\DoxyCodeLine{52         \textcolor{keyword}{using} Type = \mbox{\hyperlink{class_smoothed_value_base_a331eba8c0333698d8bb470b1311d49e4}{FloatType}};}
\DoxyCodeLine{53     \};}
\DoxyCodeLine{54 }
\DoxyCodeLine{55 \textcolor{keyword}{public}:}
\DoxyCodeLine{56     \textcolor{keyword}{using} \mbox{\hyperlink{class_smoothed_value_base_a331eba8c0333698d8bb470b1311d49e4}{FloatType}} = \textcolor{keyword}{typename} FloatTypeHelper<SmoothedValueType>::Type;}
\DoxyCodeLine{57 }
\DoxyCodeLine{58     \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{60 \textcolor{comment}{}    \mbox{\hyperlink{class_smoothed_value_base_a0754f7c8bede0aa4a858ef298685983e}{SmoothedValueBase}}() = \textcolor{keywordflow}{default};}
\DoxyCodeLine{61 }
\DoxyCodeLine{62     \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{64 \textcolor{comment}{}    \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_smoothed_value_base_afadc1bbe590e1fe7e3d06ae17cb95d53}{isSmoothing}}() \mbox{\hyperlink{zconf_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} noexcept                    \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{class_smoothed_value_base_a5428962e91e7745e9e4089bffe97852b}{countdown}} > 0; \}}
\DoxyCodeLine{65 }
\DoxyCodeLine{67     \mbox{\hyperlink{class_smoothed_value_base_a331eba8c0333698d8bb470b1311d49e4}{FloatType}} \mbox{\hyperlink{class_smoothed_value_base_adeebec3764b0dcc6f1a56ffaa0b440e5}{getCurrentValue}}() \mbox{\hyperlink{zconf_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} noexcept           \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{class_smoothed_value_base_a89801c30d19e4a627976d49f43c0a97e}{currentValue}}; \}}
\DoxyCodeLine{68 }
\DoxyCodeLine{69     \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{71 \textcolor{comment}{}    \mbox{\hyperlink{class_smoothed_value_base_a331eba8c0333698d8bb470b1311d49e4}{FloatType}} \mbox{\hyperlink{class_smoothed_value_base_a859197164aed5ede6e304318b050b66d}{getTargetValue}}() \mbox{\hyperlink{zconf_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} noexcept            \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{class_smoothed_value_base_a902690d2718e09c2b34effad5980fe3b}{target}}; \}}
\DoxyCodeLine{72 }
\DoxyCodeLine{76     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_smoothed_value_base_a9f3508cf2b6c49f5f17bfaad6c42e153}{setCurrentAndTargetValue}} (\mbox{\hyperlink{class_smoothed_value_base_a331eba8c0333698d8bb470b1311d49e4}{FloatType}} newValue)}
\DoxyCodeLine{77     \{}
\DoxyCodeLine{78         \mbox{\hyperlink{class_smoothed_value_base_a902690d2718e09c2b34effad5980fe3b}{target}} = \mbox{\hyperlink{class_smoothed_value_base_a89801c30d19e4a627976d49f43c0a97e}{currentValue}} = newValue;}
\DoxyCodeLine{79         \mbox{\hyperlink{class_smoothed_value_base_a5428962e91e7745e9e4089bffe97852b}{countdown}} = 0;}
\DoxyCodeLine{80     \}}
\DoxyCodeLine{81 }
\DoxyCodeLine{82     \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{88 \textcolor{comment}{}    \textcolor{keywordtype}{void} \mbox{\hyperlink{class_smoothed_value_base_abe84c41e1580f857e6d8243d661826cb}{applyGain}} (\mbox{\hyperlink{class_smoothed_value_base_a331eba8c0333698d8bb470b1311d49e4}{FloatType}}* \mbox{\hyperlink{namespacegl_a86d4caaead9cc2b5ad0ad5e23ae0568d}{samples}}, \textcolor{keywordtype}{int} numSamples) \textcolor{keyword}{noexcept}}
\DoxyCodeLine{89     \{}
\DoxyCodeLine{90         \mbox{\hyperlink{group__juce__core-system_ga1f96ab6751237979b907a54f52a7296a}{jassert}} (numSamples >= 0);}
\DoxyCodeLine{91 }
\DoxyCodeLine{92         \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_smoothed_value_base_afadc1bbe590e1fe7e3d06ae17cb95d53}{isSmoothing}}())}
\DoxyCodeLine{93         \{}
\DoxyCodeLine{94             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < numSamples; ++i)}
\DoxyCodeLine{95                 \mbox{\hyperlink{namespacegl_a86d4caaead9cc2b5ad0ad5e23ae0568d}{samples}}[i] *= getNextSmoothedValue();}
\DoxyCodeLine{96         \}}
\DoxyCodeLine{97         \textcolor{keywordflow}{else}}
\DoxyCodeLine{98         \{}
\DoxyCodeLine{99             FloatVectorOperations::multiply (\mbox{\hyperlink{namespacegl_a86d4caaead9cc2b5ad0ad5e23ae0568d}{samples}}, \mbox{\hyperlink{class_smoothed_value_base_a902690d2718e09c2b34effad5980fe3b}{target}}, numSamples);}
\DoxyCodeLine{100         \}}
\DoxyCodeLine{101     \}}
\DoxyCodeLine{102 }
\DoxyCodeLine{109     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_smoothed_value_base_a0db76dbff83ab8e797b8e3e4ffa6e9e1}{applyGain}} (\mbox{\hyperlink{class_smoothed_value_base_a331eba8c0333698d8bb470b1311d49e4}{FloatType}}* samplesOut, \textcolor{keyword}{const} \mbox{\hyperlink{class_smoothed_value_base_a331eba8c0333698d8bb470b1311d49e4}{FloatType}}* samplesIn, \textcolor{keywordtype}{int} numSamples) \textcolor{keyword}{noexcept}}
\DoxyCodeLine{110     \{}
\DoxyCodeLine{111         \mbox{\hyperlink{group__juce__core-system_ga1f96ab6751237979b907a54f52a7296a}{jassert}} (numSamples >= 0);}
\DoxyCodeLine{112 }
\DoxyCodeLine{113         \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_smoothed_value_base_afadc1bbe590e1fe7e3d06ae17cb95d53}{isSmoothing}}())}
\DoxyCodeLine{114         \{}
\DoxyCodeLine{115             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < numSamples; ++i)}
\DoxyCodeLine{116                 samplesOut[i] = samplesIn[i] * getNextSmoothedValue();}
\DoxyCodeLine{117         \}}
\DoxyCodeLine{118         \textcolor{keywordflow}{else}}
\DoxyCodeLine{119         \{}
\DoxyCodeLine{120             FloatVectorOperations::multiply (samplesOut, samplesIn, \mbox{\hyperlink{class_smoothed_value_base_a902690d2718e09c2b34effad5980fe3b}{target}}, numSamples);}
\DoxyCodeLine{121         \}}
\DoxyCodeLine{122     \}}
\DoxyCodeLine{123 }
\DoxyCodeLine{125     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_smoothed_value_base_af4a8c2b5a79277406ac6bc2d138efc78}{applyGain}} (\mbox{\hyperlink{class_audio_buffer}{AudioBuffer<FloatType>}}\& buffer, \textcolor{keywordtype}{int} numSamples) \textcolor{keyword}{noexcept}}
\DoxyCodeLine{126     \{}
\DoxyCodeLine{127         \mbox{\hyperlink{group__juce__core-system_ga1f96ab6751237979b907a54f52a7296a}{jassert}} (numSamples >= 0);}
\DoxyCodeLine{128 }
\DoxyCodeLine{129         \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_smoothed_value_base_afadc1bbe590e1fe7e3d06ae17cb95d53}{isSmoothing}}())}
\DoxyCodeLine{130         \{}
\DoxyCodeLine{131             \textcolor{keywordflow}{if} (buffer.getNumChannels() == 1)}
\DoxyCodeLine{132             \{}
\DoxyCodeLine{133                 \textcolor{keyword}{auto}* \mbox{\hyperlink{namespacegl_a86d4caaead9cc2b5ad0ad5e23ae0568d}{samples}} = buffer.getWritePointer (0);}
\DoxyCodeLine{134 }
\DoxyCodeLine{135                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < numSamples; ++i)}
\DoxyCodeLine{136                     \mbox{\hyperlink{namespacegl_a86d4caaead9cc2b5ad0ad5e23ae0568d}{samples}}[i] *= getNextSmoothedValue();}
\DoxyCodeLine{137             \}}
\DoxyCodeLine{138             \textcolor{keywordflow}{else}}
\DoxyCodeLine{139             \{}
\DoxyCodeLine{140                 \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} i = 0; i < numSamples; ++i)}
\DoxyCodeLine{141                 \{}
\DoxyCodeLine{142                     \textcolor{keyword}{auto} gain = getNextSmoothedValue();}
\DoxyCodeLine{143 }
\DoxyCodeLine{144                     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} channel = 0; channel < buffer.getNumChannels(); channel++)}
\DoxyCodeLine{145                         buffer.setSample (channel, i, buffer.getSample (channel, i) * gain);}
\DoxyCodeLine{146                 \}}
\DoxyCodeLine{147             \}}
\DoxyCodeLine{148         \}}
\DoxyCodeLine{149         \textcolor{keywordflow}{else}}
\DoxyCodeLine{150         \{}
\DoxyCodeLine{151             buffer.applyGain (0, numSamples, \mbox{\hyperlink{class_smoothed_value_base_a902690d2718e09c2b34effad5980fe3b}{target}});}
\DoxyCodeLine{152         \}}
\DoxyCodeLine{153     \}}
\DoxyCodeLine{154 }
\DoxyCodeLine{155 \textcolor{keyword}{private}:}
\DoxyCodeLine{156     \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{157     \mbox{\hyperlink{class_smoothed_value_base_a331eba8c0333698d8bb470b1311d49e4}{FloatType}} getNextSmoothedValue() noexcept}
\DoxyCodeLine{158     \{}
\DoxyCodeLine{159         \textcolor{keywordflow}{return} \textcolor{keyword}{static\_cast <}SmoothedValueType*\textcolor{keyword}{>} (\textcolor{keyword}{this})-\/>getNextValue();}
\DoxyCodeLine{160     \}}
\DoxyCodeLine{161 }
\DoxyCodeLine{162 \textcolor{keyword}{protected}:}
\DoxyCodeLine{163     \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{164     \mbox{\hyperlink{class_smoothed_value_base_a331eba8c0333698d8bb470b1311d49e4}{FloatType}} \mbox{\hyperlink{class_smoothed_value_base_a89801c30d19e4a627976d49f43c0a97e}{currentValue}} = 0;}
\DoxyCodeLine{165     \mbox{\hyperlink{class_smoothed_value_base_a331eba8c0333698d8bb470b1311d49e4}{FloatType}} \mbox{\hyperlink{class_smoothed_value_base_a902690d2718e09c2b34effad5980fe3b}{target}} = \mbox{\hyperlink{class_smoothed_value_base_a89801c30d19e4a627976d49f43c0a97e}{currentValue}};}
\DoxyCodeLine{166     \textcolor{keywordtype}{int} \mbox{\hyperlink{class_smoothed_value_base_a5428962e91e7745e9e4089bffe97852b}{countdown}} = 0;}
\DoxyCodeLine{167 \};}
\DoxyCodeLine{168 }
\DoxyCodeLine{169 \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{179 \textcolor{comment}{}\textcolor{keyword}{namespace }\mbox{\hyperlink{namespace_value_smoothing_types}{ValueSmoothingTypes}}}
\DoxyCodeLine{180 \{}
\DoxyCodeLine{186     \textcolor{keyword}{struct }\mbox{\hyperlink{struct_value_smoothing_types_1_1_linear}{Linear}} \{\};}
\DoxyCodeLine{187 }
\DoxyCodeLine{193     \textcolor{keyword}{struct }\mbox{\hyperlink{struct_value_smoothing_types_1_1_multiplicative}{Multiplicative}} \{\};}
\DoxyCodeLine{194 \}}
\DoxyCodeLine{195 }
\DoxyCodeLine{196 \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{226 \textcolor{comment}{}\textcolor{keyword}{template} <\textcolor{keyword}{typename} FloatType, \textcolor{keyword}{typename} SmoothingType = ValueSmoothingTypes::Linear>}
\DoxyCodeLine{227 \textcolor{keyword}{class }\mbox{\hyperlink{class_smoothed_value}{SmoothedValue}}   : \textcolor{keyword}{public} \mbox{\hyperlink{class_smoothed_value_base}{SmoothedValueBase}} <SmoothedValue <FloatType, SmoothingType>>}
\DoxyCodeLine{228 \{}
\DoxyCodeLine{229 \textcolor{keyword}{public}:}
\DoxyCodeLine{230     \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{232 \textcolor{comment}{}    \mbox{\hyperlink{class_smoothed_value_a433cc947f0d22a1a559069030ee873f6}{SmoothedValue}}() noexcept}
\DoxyCodeLine{233         : \mbox{\hyperlink{class_smoothed_value}{SmoothedValue}} ((\mbox{\hyperlink{class_smoothed_value_base_a331eba8c0333698d8bb470b1311d49e4}{FloatType}}) (\mbox{\hyperlink{namespacestd}{std}}::is\_same<SmoothingType, \mbox{\hyperlink{namespace_value_smoothing_types}{ValueSmoothingTypes}}::Linear>::\mbox{\hyperlink{namespacegl_ad24be0b39bf5b7d31f7c100de8508670}{value}} ? 0 : 1))}
\DoxyCodeLine{234     \{}
\DoxyCodeLine{235     \}}
\DoxyCodeLine{236 }
\DoxyCodeLine{238     \mbox{\hyperlink{class_smoothed_value_a5d4b0080ef90517b32bbeacc13bc6f7d}{SmoothedValue}} (\mbox{\hyperlink{class_smoothed_value_base_a331eba8c0333698d8bb470b1311d49e4}{FloatType}} initialValue) \textcolor{keyword}{noexcept}}
\DoxyCodeLine{239     \{}
\DoxyCodeLine{240         \textcolor{comment}{// Multiplicative smoothed values cannot ever reach 0!}}
\DoxyCodeLine{241         \mbox{\hyperlink{group__juce__core-system_ga1f96ab6751237979b907a54f52a7296a}{jassert}} (! (\mbox{\hyperlink{namespacegl_ad24be0b39bf5b7d31f7c100de8508670}{std::is\_same<SmoothingType, ValueSmoothingTypes::Multiplicative>::value}} \&\& initialValue == 0));}
\DoxyCodeLine{242 }
\DoxyCodeLine{243         \textcolor{comment}{// Visual Studio can't handle base class initialisation with CRTP}}
\DoxyCodeLine{244         this-\/>\mbox{\hyperlink{class_smoothed_value_base_a89801c30d19e4a627976d49f43c0a97e}{currentValue}} = initialValue;}
\DoxyCodeLine{245         this-\/>\mbox{\hyperlink{class_smoothed_value_base_a902690d2718e09c2b34effad5980fe3b}{target}} = this-\/>\mbox{\hyperlink{class_smoothed_value_base_a89801c30d19e4a627976d49f43c0a97e}{currentValue}};}
\DoxyCodeLine{246     \}}
\DoxyCodeLine{247 }
\DoxyCodeLine{248     \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{253 \textcolor{comment}{}    \textcolor{keywordtype}{void} \mbox{\hyperlink{class_smoothed_value_abf70063c8a4fcedda62a37137ef8e7e6}{reset}} (\textcolor{keywordtype}{double} \mbox{\hyperlink{juce__linux___a_l_s_a_8cpp_a2bd79d2ab2dfb6aeaf75c2878ad30e1f}{sampleRate}}, \textcolor{keywordtype}{double} rampLengthInSeconds) \textcolor{keyword}{noexcept}}
\DoxyCodeLine{254     \{}
\DoxyCodeLine{255         \mbox{\hyperlink{group__juce__core-system_ga1f96ab6751237979b907a54f52a7296a}{jassert}} (\mbox{\hyperlink{juce__linux___a_l_s_a_8cpp_a2bd79d2ab2dfb6aeaf75c2878ad30e1f}{sampleRate}} > 0 \&\& rampLengthInSeconds >= 0);}
\DoxyCodeLine{256         \mbox{\hyperlink{class_smoothed_value_abf70063c8a4fcedda62a37137ef8e7e6}{reset}} ((\textcolor{keywordtype}{int}) std::floor (rampLengthInSeconds * \mbox{\hyperlink{juce__linux___a_l_s_a_8cpp_a2bd79d2ab2dfb6aeaf75c2878ad30e1f}{sampleRate}}));}
\DoxyCodeLine{257     \}}
\DoxyCodeLine{258 }
\DoxyCodeLine{262     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_smoothed_value_a616e5aa5ced10944a77dcf7be35d281a}{reset}} (\textcolor{keywordtype}{int} numSteps) \textcolor{keyword}{noexcept}}
\DoxyCodeLine{263     \{}
\DoxyCodeLine{264         stepsToTarget = numSteps;}
\DoxyCodeLine{265         this-\/>\mbox{\hyperlink{class_smoothed_value_base_a9f3508cf2b6c49f5f17bfaad6c42e153}{setCurrentAndTargetValue}} (this-\/>\mbox{\hyperlink{class_smoothed_value_base_a902690d2718e09c2b34effad5980fe3b}{target}});}
\DoxyCodeLine{266     \}}
\DoxyCodeLine{267 }
\DoxyCodeLine{268     \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{272 \textcolor{comment}{}    \textcolor{keywordtype}{void} \mbox{\hyperlink{class_smoothed_value_a7d25952842d74dc6b61aaaa1872416a3}{setTargetValue}} (FloatType newValue) \textcolor{keyword}{noexcept}}
\DoxyCodeLine{273     \{}
\DoxyCodeLine{274         \textcolor{keywordflow}{if} (newValue == this-\/>\mbox{\hyperlink{class_smoothed_value_base_a902690d2718e09c2b34effad5980fe3b}{target}})}
\DoxyCodeLine{275             \textcolor{keywordflow}{return};}
\DoxyCodeLine{276 }
\DoxyCodeLine{277         \textcolor{keywordflow}{if} (stepsToTarget <= 0)}
\DoxyCodeLine{278         \{}
\DoxyCodeLine{279             this-\/>\mbox{\hyperlink{class_smoothed_value_base_a9f3508cf2b6c49f5f17bfaad6c42e153}{setCurrentAndTargetValue}} (newValue);}
\DoxyCodeLine{280             \textcolor{keywordflow}{return};}
\DoxyCodeLine{281         \}}
\DoxyCodeLine{282 }
\DoxyCodeLine{283         \textcolor{comment}{// Multiplicative smoothed values cannot ever reach 0!}}
\DoxyCodeLine{284         \mbox{\hyperlink{group__juce__core-system_ga1f96ab6751237979b907a54f52a7296a}{jassert}} (! (\mbox{\hyperlink{namespacegl_ad24be0b39bf5b7d31f7c100de8508670}{std::is\_same<SmoothingType, ValueSmoothingTypes::Multiplicative>::value}} \&\& newValue == 0));}
\DoxyCodeLine{285 }
\DoxyCodeLine{286         this-\/>\mbox{\hyperlink{class_smoothed_value_base_a902690d2718e09c2b34effad5980fe3b}{target}} = newValue;}
\DoxyCodeLine{287         this-\/>\mbox{\hyperlink{class_smoothed_value_base_a5428962e91e7745e9e4089bffe97852b}{countdown}} = stepsToTarget;}
\DoxyCodeLine{288 }
\DoxyCodeLine{289         setStepSize();}
\DoxyCodeLine{290     \}}
\DoxyCodeLine{291 }
\DoxyCodeLine{292     \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{296 \textcolor{comment}{}    \mbox{\hyperlink{class_smoothed_value_base_a331eba8c0333698d8bb470b1311d49e4}{FloatType}} \mbox{\hyperlink{class_smoothed_value_a4109115baa4d95ce759ae09a53981e79}{getNextValue}}() noexcept}
\DoxyCodeLine{297     \{}
\DoxyCodeLine{298         \textcolor{keywordflow}{if} (! this-\/>\mbox{\hyperlink{class_smoothed_value_base_afadc1bbe590e1fe7e3d06ae17cb95d53}{isSmoothing}}())}
\DoxyCodeLine{299             \textcolor{keywordflow}{return} this-\/>\mbox{\hyperlink{class_smoothed_value_base_a902690d2718e09c2b34effad5980fe3b}{target}};}
\DoxyCodeLine{300 }
\DoxyCodeLine{301         -\/-\/(this-\/>\mbox{\hyperlink{class_smoothed_value_base_a5428962e91e7745e9e4089bffe97852b}{countdown}});}
\DoxyCodeLine{302 }
\DoxyCodeLine{303         \textcolor{keywordflow}{if} (this-\/>\mbox{\hyperlink{class_smoothed_value_base_afadc1bbe590e1fe7e3d06ae17cb95d53}{isSmoothing}}())}
\DoxyCodeLine{304             setNextValue();}
\DoxyCodeLine{305         \textcolor{keywordflow}{else}}
\DoxyCodeLine{306             this-\/>\mbox{\hyperlink{class_smoothed_value_base_a89801c30d19e4a627976d49f43c0a97e}{currentValue}} = this-\/>\mbox{\hyperlink{class_smoothed_value_base_a902690d2718e09c2b34effad5980fe3b}{target}};}
\DoxyCodeLine{307 }
\DoxyCodeLine{308         \textcolor{keywordflow}{return} this-\/>\mbox{\hyperlink{class_smoothed_value_base_a89801c30d19e4a627976d49f43c0a97e}{currentValue}};}
\DoxyCodeLine{309     \}}
\DoxyCodeLine{310 }
\DoxyCodeLine{311     \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{317 \textcolor{comment}{}    FloatType \mbox{\hyperlink{class_smoothed_value_a424bd397956d650fc188d346b69df888}{skip}} (\textcolor{keywordtype}{int} numSamples) \textcolor{keyword}{noexcept}}
\DoxyCodeLine{318     \{}
\DoxyCodeLine{319         \textcolor{keywordflow}{if} (numSamples >= this-\/>\mbox{\hyperlink{class_smoothed_value_base_a5428962e91e7745e9e4089bffe97852b}{countdown}})}
\DoxyCodeLine{320         \{}
\DoxyCodeLine{321             this-\/>\mbox{\hyperlink{class_smoothed_value_base_a9f3508cf2b6c49f5f17bfaad6c42e153}{setCurrentAndTargetValue}} (this-\/>\mbox{\hyperlink{class_smoothed_value_base_a902690d2718e09c2b34effad5980fe3b}{target}});}
\DoxyCodeLine{322             \textcolor{keywordflow}{return} this-\/>\mbox{\hyperlink{class_smoothed_value_base_a902690d2718e09c2b34effad5980fe3b}{target}};}
\DoxyCodeLine{323         \}}
\DoxyCodeLine{324 }
\DoxyCodeLine{325         skipCurrentValue (numSamples);}
\DoxyCodeLine{326 }
\DoxyCodeLine{327         this-\/>\mbox{\hyperlink{class_smoothed_value_base_a5428962e91e7745e9e4089bffe97852b}{countdown}} -\/= numSamples;}
\DoxyCodeLine{328         \textcolor{keywordflow}{return} this-\/>\mbox{\hyperlink{class_smoothed_value_base_a89801c30d19e4a627976d49f43c0a97e}{currentValue}};}
\DoxyCodeLine{329     \}}
\DoxyCodeLine{330 }
\DoxyCodeLine{331     \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{332 \textcolor{preprocessor}{   \#ifndef DOXYGEN}}
\DoxyCodeLine{341     [[deprecated (\textcolor{stringliteral}{"{}Use setTargetValue and setCurrentAndTargetValue instead."{}})]]}
\DoxyCodeLine{342     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_smoothed_value_a487f05ad4da1e60a72c226ca23e2abe4}{setValue}} (\mbox{\hyperlink{class_smoothed_value_base_a331eba8c0333698d8bb470b1311d49e4}{FloatType}} newValue, \textcolor{keywordtype}{bool} force = \textcolor{keyword}{false}) noexcept}
\DoxyCodeLine{343     \{}
\DoxyCodeLine{344         \textcolor{keywordflow}{if} (force)}
\DoxyCodeLine{345         \{}
\DoxyCodeLine{346             this-\/>\mbox{\hyperlink{class_smoothed_value_base_a9f3508cf2b6c49f5f17bfaad6c42e153}{setCurrentAndTargetValue}} (newValue);}
\DoxyCodeLine{347             \textcolor{keywordflow}{return};}
\DoxyCodeLine{348         \}}
\DoxyCodeLine{349 }
\DoxyCodeLine{350         \mbox{\hyperlink{class_smoothed_value_a7d25952842d74dc6b61aaaa1872416a3}{setTargetValue}} (newValue);}
\DoxyCodeLine{351     \}}
\DoxyCodeLine{352 \textcolor{preprocessor}{   \#endif}}
\DoxyCodeLine{353 }
\DoxyCodeLine{354 \textcolor{keyword}{private}:}
\DoxyCodeLine{355     \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{356     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{357     \textcolor{keyword}{using} LinearVoid = \textcolor{keyword}{typename} \mbox{\hyperlink{namespacegl_ad24be0b39bf5b7d31f7c100de8508670}{std::enable\_if <std::is\_same <T, ValueSmoothingTypes::Linear>::value}}, \textcolor{keywordtype}{void}>\mbox{\hyperlink{namespacegl_aeba9cad8d6b4f72e1da983fe48c14132}{::type}};}
\DoxyCodeLine{358 }
\DoxyCodeLine{359     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{360     \textcolor{keyword}{using} MultiplicativeVoid = \textcolor{keyword}{typename} \mbox{\hyperlink{namespacegl_ad24be0b39bf5b7d31f7c100de8508670}{std::enable\_if <std::is\_same <T, ValueSmoothingTypes::Multiplicative>::value}}, \textcolor{keywordtype}{void}>\mbox{\hyperlink{namespacegl_aeba9cad8d6b4f72e1da983fe48c14132}{::type}};}
\DoxyCodeLine{361 }
\DoxyCodeLine{362     \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{363     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T = SmoothingType>}
\DoxyCodeLine{364     LinearVoid<T> setStepSize() noexcept}
\DoxyCodeLine{365     \{}
\DoxyCodeLine{366         step = (this-\/>\mbox{\hyperlink{class_smoothed_value_base_a902690d2718e09c2b34effad5980fe3b}{target}} -\/ this-\/>\mbox{\hyperlink{class_smoothed_value_base_a89801c30d19e4a627976d49f43c0a97e}{currentValue}}) / (FloatType) this-\/>\mbox{\hyperlink{class_smoothed_value_base_a5428962e91e7745e9e4089bffe97852b}{countdown}};}
\DoxyCodeLine{367     \}}
\DoxyCodeLine{368 }
\DoxyCodeLine{369     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T = SmoothingType>}
\DoxyCodeLine{370     MultiplicativeVoid<T> setStepSize()}
\DoxyCodeLine{371     \{}
\DoxyCodeLine{372         step = std::exp ((std::log (std::abs (this-\/>\mbox{\hyperlink{class_smoothed_value_base_a902690d2718e09c2b34effad5980fe3b}{target}})) -\/ std::log (std::abs (this-\/>\mbox{\hyperlink{class_smoothed_value_base_a89801c30d19e4a627976d49f43c0a97e}{currentValue}}))) / (FloatType) this-\/>\mbox{\hyperlink{class_smoothed_value_base_a5428962e91e7745e9e4089bffe97852b}{countdown}});}
\DoxyCodeLine{373     \}}
\DoxyCodeLine{374 }
\DoxyCodeLine{375     \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{376     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T = SmoothingType>}
\DoxyCodeLine{377     LinearVoid<T> setNextValue() noexcept}
\DoxyCodeLine{378     \{}
\DoxyCodeLine{379         this-\/>\mbox{\hyperlink{class_smoothed_value_base_a89801c30d19e4a627976d49f43c0a97e}{currentValue}} += step;}
\DoxyCodeLine{380     \}}
\DoxyCodeLine{381 }
\DoxyCodeLine{382     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T = SmoothingType>}
\DoxyCodeLine{383     MultiplicativeVoid<T> setNextValue() noexcept}
\DoxyCodeLine{384     \{}
\DoxyCodeLine{385         this-\/>\mbox{\hyperlink{class_smoothed_value_base_a89801c30d19e4a627976d49f43c0a97e}{currentValue}} *= step;}
\DoxyCodeLine{386     \}}
\DoxyCodeLine{387 }
\DoxyCodeLine{388     \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{389     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T = SmoothingType>}
\DoxyCodeLine{390     LinearVoid<T> skipCurrentValue (\textcolor{keywordtype}{int} numSamples) \textcolor{keyword}{noexcept}}
\DoxyCodeLine{391     \{}
\DoxyCodeLine{392         this-\/>\mbox{\hyperlink{class_smoothed_value_base_a89801c30d19e4a627976d49f43c0a97e}{currentValue}} += step * (\mbox{\hyperlink{class_smoothed_value_base_a331eba8c0333698d8bb470b1311d49e4}{FloatType}}) numSamples;}
\DoxyCodeLine{393     \}}
\DoxyCodeLine{394 }
\DoxyCodeLine{395     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T = SmoothingType>}
\DoxyCodeLine{396     MultiplicativeVoid<T> skipCurrentValue (\textcolor{keywordtype}{int} numSamples)}
\DoxyCodeLine{397     \{}
\DoxyCodeLine{398         this-\/>\mbox{\hyperlink{class_smoothed_value_base_a89801c30d19e4a627976d49f43c0a97e}{currentValue}} *= (\mbox{\hyperlink{class_smoothed_value_base_a331eba8c0333698d8bb470b1311d49e4}{FloatType}}) std::pow (step, numSamples);}
\DoxyCodeLine{399     \}}
\DoxyCodeLine{400 }
\DoxyCodeLine{401     \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{402     \mbox{\hyperlink{class_smoothed_value_base_a331eba8c0333698d8bb470b1311d49e4}{FloatType}} step = \mbox{\hyperlink{class_smoothed_value_base_a331eba8c0333698d8bb470b1311d49e4}{FloatType}}();}
\DoxyCodeLine{403     \textcolor{keywordtype}{int} stepsToTarget = 0;}
\DoxyCodeLine{404 \};}
\DoxyCodeLine{405 }
\DoxyCodeLine{406 \textcolor{keyword}{template} <\textcolor{keyword}{typename} FloatType>}
\DoxyCodeLine{407 \textcolor{keyword}{using} \mbox{\hyperlink{class_smoothed_value}{LinearSmoothedValue}} = \mbox{\hyperlink{class_smoothed_value}{SmoothedValue <FloatType, ValueSmoothingTypes::Linear>}};}
\DoxyCodeLine{408 }
\DoxyCodeLine{409 }
\DoxyCodeLine{410 \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{411 \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{412 \textcolor{preprocessor}{\#if JUCE\_UNIT\_TESTS}}
\DoxyCodeLine{413 }
\DoxyCodeLine{414 \textcolor{keyword}{template} <\textcolor{keyword}{class} SmoothedValueType>}
\DoxyCodeLine{415 \textcolor{keyword}{class }CommonSmoothedValueTests  : \textcolor{keyword}{public} \mbox{\hyperlink{class_unit_test}{UnitTest}}}
\DoxyCodeLine{416 \{}
\DoxyCodeLine{417 \textcolor{keyword}{public}:}
\DoxyCodeLine{418     CommonSmoothedValueTests()}
\DoxyCodeLine{419         : \mbox{\hyperlink{class_unit_test_addae2765d33a079b2b6b116994f825da}{UnitTest}} (\textcolor{stringliteral}{"{}CommonSmoothedValueTests"{}}, UnitTestCategories::smoothedValues)}
\DoxyCodeLine{420     \{\}}
\DoxyCodeLine{421 }
\DoxyCodeLine{422     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_unit_test_a1a95d7f09eb80442a8099663dfb92628}{runTest}}()\textcolor{keyword}{ override}}
\DoxyCodeLine{423 \textcolor{keyword}{    }\{}
\DoxyCodeLine{424         \mbox{\hyperlink{class_unit_test_ae21d8c58358819742f379706b6b34753}{beginTest}} (\textcolor{stringliteral}{"{}Initial state"{}});}
\DoxyCodeLine{425         \{}
\DoxyCodeLine{426             SmoothedValueType sv;}
\DoxyCodeLine{427 }
\DoxyCodeLine{428             \textcolor{keyword}{auto} \mbox{\hyperlink{namespacegl_ad24be0b39bf5b7d31f7c100de8508670}{value}} = sv.getCurrentValue();}
\DoxyCodeLine{429             \mbox{\hyperlink{class_unit_test_a580cd21eec8cae621eceb531eec711d3}{expectEquals}} (sv.getTargetValue(), \mbox{\hyperlink{namespacegl_ad24be0b39bf5b7d31f7c100de8508670}{value}});}
\DoxyCodeLine{430 }
\DoxyCodeLine{431             sv.getNextValue();}
\DoxyCodeLine{432             \mbox{\hyperlink{class_unit_test_a580cd21eec8cae621eceb531eec711d3}{expectEquals}} (sv.getCurrentValue(), \mbox{\hyperlink{namespacegl_ad24be0b39bf5b7d31f7c100de8508670}{value}});}
\DoxyCodeLine{433             \mbox{\hyperlink{class_unit_test_a83e2912ee18731e0bfaf1c21a50b1131}{expect}} (! sv.isSmoothing());}
\DoxyCodeLine{434         \}}
\DoxyCodeLine{435 }
\DoxyCodeLine{436         \mbox{\hyperlink{class_unit_test_ae21d8c58358819742f379706b6b34753}{beginTest}} (\textcolor{stringliteral}{"{}Resetting"{}});}
\DoxyCodeLine{437         \{}
\DoxyCodeLine{438             \textcolor{keyword}{auto} initialValue = 15.0f;}
\DoxyCodeLine{439 }
\DoxyCodeLine{440             SmoothedValueType sv (initialValue);}
\DoxyCodeLine{441             sv.reset (3);}
\DoxyCodeLine{442             \mbox{\hyperlink{class_unit_test_a580cd21eec8cae621eceb531eec711d3}{expectEquals}} (sv.getCurrentValue(), initialValue);}
\DoxyCodeLine{443 }
\DoxyCodeLine{444             \textcolor{keyword}{auto} targetValue = initialValue + 1.0f;}
\DoxyCodeLine{445             sv.setTargetValue (targetValue);}
\DoxyCodeLine{446             \mbox{\hyperlink{class_unit_test_a580cd21eec8cae621eceb531eec711d3}{expectEquals}} (sv.getTargetValue(), targetValue);}
\DoxyCodeLine{447             \mbox{\hyperlink{class_unit_test_a580cd21eec8cae621eceb531eec711d3}{expectEquals}} (sv.getCurrentValue(), initialValue);}
\DoxyCodeLine{448             \mbox{\hyperlink{class_unit_test_a83e2912ee18731e0bfaf1c21a50b1131}{expect}} (sv.isSmoothing());}
\DoxyCodeLine{449 }
\DoxyCodeLine{450             \textcolor{keyword}{auto} currentValue = sv.getNextValue();}
\DoxyCodeLine{451             \mbox{\hyperlink{class_unit_test_a83e2912ee18731e0bfaf1c21a50b1131}{expect}} (currentValue > initialValue);}
\DoxyCodeLine{452             \mbox{\hyperlink{class_unit_test_a580cd21eec8cae621eceb531eec711d3}{expectEquals}} (sv.getCurrentValue(), currentValue);}
\DoxyCodeLine{453             \mbox{\hyperlink{class_unit_test_a580cd21eec8cae621eceb531eec711d3}{expectEquals}} (sv.getTargetValue(), targetValue);}
\DoxyCodeLine{454             \mbox{\hyperlink{class_unit_test_a83e2912ee18731e0bfaf1c21a50b1131}{expect}} (sv.isSmoothing());}
\DoxyCodeLine{455 }
\DoxyCodeLine{456             sv.reset (5);}
\DoxyCodeLine{457 }
\DoxyCodeLine{458             \mbox{\hyperlink{class_unit_test_a580cd21eec8cae621eceb531eec711d3}{expectEquals}} (sv.getCurrentValue(), targetValue);}
\DoxyCodeLine{459             \mbox{\hyperlink{class_unit_test_a580cd21eec8cae621eceb531eec711d3}{expectEquals}} (sv.getTargetValue(),  targetValue);}
\DoxyCodeLine{460             \mbox{\hyperlink{class_unit_test_a83e2912ee18731e0bfaf1c21a50b1131}{expect}} (! sv.isSmoothing());}
\DoxyCodeLine{461 }
\DoxyCodeLine{462             sv.getNextValue();}
\DoxyCodeLine{463             \mbox{\hyperlink{class_unit_test_a580cd21eec8cae621eceb531eec711d3}{expectEquals}} (sv.getCurrentValue(), targetValue);}
\DoxyCodeLine{464 }
\DoxyCodeLine{465             sv.setTargetValue (1.5f);}
\DoxyCodeLine{466             sv.getNextValue();}
\DoxyCodeLine{467 }
\DoxyCodeLine{468             \textcolor{keywordtype}{float} newStart = 0.2f;}
\DoxyCodeLine{469             sv.setCurrentAndTargetValue (newStart);}
\DoxyCodeLine{470             \mbox{\hyperlink{class_unit_test_a580cd21eec8cae621eceb531eec711d3}{expectEquals}} (sv.getNextValue(), newStart);}
\DoxyCodeLine{471             \mbox{\hyperlink{class_unit_test_a580cd21eec8cae621eceb531eec711d3}{expectEquals}} (sv.getTargetValue(), newStart);}
\DoxyCodeLine{472             \mbox{\hyperlink{class_unit_test_a580cd21eec8cae621eceb531eec711d3}{expectEquals}} (sv.getCurrentValue(), newStart);}
\DoxyCodeLine{473             \mbox{\hyperlink{class_unit_test_a83e2912ee18731e0bfaf1c21a50b1131}{expect}} (! sv.isSmoothing());}
\DoxyCodeLine{474         \}}
\DoxyCodeLine{475 }
\DoxyCodeLine{476         \mbox{\hyperlink{class_unit_test_ae21d8c58358819742f379706b6b34753}{beginTest}} (\textcolor{stringliteral}{"{}Sample rate"{}});}
\DoxyCodeLine{477         \{}
\DoxyCodeLine{478             SmoothedValueType svSamples \{ 3.0f \};}
\DoxyCodeLine{479             \textcolor{keyword}{auto} svTime = svSamples;}
\DoxyCodeLine{480 }
\DoxyCodeLine{481             \textcolor{keyword}{auto} numSamples = 12;}
\DoxyCodeLine{482 }
\DoxyCodeLine{483             svSamples.reset (numSamples);}
\DoxyCodeLine{484             svTime.reset (numSamples * 2, 1.0);}
\DoxyCodeLine{485 }
\DoxyCodeLine{486             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < numSamples; ++i)}
\DoxyCodeLine{487             \{}
\DoxyCodeLine{488                 svTime.skip (1);}
\DoxyCodeLine{489                 \mbox{\hyperlink{class_unit_test_a53c512c74a94c08ab8d465848bbba2a2}{expectWithinAbsoluteError}} (svSamples.getNextValue(),}
\DoxyCodeLine{490                                            svTime.getNextValue(),}
\DoxyCodeLine{491                                            1.0e-\/7f);}
\DoxyCodeLine{492             \}}
\DoxyCodeLine{493         \}}
\DoxyCodeLine{494 }
\DoxyCodeLine{495         \mbox{\hyperlink{class_unit_test_ae21d8c58358819742f379706b6b34753}{beginTest}} (\textcolor{stringliteral}{"{}Block processing"{}});}
\DoxyCodeLine{496         \{}
\DoxyCodeLine{497             SmoothedValueType sv (1.0f);}
\DoxyCodeLine{498 }
\DoxyCodeLine{499             sv.reset (12);}
\DoxyCodeLine{500             sv.setTargetValue (2.0f);}
\DoxyCodeLine{501 }
\DoxyCodeLine{502             \textcolor{keyword}{const} \textcolor{keyword}{auto} numSamples = 15;}
\DoxyCodeLine{503 }
\DoxyCodeLine{504             \mbox{\hyperlink{class_audio_buffer}{AudioBuffer<float>}} referenceData (1, numSamples);}
\DoxyCodeLine{505 }
\DoxyCodeLine{506             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < numSamples; ++i)}
\DoxyCodeLine{507                 referenceData.\mbox{\hyperlink{class_audio_buffer_a8aba905085e81fefb8ef4c8589c9e7d8}{setSample}} (0, i, sv.getNextValue());}
\DoxyCodeLine{508 }
\DoxyCodeLine{509             \mbox{\hyperlink{class_unit_test_a83e2912ee18731e0bfaf1c21a50b1131}{expect}} (referenceData.\mbox{\hyperlink{class_audio_buffer_afa9b351b6e3cba941cf7c44860851991}{getSample}} (0, 0) > 0);}
\DoxyCodeLine{510             \mbox{\hyperlink{class_unit_test_a83e2912ee18731e0bfaf1c21a50b1131}{expect}} (referenceData.\mbox{\hyperlink{class_audio_buffer_afa9b351b6e3cba941cf7c44860851991}{getSample}} (0, 10) < sv.getTargetValue());}
\DoxyCodeLine{511             \mbox{\hyperlink{class_unit_test_a53c512c74a94c08ab8d465848bbba2a2}{expectWithinAbsoluteError}} (referenceData.\mbox{\hyperlink{class_audio_buffer_afa9b351b6e3cba941cf7c44860851991}{getSample}} (0, 11),}
\DoxyCodeLine{512                                        sv.getTargetValue(),}
\DoxyCodeLine{513                                        2.0e-\/7f);}
\DoxyCodeLine{514 }
\DoxyCodeLine{515             \textcolor{keyword}{auto} getUnitData = [] (\textcolor{keywordtype}{int} numSamplesToGenerate)}
\DoxyCodeLine{516             \{}
\DoxyCodeLine{517                 \mbox{\hyperlink{class_audio_buffer}{AudioBuffer<float>}} \mbox{\hyperlink{namespacegl_a7cb1126dbc1cb105bcce082cff5ae633}{result}} (1, numSamplesToGenerate);}
\DoxyCodeLine{518 }
\DoxyCodeLine{519                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < numSamplesToGenerate; ++i)}
\DoxyCodeLine{520                     \mbox{\hyperlink{namespacegl_a7cb1126dbc1cb105bcce082cff5ae633}{result}}.setSample (0, i, 1.0f);}
\DoxyCodeLine{521 }
\DoxyCodeLine{522                 \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacegl_a7cb1126dbc1cb105bcce082cff5ae633}{result}};}
\DoxyCodeLine{523             \};}
\DoxyCodeLine{524 }
\DoxyCodeLine{525             \textcolor{keyword}{auto} compareData = [\textcolor{keyword}{this}] (\textcolor{keyword}{const} \mbox{\hyperlink{class_audio_buffer}{AudioBuffer<float>}}\& test,}
\DoxyCodeLine{526                                        \textcolor{keyword}{const} \mbox{\hyperlink{class_audio_buffer}{AudioBuffer<float>}}\& \mbox{\hyperlink{namespacegl_ae1e0d48aae46a2915967f5f947f40ef6}{reference}})}
\DoxyCodeLine{527             \{}
\DoxyCodeLine{528                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < test.\mbox{\hyperlink{class_audio_buffer_a74e3eeed9991f6633570b3bbcd723e2b}{getNumSamples}}(); ++i)}
\DoxyCodeLine{529                     expectWithinAbsoluteError (test.\mbox{\hyperlink{class_audio_buffer_afa9b351b6e3cba941cf7c44860851991}{getSample}} (0, i),}
\DoxyCodeLine{530                                                \mbox{\hyperlink{namespacegl_ae1e0d48aae46a2915967f5f947f40ef6}{reference}}.getSample (0, i),}
\DoxyCodeLine{531                                                2.0e-\/7f);}
\DoxyCodeLine{532             \};}
\DoxyCodeLine{533 }
\DoxyCodeLine{534             \textcolor{keyword}{auto} testData = getUnitData (numSamples);}
\DoxyCodeLine{535             sv.setCurrentAndTargetValue (1.0f);}
\DoxyCodeLine{536             sv.setTargetValue (2.0f);}
\DoxyCodeLine{537             sv.applyGain (testData.getWritePointer (0), numSamples);}
\DoxyCodeLine{538             compareData (testData, referenceData);}
\DoxyCodeLine{539 }
\DoxyCodeLine{540             testData = getUnitData (numSamples);}
\DoxyCodeLine{541             \mbox{\hyperlink{class_audio_buffer}{AudioBuffer<float>}} destData (1, numSamples);}
\DoxyCodeLine{542             sv.setCurrentAndTargetValue (1.0f);}
\DoxyCodeLine{543             sv.setTargetValue (2.0f);}
\DoxyCodeLine{544             sv.applyGain (destData.\mbox{\hyperlink{class_audio_buffer_a10cfe91eb4965895bc258cee02409d3b}{getWritePointer}} (0),}
\DoxyCodeLine{545                            testData.getReadPointer (0),}
\DoxyCodeLine{546                            numSamples);}
\DoxyCodeLine{547             compareData (destData, referenceData);}
\DoxyCodeLine{548             compareData (testData, getUnitData (numSamples));}
\DoxyCodeLine{549 }
\DoxyCodeLine{550             testData = getUnitData (numSamples);}
\DoxyCodeLine{551             sv.setCurrentAndTargetValue (1.0f);}
\DoxyCodeLine{552             sv.setTargetValue (2.0f);}
\DoxyCodeLine{553             sv.applyGain (testData, numSamples);}
\DoxyCodeLine{554             compareData (testData, referenceData);}
\DoxyCodeLine{555         \}}
\DoxyCodeLine{556 }
\DoxyCodeLine{557         \mbox{\hyperlink{class_unit_test_ae21d8c58358819742f379706b6b34753}{beginTest}} (\textcolor{stringliteral}{"{}Skip"{}});}
\DoxyCodeLine{558         \{}
\DoxyCodeLine{559             SmoothedValueType sv;}
\DoxyCodeLine{560 }
\DoxyCodeLine{561             sv.reset (12);}
\DoxyCodeLine{562             sv.setCurrentAndTargetValue (1.0f);}
\DoxyCodeLine{563             sv.setTargetValue (2.0f);}
\DoxyCodeLine{564 }
\DoxyCodeLine{565             \mbox{\hyperlink{class_array}{Array<float>}} \mbox{\hyperlink{namespacegl_ae1e0d48aae46a2915967f5f947f40ef6}{reference}};}
\DoxyCodeLine{566 }
\DoxyCodeLine{567             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < 15; ++i)}
\DoxyCodeLine{568                 \mbox{\hyperlink{namespacegl_ae1e0d48aae46a2915967f5f947f40ef6}{reference}}.add (sv.getNextValue());}
\DoxyCodeLine{569 }
\DoxyCodeLine{570             sv.setCurrentAndTargetValue (1.0f);}
\DoxyCodeLine{571             sv.setTargetValue (2.0f);}
\DoxyCodeLine{572 }
\DoxyCodeLine{573             \mbox{\hyperlink{class_unit_test_a53c512c74a94c08ab8d465848bbba2a2}{expectWithinAbsoluteError}} (sv.skip (1), \mbox{\hyperlink{namespacegl_ae1e0d48aae46a2915967f5f947f40ef6}{reference}}[0], 1.0e-\/6f);}
\DoxyCodeLine{574             \mbox{\hyperlink{class_unit_test_a53c512c74a94c08ab8d465848bbba2a2}{expectWithinAbsoluteError}} (sv.skip (1), \mbox{\hyperlink{namespacegl_ae1e0d48aae46a2915967f5f947f40ef6}{reference}}[1], 1.0e-\/6f);}
\DoxyCodeLine{575             \mbox{\hyperlink{class_unit_test_a53c512c74a94c08ab8d465848bbba2a2}{expectWithinAbsoluteError}} (sv.skip (2), \mbox{\hyperlink{namespacegl_ae1e0d48aae46a2915967f5f947f40ef6}{reference}}[3], 1.0e-\/6f);}
\DoxyCodeLine{576             sv.skip (3);}
\DoxyCodeLine{577             \mbox{\hyperlink{class_unit_test_a53c512c74a94c08ab8d465848bbba2a2}{expectWithinAbsoluteError}} (sv.getCurrentValue(), \mbox{\hyperlink{namespacegl_ae1e0d48aae46a2915967f5f947f40ef6}{reference}}[6], 1.0e-\/6f);}
\DoxyCodeLine{578             \mbox{\hyperlink{class_unit_test_a580cd21eec8cae621eceb531eec711d3}{expectEquals}} (sv.skip (300), sv.getTargetValue());}
\DoxyCodeLine{579             \mbox{\hyperlink{class_unit_test_a580cd21eec8cae621eceb531eec711d3}{expectEquals}} (sv.getCurrentValue(), sv.getTargetValue());}
\DoxyCodeLine{580         \}}
\DoxyCodeLine{581 }
\DoxyCodeLine{582         \mbox{\hyperlink{class_unit_test_ae21d8c58358819742f379706b6b34753}{beginTest}} (\textcolor{stringliteral}{"{}Negative"{}});}
\DoxyCodeLine{583         \{}
\DoxyCodeLine{584             SmoothedValueType sv;}
\DoxyCodeLine{585 }
\DoxyCodeLine{586             \textcolor{keyword}{auto} numValues = 12;}
\DoxyCodeLine{587             sv.reset (numValues);}
\DoxyCodeLine{588 }
\DoxyCodeLine{589             std::vector<std::pair<float, float>> ranges = \{ \{ -\/1.0f, -\/2.0f \},}
\DoxyCodeLine{590                                                             \{ -\/100.0f, -\/3.0f \} \};}
\DoxyCodeLine{591 }
\DoxyCodeLine{592             \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} \mbox{\hyperlink{namespacegl_ae32af3c263eaecc21093939cdb44aaf3}{range}} : ranges)}
\DoxyCodeLine{593             \{}
\DoxyCodeLine{594                 \textcolor{keyword}{auto} \mbox{\hyperlink{namespacegl_adad3a3824fbe72fb0b01074bb01ebe75}{start}} = \mbox{\hyperlink{namespacegl_ae32af3c263eaecc21093939cdb44aaf3}{range}}.first, \mbox{\hyperlink{group__juce__core-files_ga4a3194f4f741f9bd653f28733358f62c}{end}} = \mbox{\hyperlink{namespacegl_ae32af3c263eaecc21093939cdb44aaf3}{range}}.second;}
\DoxyCodeLine{595 }
\DoxyCodeLine{596                 sv.setCurrentAndTargetValue (\mbox{\hyperlink{namespacegl_adad3a3824fbe72fb0b01074bb01ebe75}{start}});}
\DoxyCodeLine{597                 sv.setTargetValue (\mbox{\hyperlink{group__juce__core-files_ga4a3194f4f741f9bd653f28733358f62c}{end}});}
\DoxyCodeLine{598 }
\DoxyCodeLine{599                 \textcolor{keyword}{auto} \mbox{\hyperlink{jpeglib_8h_aa0ccb5ee6d882ee3605ff47745c6467b}{val}} = sv.skip (numValues / 2);}
\DoxyCodeLine{600 }
\DoxyCodeLine{601                 \textcolor{keywordflow}{if} (\mbox{\hyperlink{group__juce__core-files_ga4a3194f4f741f9bd653f28733358f62c}{end}} > \mbox{\hyperlink{namespacegl_adad3a3824fbe72fb0b01074bb01ebe75}{start}})}
\DoxyCodeLine{602                     \mbox{\hyperlink{class_unit_test_a83e2912ee18731e0bfaf1c21a50b1131}{expect}} (\mbox{\hyperlink{jpeglib_8h_aa0ccb5ee6d882ee3605ff47745c6467b}{val}} > \mbox{\hyperlink{namespacegl_adad3a3824fbe72fb0b01074bb01ebe75}{start}} \&\& \mbox{\hyperlink{jpeglib_8h_aa0ccb5ee6d882ee3605ff47745c6467b}{val}} < \mbox{\hyperlink{group__juce__core-files_ga4a3194f4f741f9bd653f28733358f62c}{end}});}
\DoxyCodeLine{603                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{604                     \mbox{\hyperlink{class_unit_test_a83e2912ee18731e0bfaf1c21a50b1131}{expect}} (val < start \&\& val > \mbox{\hyperlink{group__juce__core-files_ga4a3194f4f741f9bd653f28733358f62c}{end}});}
\DoxyCodeLine{605 }
\DoxyCodeLine{606                 \textcolor{keyword}{auto} nextVal = sv.getNextValue();}
\DoxyCodeLine{607                 \mbox{\hyperlink{class_unit_test_a83e2912ee18731e0bfaf1c21a50b1131}{expect}} (\mbox{\hyperlink{group__juce__core-files_ga4a3194f4f741f9bd653f28733358f62c}{end}} > \mbox{\hyperlink{namespacegl_adad3a3824fbe72fb0b01074bb01ebe75}{start}} ? (nextVal > \mbox{\hyperlink{jpeglib_8h_aa0ccb5ee6d882ee3605ff47745c6467b}{val}}) : (nextVal < \mbox{\hyperlink{jpeglib_8h_aa0ccb5ee6d882ee3605ff47745c6467b}{val}}));}
\DoxyCodeLine{608 }
\DoxyCodeLine{609                 \textcolor{keyword}{auto} endVal = sv.skip (500);}
\DoxyCodeLine{610                 \mbox{\hyperlink{class_unit_test_a580cd21eec8cae621eceb531eec711d3}{expectEquals}} (endVal, \mbox{\hyperlink{group__juce__core-files_ga4a3194f4f741f9bd653f28733358f62c}{end}});}
\DoxyCodeLine{611                 \mbox{\hyperlink{class_unit_test_a580cd21eec8cae621eceb531eec711d3}{expectEquals}} (sv.getNextValue(), \mbox{\hyperlink{group__juce__core-files_ga4a3194f4f741f9bd653f28733358f62c}{end}});}
\DoxyCodeLine{612                 \mbox{\hyperlink{class_unit_test_a580cd21eec8cae621eceb531eec711d3}{expectEquals}} (sv.getCurrentValue(), \mbox{\hyperlink{group__juce__core-files_ga4a3194f4f741f9bd653f28733358f62c}{end}});}
\DoxyCodeLine{613 }
\DoxyCodeLine{614                 sv.setCurrentAndTargetValue (\mbox{\hyperlink{namespacegl_adad3a3824fbe72fb0b01074bb01ebe75}{start}});}
\DoxyCodeLine{615                 sv.setTargetValue (\mbox{\hyperlink{group__juce__core-files_ga4a3194f4f741f9bd653f28733358f62c}{end}});}
\DoxyCodeLine{616 }
\DoxyCodeLine{617                 SmoothedValueType positiveSv \{ -\/\mbox{\hyperlink{namespacegl_adad3a3824fbe72fb0b01074bb01ebe75}{start}} \};}
\DoxyCodeLine{618                 positiveSv.reset (numValues);}
\DoxyCodeLine{619                 positiveSv.setTargetValue (-\/\mbox{\hyperlink{group__juce__core-files_ga4a3194f4f741f9bd653f28733358f62c}{end}});}
\DoxyCodeLine{620 }
\DoxyCodeLine{621                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < numValues + 2; ++i)}
\DoxyCodeLine{622                     expectEquals (sv.getNextValue(), -\/positiveSv.getNextValue());}
\DoxyCodeLine{623             \}}
\DoxyCodeLine{624         \}}
\DoxyCodeLine{625     \}}
\DoxyCodeLine{626 \};}
\DoxyCodeLine{627 }
\DoxyCodeLine{628 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{629 }
\DoxyCodeLine{630  \textcolor{comment}{// namespace juce}}
\DoxyCodeLine{631 }

\end{DoxyCode}
