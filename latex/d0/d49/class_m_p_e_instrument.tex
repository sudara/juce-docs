\hypertarget{class_m_p_e_instrument}{}\doxysection{MPEInstrument Class Reference}
\label{class_m_p_e_instrument}\index{MPEInstrument@{MPEInstrument}}


{\ttfamily \#include $<$juce\+\_\+\+MPEInstrument.\+h$>$}

\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{class_m_p_e_instrument_1_1_listener}{Listener}}
\end{DoxyCompactItemize}
\doxysubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
enum \mbox{\hyperlink{class_m_p_e_instrument_a6253ed9c5e70322645b02865c70dc0b6}{Tracking\+Mode}} \{ \mbox{\hyperlink{class_m_p_e_instrument_a6253ed9c5e70322645b02865c70dc0b6a88bee5e48b4e40245b2743809737fd2e}{last\+Note\+Played\+On\+Channel}}
, \mbox{\hyperlink{class_m_p_e_instrument_a6253ed9c5e70322645b02865c70dc0b6a47f69f12a40825822a72ff0e4e8f5c4b}{lowest\+Note\+On\+Channel}}
, \mbox{\hyperlink{class_m_p_e_instrument_a6253ed9c5e70322645b02865c70dc0b6ad52768b05c36483f44c933044a35d4dd}{highest\+Note\+On\+Channel}}
, \mbox{\hyperlink{class_m_p_e_instrument_a6253ed9c5e70322645b02865c70dc0b6a5985b27bfdbfc4172099d3da5a24a044}{all\+Notes\+On\+Channel}}
 \}
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_m_p_e_instrument_aed3c547de933e6e5c2a254bf4dea79f7}{MPEInstrument}} () noexcept
\item 
\mbox{\hyperlink{class_m_p_e_instrument_a78acb626c79212d792c145048ec2d836}{MPEInstrument}} (\mbox{\hyperlink{class_m_p_e_zone_layout}{MPEZone\+Layout}} layout)
\item 
virtual \mbox{\hyperlink{class_m_p_e_instrument_ab35850fd7bac2d679928c556e290b126}{$\sim$\+MPEInstrument}} ()
\item 
\mbox{\hyperlink{class_m_p_e_zone_layout}{MPEZone\+Layout}} \mbox{\hyperlink{class_m_p_e_instrument_a103e7f458857c220c870bf4387e2a366}{get\+Zone\+Layout}} () \mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} noexcept
\item 
\mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} \mbox{\hyperlink{class_m_p_e_instrument_a60a37c57cd5206090b4d2d866b959746}{set\+Zone\+Layout}} (\mbox{\hyperlink{class_m_p_e_zone_layout}{MPEZone\+Layout}} new\+Layout)
\item 
bool \mbox{\hyperlink{class_m_p_e_instrument_a3afe0cb9418926459a3a0f98178a3834}{is\+Member\+Channel}} (\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} midi\+Channel) \mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} noexcept
\item 
bool \mbox{\hyperlink{class_m_p_e_instrument_aad832a76615272bf724839709c0a0aaf}{is\+Master\+Channel}} (\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} midi\+Channel) \mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} noexcept
\item 
bool \mbox{\hyperlink{class_m_p_e_instrument_ae9ed806390761e70fff1ae10c1ebb1b1}{is\+Using\+Channel}} (\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} midi\+Channel) \mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} noexcept
\item 
\mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} \mbox{\hyperlink{class_m_p_e_instrument_aa8ffdce53374855ed114ca92004bcce6}{set\+Pressure\+Tracking\+Mode}} (\mbox{\hyperlink{class_m_p_e_instrument_a6253ed9c5e70322645b02865c70dc0b6}{Tracking\+Mode}} mode\+To\+Use)
\item 
\mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} \mbox{\hyperlink{class_m_p_e_instrument_a6502dcaaf2c1ebb799328f0f98df8b35}{set\+Pitchbend\+Tracking\+Mode}} (\mbox{\hyperlink{class_m_p_e_instrument_a6253ed9c5e70322645b02865c70dc0b6}{Tracking\+Mode}} mode\+To\+Use)
\item 
\mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} \mbox{\hyperlink{class_m_p_e_instrument_aade5f2cf6d0944bfb7f3fd353ce0dbd4}{set\+Timbre\+Tracking\+Mode}} (\mbox{\hyperlink{class_m_p_e_instrument_a6253ed9c5e70322645b02865c70dc0b6}{Tracking\+Mode}} mode\+To\+Use)
\item 
virtual \mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} \mbox{\hyperlink{class_m_p_e_instrument_a2d4ea1f5fcd64d8feeac46ee9e5db712}{process\+Next\+Midi\+Event}} (\mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{class_midi_message}{Midi\+Message}} \&message)
\item 
virtual \mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} \mbox{\hyperlink{class_m_p_e_instrument_a2ea5de01f0e163074c941199216cf189}{note\+On}} (\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} midi\+Channel, \mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} midi\+Note\+Number, \mbox{\hyperlink{class_m_p_e_value}{MPEValue}} midi\+Note\+On\+Velocity)
\item 
virtual \mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} \mbox{\hyperlink{class_m_p_e_instrument_ae9e882e79f7a04e928ab37eb4b4e40ec}{note\+Off}} (\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} midi\+Channel, \mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} midi\+Note\+Number, \mbox{\hyperlink{class_m_p_e_value}{MPEValue}} midi\+Note\+Off\+Velocity)
\item 
virtual \mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} \mbox{\hyperlink{class_m_p_e_instrument_ad392a1d60825ba67d735577dafce580b}{pitchbend}} (\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} midi\+Channel, \mbox{\hyperlink{class_m_p_e_value}{MPEValue}} pitchbend)
\item 
virtual \mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} \mbox{\hyperlink{class_m_p_e_instrument_a6bba3f4aa0162e9eb0fea07747fa8ebd}{pressure}} (\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} midi\+Channel, \mbox{\hyperlink{class_m_p_e_value}{MPEValue}} value)
\item 
virtual \mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} \mbox{\hyperlink{class_m_p_e_instrument_ad307eed95a84128f74462e45f027b0c9}{timbre}} (\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} midi\+Channel, \mbox{\hyperlink{class_m_p_e_value}{MPEValue}} value)
\item 
virtual \mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} \mbox{\hyperlink{class_m_p_e_instrument_a5aa419882cef245621cb8b24d1d455ff}{poly\+Aftertouch}} (\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} midi\+Channel, \mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} midi\+Note\+Number, \mbox{\hyperlink{class_m_p_e_value}{MPEValue}} value)
\item 
virtual \mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} \mbox{\hyperlink{class_m_p_e_instrument_a50fbf63229426125eb618f7629af799f}{sustain\+Pedal}} (\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} midi\+Channel, bool is\+Down)
\item 
virtual \mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} \mbox{\hyperlink{class_m_p_e_instrument_a6546cf59813219fe22a565e5d8a7c86c}{sostenuto\+Pedal}} (\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} midi\+Channel, bool is\+Down)
\item 
\mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} \mbox{\hyperlink{class_m_p_e_instrument_aaf951ef21849aa7538abea6545b66d96}{release\+All\+Notes}} ()
\item 
\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} \mbox{\hyperlink{class_m_p_e_instrument_a3526176ed59aa4aab042f84ddca2d8f0}{get\+Num\+Playing\+Notes}} () \mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} noexcept
\item 
\mbox{\hyperlink{struct_m_p_e_note}{MPENote}} \mbox{\hyperlink{class_m_p_e_instrument_a845b316045e1cfe5862156814cc80018}{get\+Note}} (\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} index) \mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} noexcept
\item 
\mbox{\hyperlink{struct_m_p_e_note}{MPENote}} \mbox{\hyperlink{class_m_p_e_instrument_a44489a491822ba654f7507f5461324a3}{get\+Note}} (\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} midi\+Channel, \mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} midi\+Note\+Number) \mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} noexcept
\item 
\mbox{\hyperlink{struct_m_p_e_note}{MPENote}} \mbox{\hyperlink{class_m_p_e_instrument_a12ca1f4d9737cddd2c7534c09e9fb19a}{get\+Note\+With\+ID}} (\mbox{\hyperlink{juce__box2d_8cpp_acc2cb9a2f3246f6f4775ef16196fd983}{uint16}} note\+ID) \mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} noexcept
\item 
\mbox{\hyperlink{struct_m_p_e_note}{MPENote}} \mbox{\hyperlink{class_m_p_e_instrument_a578854710d62add43187bd7355433365}{get\+Most\+Recent\+Note}} (\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} midi\+Channel) \mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} noexcept
\item 
\mbox{\hyperlink{struct_m_p_e_note}{MPENote}} \mbox{\hyperlink{class_m_p_e_instrument_aae7b1c81fb769a83587d07cbdf7883ed}{get\+Most\+Recent\+Note\+Other\+Than}} (\mbox{\hyperlink{struct_m_p_e_note}{MPENote}} other\+Than\+This\+Note) \mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} noexcept
\item 
\mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} \mbox{\hyperlink{class_m_p_e_instrument_a645681e5f34c1d18007de1152bb0de60}{add\+Listener}} (\mbox{\hyperlink{class_m_p_e_instrument_1_1_listener}{Listener}} $\ast$listener\+To\+Add)
\item 
\mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} \mbox{\hyperlink{class_m_p_e_instrument_ab4d3e9434362da8324d920832f638759}{remove\+Listener}} (\mbox{\hyperlink{class_m_p_e_instrument_1_1_listener}{Listener}} $\ast$listener\+To\+Remove)
\item 
\mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} \mbox{\hyperlink{class_m_p_e_instrument_a5a947eb3f30c2566ba448ce48b2925f8}{enable\+Legacy\+Mode}} (\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} pitchbend\+Range=2, \mbox{\hyperlink{class_range}{Range}}$<$ \mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} $>$ channel\+Range=\mbox{\hyperlink{class_range}{Range}}$<$ \mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} $>$(1, 17))
\item 
bool \mbox{\hyperlink{class_m_p_e_instrument_a472e505a54849b94df8b2c28721cb05f}{is\+Legacy\+Mode\+Enabled}} () \mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} noexcept
\item 
\mbox{\hyperlink{class_range}{Range}}$<$ \mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} $>$ \mbox{\hyperlink{class_m_p_e_instrument_a092b527431f44004dc2bc0e5c947e628}{get\+Legacy\+Mode\+Channel\+Range}} () \mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} noexcept
\item 
\mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} \mbox{\hyperlink{class_m_p_e_instrument_abef02c4b4ea3d4fc9ce6aede066696ef}{set\+Legacy\+Mode\+Channel\+Range}} (\mbox{\hyperlink{class_range}{Range}}$<$ \mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} $>$ channel\+Range)
\item 
\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} \mbox{\hyperlink{class_m_p_e_instrument_a490802cc4db8272096a09123adf8fdf1}{get\+Legacy\+Mode\+Pitchbend\+Range}} () \mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} noexcept
\item 
\mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} \mbox{\hyperlink{class_m_p_e_instrument_a6c4f9fd1840122bf9520a504dbfda956}{set\+Legacy\+Mode\+Pitchbend\+Range}} (\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} pitchbend\+Range)
\end{DoxyCompactItemize}
\doxysubsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_critical_section}{Critical\+Section}} \mbox{\hyperlink{class_m_p_e_instrument_ad41d0a0ff109319ceab4a72ebca7187e}{lock}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
This class represents an instrument handling MPE.

It has an MPE zone layout and maintains a state of currently active (playing) notes and the values of their dimensions of expression.

You can trigger and modulate notes\+:
\begin{DoxyItemize}
\item by passing MIDI messages with the method process\+Next\+Midi\+Event;
\item by directly calling the methods note\+On, note\+Off etc.
\end{DoxyItemize}

The class implements the channel and note management logic specified in MPE. If you pass it a message, it will know what notes on what channels (if any) should be affected by that message.

The class has a \mbox{\hyperlink{class_m_p_e_instrument_1_1_listener}{Listener}} class that can be used to react to note and state changes and trigger some functionality for your application. For example, you can use this class to write an MPE visualiser.

If you want to write a real-\/time audio synth with MPE functionality, you should instead use the classes \mbox{\hyperlink{struct_m_p_e_synthesiser_base}{MPESynthesiser\+Base}}, which adds the ability to render audio and to manage voices.

\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{struct_m_p_e_note}{MPENote}}, \mbox{\hyperlink{class_m_p_e_zone_layout}{MPEZone\+Layout}}, \mbox{\hyperlink{class_m_p_e_synthesiser}{MPESynthesiser}}
\end{DoxySeeAlso}
@tags\{Audio\} 

\doxysubsection{Member Enumeration Documentation}
\mbox{\Hypertarget{class_m_p_e_instrument_a6253ed9c5e70322645b02865c70dc0b6}\label{class_m_p_e_instrument_a6253ed9c5e70322645b02865c70dc0b6}} 
\index{MPEInstrument@{MPEInstrument}!TrackingMode@{TrackingMode}}
\index{TrackingMode@{TrackingMode}!MPEInstrument@{MPEInstrument}}
\doxysubsubsection{\texorpdfstring{TrackingMode}{TrackingMode}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{class_m_p_e_instrument_a6253ed9c5e70322645b02865c70dc0b6}{MPEInstrument\+::\+Tracking\+Mode}}}

The MPE note tracking mode. In case there is more than one note playing simultaneously on the same MIDI channel, this determines which of these notes will be modulated by an incoming MPE message on that channel (pressure, pitchbend, or timbre).

The default is last\+Note\+Played\+On\+Channel. \begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{lastNotePlayedOnChannel@{lastNotePlayedOnChannel}!MPEInstrument@{MPEInstrument}}\index{MPEInstrument@{MPEInstrument}!lastNotePlayedOnChannel@{lastNotePlayedOnChannel}}}\mbox{\Hypertarget{class_m_p_e_instrument_a6253ed9c5e70322645b02865c70dc0b6a88bee5e48b4e40245b2743809737fd2e}\label{class_m_p_e_instrument_a6253ed9c5e70322645b02865c70dc0b6a88bee5e48b4e40245b2743809737fd2e}} 
last\+Note\+Played\+On\+Channel&The most recent note on the channel that is still played (key down and/or sustained). \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{lowestNoteOnChannel@{lowestNoteOnChannel}!MPEInstrument@{MPEInstrument}}\index{MPEInstrument@{MPEInstrument}!lowestNoteOnChannel@{lowestNoteOnChannel}}}\mbox{\Hypertarget{class_m_p_e_instrument_a6253ed9c5e70322645b02865c70dc0b6a47f69f12a40825822a72ff0e4e8f5c4b}\label{class_m_p_e_instrument_a6253ed9c5e70322645b02865c70dc0b6a47f69f12a40825822a72ff0e4e8f5c4b}} 
lowest\+Note\+On\+Channel&The lowest note (by initial\+Note) on the channel with the note key still down. \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{highestNoteOnChannel@{highestNoteOnChannel}!MPEInstrument@{MPEInstrument}}\index{MPEInstrument@{MPEInstrument}!highestNoteOnChannel@{highestNoteOnChannel}}}\mbox{\Hypertarget{class_m_p_e_instrument_a6253ed9c5e70322645b02865c70dc0b6ad52768b05c36483f44c933044a35d4dd}\label{class_m_p_e_instrument_a6253ed9c5e70322645b02865c70dc0b6ad52768b05c36483f44c933044a35d4dd}} 
highest\+Note\+On\+Channel&The highest note (by initial\+Note) on the channel with the note key still down. \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{allNotesOnChannel@{allNotesOnChannel}!MPEInstrument@{MPEInstrument}}\index{MPEInstrument@{MPEInstrument}!allNotesOnChannel@{allNotesOnChannel}}}\mbox{\Hypertarget{class_m_p_e_instrument_a6253ed9c5e70322645b02865c70dc0b6a5985b27bfdbfc4172099d3da5a24a044}\label{class_m_p_e_instrument_a6253ed9c5e70322645b02865c70dc0b6a5985b27bfdbfc4172099d3da5a24a044}} 
all\+Notes\+On\+Channel&All notes on the channel (key down and/or sustained). \\
\hline

\end{DoxyEnumFields}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_m_p_e_instrument_aed3c547de933e6e5c2a254bf4dea79f7}\label{class_m_p_e_instrument_aed3c547de933e6e5c2a254bf4dea79f7}} 
\index{MPEInstrument@{MPEInstrument}!MPEInstrument@{MPEInstrument}}
\index{MPEInstrument@{MPEInstrument}!MPEInstrument@{MPEInstrument}}
\doxysubsubsection{\texorpdfstring{MPEInstrument()}{MPEInstrument()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily MPEInstrument\+::\+MPEInstrument (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [noexcept]}}

Constructor.

This will construct an MPE instrument with inactive lower and upper zones.

In order to process incoming MIDI messages call set\+Zone\+Layout, use the \mbox{\hyperlink{class_m_p_e_zone_layout}{MPEZone\+Layout}} constructor, define the layout via MIDI RPN messages, or set the instrument to legacy mode. \mbox{\Hypertarget{class_m_p_e_instrument_a78acb626c79212d792c145048ec2d836}\label{class_m_p_e_instrument_a78acb626c79212d792c145048ec2d836}} 
\index{MPEInstrument@{MPEInstrument}!MPEInstrument@{MPEInstrument}}
\index{MPEInstrument@{MPEInstrument}!MPEInstrument@{MPEInstrument}}
\doxysubsubsection{\texorpdfstring{MPEInstrument()}{MPEInstrument()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily MPEInstrument\+::\+MPEInstrument (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_m_p_e_zone_layout}{MPEZone\+Layout}}}]{layout }\end{DoxyParamCaption})}

Constructs an MPE instrument with the specified zone layout. \mbox{\Hypertarget{class_m_p_e_instrument_ab35850fd7bac2d679928c556e290b126}\label{class_m_p_e_instrument_ab35850fd7bac2d679928c556e290b126}} 
\index{MPEInstrument@{MPEInstrument}!````~MPEInstrument@{$\sim$MPEInstrument}}
\index{````~MPEInstrument@{$\sim$MPEInstrument}!MPEInstrument@{MPEInstrument}}
\doxysubsubsection{\texorpdfstring{$\sim$MPEInstrument()}{~MPEInstrument()}}
{\footnotesize\ttfamily MPEInstrument\+::$\sim$\+MPEInstrument (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}, {\ttfamily [default]}}

Destructor. 

\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_m_p_e_instrument_a645681e5f34c1d18007de1152bb0de60}\label{class_m_p_e_instrument_a645681e5f34c1d18007de1152bb0de60}} 
\index{MPEInstrument@{MPEInstrument}!addListener@{addListener}}
\index{addListener@{addListener}!MPEInstrument@{MPEInstrument}}
\doxysubsubsection{\texorpdfstring{addListener()}{addListener()}}
{\footnotesize\ttfamily \mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} MPEInstrument\+::add\+Listener (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_m_p_e_instrument_1_1_listener}{Listener}} $\ast$}]{listener\+To\+Add }\end{DoxyParamCaption})}

Adds a listener. \mbox{\Hypertarget{class_m_p_e_instrument_a5a947eb3f30c2566ba448ce48b2925f8}\label{class_m_p_e_instrument_a5a947eb3f30c2566ba448ce48b2925f8}} 
\index{MPEInstrument@{MPEInstrument}!enableLegacyMode@{enableLegacyMode}}
\index{enableLegacyMode@{enableLegacyMode}!MPEInstrument@{MPEInstrument}}
\doxysubsubsection{\texorpdfstring{enableLegacyMode()}{enableLegacyMode()}}
{\footnotesize\ttfamily \mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} MPEInstrument\+::enable\+Legacy\+Mode (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}}}]{pitchbend\+Range = {\ttfamily 2},  }\item[{\mbox{\hyperlink{class_range}{Range}}$<$ \mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} $>$}]{channel\+Range = {\ttfamily \mbox{\hyperlink{class_range}{Range}}$<$\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}}$>$~(1,~17)} }\end{DoxyParamCaption})}

Puts the instrument into legacy mode. If legacy mode is already enabled this method does nothing.

As a side effect, this will discard all currently playing notes, and call note\+Released for all of them.

This special zone layout mode is for backwards compatibility with non-\/\+MPE MIDI devices. In this mode, the instrument will ignore the current MPE zone layout. It will instead take a range of MIDI channels (default\+: all channels 1-\/16) and treat them as note channels, with no master channel. MIDI channels outside of this range will be ignored.


\begin{DoxyParams}{Parameters}
{\em pitchbend\+Range} & The note pitchbend range in semitones to use when in legacy mode. Must be between 0 and 96, otherwise behaviour is undefined. The default pitchbend range in legacy mode is +/-\/ 2 semitones.\\
\hline
{\em channel\+Range} & The range of MIDI channels to use for notes when in legacy mode. The default is to use all MIDI channels (1-\/16).\\
\hline
\end{DoxyParams}
To get out of legacy mode, set a new MPE zone layout using set\+Zone\+Layout. \mbox{\Hypertarget{class_m_p_e_instrument_a092b527431f44004dc2bc0e5c947e628}\label{class_m_p_e_instrument_a092b527431f44004dc2bc0e5c947e628}} 
\index{MPEInstrument@{MPEInstrument}!getLegacyModeChannelRange@{getLegacyModeChannelRange}}
\index{getLegacyModeChannelRange@{getLegacyModeChannelRange}!MPEInstrument@{MPEInstrument}}
\doxysubsubsection{\texorpdfstring{getLegacyModeChannelRange()}{getLegacyModeChannelRange()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_range}{Range}}$<$ \mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} $>$ MPEInstrument\+::get\+Legacy\+Mode\+Channel\+Range (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [noexcept]}}

Returns the range of MIDI channels (1-\/16) to be used for notes when in legacy mode. \mbox{\Hypertarget{class_m_p_e_instrument_a490802cc4db8272096a09123adf8fdf1}\label{class_m_p_e_instrument_a490802cc4db8272096a09123adf8fdf1}} 
\index{MPEInstrument@{MPEInstrument}!getLegacyModePitchbendRange@{getLegacyModePitchbendRange}}
\index{getLegacyModePitchbendRange@{getLegacyModePitchbendRange}!MPEInstrument@{MPEInstrument}}
\doxysubsubsection{\texorpdfstring{getLegacyModePitchbendRange()}{getLegacyModePitchbendRange()}}
{\footnotesize\ttfamily \mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} MPEInstrument\+::get\+Legacy\+Mode\+Pitchbend\+Range (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [noexcept]}}

Returns the pitchbend range in semitones (0-\/96) to be used for notes when in legacy mode. \mbox{\Hypertarget{class_m_p_e_instrument_a578854710d62add43187bd7355433365}\label{class_m_p_e_instrument_a578854710d62add43187bd7355433365}} 
\index{MPEInstrument@{MPEInstrument}!getMostRecentNote@{getMostRecentNote}}
\index{getMostRecentNote@{getMostRecentNote}!MPEInstrument@{MPEInstrument}}
\doxysubsubsection{\texorpdfstring{getMostRecentNote()}{getMostRecentNote()}}
{\footnotesize\ttfamily \mbox{\hyperlink{struct_m_p_e_note}{MPENote}} MPEInstrument\+::get\+Most\+Recent\+Note (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}}}]{midi\+Channel }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [noexcept]}}

Returns the most recent note that is playing on the given midi\+Channel (this will be the note which has received the most recent note-\/on without a corresponding note-\/off), if there is such a note. Otherwise, this returns an invalid \mbox{\hyperlink{struct_m_p_e_note}{MPENote}} (check with note.\+is\+Valid() before use!) \mbox{\Hypertarget{class_m_p_e_instrument_aae7b1c81fb769a83587d07cbdf7883ed}\label{class_m_p_e_instrument_aae7b1c81fb769a83587d07cbdf7883ed}} 
\index{MPEInstrument@{MPEInstrument}!getMostRecentNoteOtherThan@{getMostRecentNoteOtherThan}}
\index{getMostRecentNoteOtherThan@{getMostRecentNoteOtherThan}!MPEInstrument@{MPEInstrument}}
\doxysubsubsection{\texorpdfstring{getMostRecentNoteOtherThan()}{getMostRecentNoteOtherThan()}}
{\footnotesize\ttfamily \mbox{\hyperlink{struct_m_p_e_note}{MPENote}} MPEInstrument\+::get\+Most\+Recent\+Note\+Other\+Than (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_m_p_e_note}{MPENote}}}]{other\+Than\+This\+Note }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [noexcept]}}

Returns the most recent note that is not the note passed in. If there is no such note, this returns an invalid \mbox{\hyperlink{struct_m_p_e_note}{MPENote}} (check with note.\+is\+Valid() before use!).

This helper method might be useful for some custom voice handling algorithms. \mbox{\Hypertarget{class_m_p_e_instrument_a845b316045e1cfe5862156814cc80018}\label{class_m_p_e_instrument_a845b316045e1cfe5862156814cc80018}} 
\index{MPEInstrument@{MPEInstrument}!getNote@{getNote}}
\index{getNote@{getNote}!MPEInstrument@{MPEInstrument}}
\doxysubsubsection{\texorpdfstring{getNote()}{getNote()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{struct_m_p_e_note}{MPENote}} MPEInstrument\+::get\+Note (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}}}]{index }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [noexcept]}}

Returns the note at the given index.

If there is no such note, returns an invalid \mbox{\hyperlink{struct_m_p_e_note}{MPENote}}. The notes are sorted such that the most recently added note is the last element. \mbox{\Hypertarget{class_m_p_e_instrument_a44489a491822ba654f7507f5461324a3}\label{class_m_p_e_instrument_a44489a491822ba654f7507f5461324a3}} 
\index{MPEInstrument@{MPEInstrument}!getNote@{getNote}}
\index{getNote@{getNote}!MPEInstrument@{MPEInstrument}}
\doxysubsubsection{\texorpdfstring{getNote()}{getNote()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{struct_m_p_e_note}{MPENote}} MPEInstrument\+::get\+Note (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}}}]{midi\+Channel,  }\item[{\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}}}]{midi\+Note\+Number }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [noexcept]}}

Returns the note currently playing on the given midi\+Channel with the specified initial MIDI note number, if there is such a note. Otherwise, this returns an invalid \mbox{\hyperlink{struct_m_p_e_note}{MPENote}} (check with note.\+is\+Valid() before use!) \mbox{\Hypertarget{class_m_p_e_instrument_a12ca1f4d9737cddd2c7534c09e9fb19a}\label{class_m_p_e_instrument_a12ca1f4d9737cddd2c7534c09e9fb19a}} 
\index{MPEInstrument@{MPEInstrument}!getNoteWithID@{getNoteWithID}}
\index{getNoteWithID@{getNoteWithID}!MPEInstrument@{MPEInstrument}}
\doxysubsubsection{\texorpdfstring{getNoteWithID()}{getNoteWithID()}}
{\footnotesize\ttfamily \mbox{\hyperlink{struct_m_p_e_note}{MPENote}} MPEInstrument\+::get\+Note\+With\+ID (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{juce__box2d_8cpp_acc2cb9a2f3246f6f4775ef16196fd983}{uint16}}}]{note\+ID }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [noexcept]}}

Returns the note with a given ID. \mbox{\Hypertarget{class_m_p_e_instrument_a3526176ed59aa4aab042f84ddca2d8f0}\label{class_m_p_e_instrument_a3526176ed59aa4aab042f84ddca2d8f0}} 
\index{MPEInstrument@{MPEInstrument}!getNumPlayingNotes@{getNumPlayingNotes}}
\index{getNumPlayingNotes@{getNumPlayingNotes}!MPEInstrument@{MPEInstrument}}
\doxysubsubsection{\texorpdfstring{getNumPlayingNotes()}{getNumPlayingNotes()}}
{\footnotesize\ttfamily \mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} MPEInstrument\+::get\+Num\+Playing\+Notes (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [noexcept]}}

Returns the number of MPE notes currently played by the instrument. \mbox{\Hypertarget{class_m_p_e_instrument_a103e7f458857c220c870bf4387e2a366}\label{class_m_p_e_instrument_a103e7f458857c220c870bf4387e2a366}} 
\index{MPEInstrument@{MPEInstrument}!getZoneLayout@{getZoneLayout}}
\index{getZoneLayout@{getZoneLayout}!MPEInstrument@{MPEInstrument}}
\doxysubsubsection{\texorpdfstring{getZoneLayout()}{getZoneLayout()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_m_p_e_zone_layout}{MPEZone\+Layout}} MPEInstrument\+::get\+Zone\+Layout (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [noexcept]}}

Returns the current zone layout of the instrument. This happens by value, to enforce thread-\/safety and class invariants.

Note\+: If the instrument is in legacy mode, the return value of this method is unspecified. \mbox{\Hypertarget{class_m_p_e_instrument_a472e505a54849b94df8b2c28721cb05f}\label{class_m_p_e_instrument_a472e505a54849b94df8b2c28721cb05f}} 
\index{MPEInstrument@{MPEInstrument}!isLegacyModeEnabled@{isLegacyModeEnabled}}
\index{isLegacyModeEnabled@{isLegacyModeEnabled}!MPEInstrument@{MPEInstrument}}
\doxysubsubsection{\texorpdfstring{isLegacyModeEnabled()}{isLegacyModeEnabled()}}
{\footnotesize\ttfamily bool MPEInstrument\+::is\+Legacy\+Mode\+Enabled (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [noexcept]}}

Returns true if the instrument is in legacy mode, false otherwise. \mbox{\Hypertarget{class_m_p_e_instrument_aad832a76615272bf724839709c0a0aaf}\label{class_m_p_e_instrument_aad832a76615272bf724839709c0a0aaf}} 
\index{MPEInstrument@{MPEInstrument}!isMasterChannel@{isMasterChannel}}
\index{isMasterChannel@{isMasterChannel}!MPEInstrument@{MPEInstrument}}
\doxysubsubsection{\texorpdfstring{isMasterChannel()}{isMasterChannel()}}
{\footnotesize\ttfamily bool MPEInstrument\+::is\+Master\+Channel (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}}}]{midi\+Channel }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [noexcept]}}

Returns true if the given MIDI channel (1-\/16) is a master channel (channel 1 or 16).

In legacy mode, this will always return false. \mbox{\Hypertarget{class_m_p_e_instrument_a3afe0cb9418926459a3a0f98178a3834}\label{class_m_p_e_instrument_a3afe0cb9418926459a3a0f98178a3834}} 
\index{MPEInstrument@{MPEInstrument}!isMemberChannel@{isMemberChannel}}
\index{isMemberChannel@{isMemberChannel}!MPEInstrument@{MPEInstrument}}
\doxysubsubsection{\texorpdfstring{isMemberChannel()}{isMemberChannel()}}
{\footnotesize\ttfamily bool MPEInstrument\+::is\+Member\+Channel (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}}}]{midi\+Channel }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [noexcept]}}

Returns true if the given MIDI channel (1-\/16) is a note channel in any of the \mbox{\hyperlink{class_m_p_e_instrument}{MPEInstrument}}\textquotesingle{}s MPE zones; false otherwise.

When in legacy mode, this will return true if the given channel is contained in the current legacy mode channel range; false otherwise. \mbox{\Hypertarget{class_m_p_e_instrument_ae9ed806390761e70fff1ae10c1ebb1b1}\label{class_m_p_e_instrument_ae9ed806390761e70fff1ae10c1ebb1b1}} 
\index{MPEInstrument@{MPEInstrument}!isUsingChannel@{isUsingChannel}}
\index{isUsingChannel@{isUsingChannel}!MPEInstrument@{MPEInstrument}}
\doxysubsubsection{\texorpdfstring{isUsingChannel()}{isUsingChannel()}}
{\footnotesize\ttfamily bool MPEInstrument\+::is\+Using\+Channel (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}}}]{midi\+Channel }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [noexcept]}}

Returns true if the given MIDI channel (1-\/16) is used by any of the \mbox{\hyperlink{class_m_p_e_instrument}{MPEInstrument}}\textquotesingle{}s MPE zones; false otherwise.

When in legacy mode, this will return true if the given channel is contained in the current legacy mode channel range; false otherwise. \mbox{\Hypertarget{class_m_p_e_instrument_ae9e882e79f7a04e928ab37eb4b4e40ec}\label{class_m_p_e_instrument_ae9e882e79f7a04e928ab37eb4b4e40ec}} 
\index{MPEInstrument@{MPEInstrument}!noteOff@{noteOff}}
\index{noteOff@{noteOff}!MPEInstrument@{MPEInstrument}}
\doxysubsubsection{\texorpdfstring{noteOff()}{noteOff()}}
{\footnotesize\ttfamily \mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} MPEInstrument\+::note\+Off (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}}}]{midi\+Channel,  }\item[{\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}}}]{midi\+Note\+Number,  }\item[{\mbox{\hyperlink{class_m_p_e_value}{MPEValue}}}]{midi\+Note\+Off\+Velocity }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

Request a note-\/off.

If there is a matching playing note, this will release the note (except if it is sustained by a sustain or sostenuto pedal) and call the note\+Released callback. \mbox{\Hypertarget{class_m_p_e_instrument_a2ea5de01f0e163074c941199216cf189}\label{class_m_p_e_instrument_a2ea5de01f0e163074c941199216cf189}} 
\index{MPEInstrument@{MPEInstrument}!noteOn@{noteOn}}
\index{noteOn@{noteOn}!MPEInstrument@{MPEInstrument}}
\doxysubsubsection{\texorpdfstring{noteOn()}{noteOn()}}
{\footnotesize\ttfamily \mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} MPEInstrument\+::note\+On (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}}}]{midi\+Channel,  }\item[{\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}}}]{midi\+Note\+Number,  }\item[{\mbox{\hyperlink{class_m_p_e_value}{MPEValue}}}]{midi\+Note\+On\+Velocity }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

Request a note-\/on on the given channel, with the given initial note number and velocity.

If the message arrives on a valid note channel, this will create a new \mbox{\hyperlink{struct_m_p_e_note}{MPENote}} and call the note\+Added callback. \mbox{\Hypertarget{class_m_p_e_instrument_ad392a1d60825ba67d735577dafce580b}\label{class_m_p_e_instrument_ad392a1d60825ba67d735577dafce580b}} 
\index{MPEInstrument@{MPEInstrument}!pitchbend@{pitchbend}}
\index{pitchbend@{pitchbend}!MPEInstrument@{MPEInstrument}}
\doxysubsubsection{\texorpdfstring{pitchbend()}{pitchbend()}}
{\footnotesize\ttfamily \mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} MPEInstrument\+::pitchbend (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}}}]{midi\+Channel,  }\item[{\mbox{\hyperlink{class_m_p_e_value}{MPEValue}}}]{pitchbend }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

Request a pitchbend on the given channel with the given value (in units of MIDI pitchwheel position).

Internally, this will determine whether the pitchwheel move is a per-\/note pitchbend or a master pitchbend (depending on midi\+Channel), take the correct per-\/note or master pitchbend range of the affected MPE zone, and apply the resulting pitchbend to the affected note(s) (if any). \mbox{\Hypertarget{class_m_p_e_instrument_a5aa419882cef245621cb8b24d1d455ff}\label{class_m_p_e_instrument_a5aa419882cef245621cb8b24d1d455ff}} 
\index{MPEInstrument@{MPEInstrument}!polyAftertouch@{polyAftertouch}}
\index{polyAftertouch@{polyAftertouch}!MPEInstrument@{MPEInstrument}}
\doxysubsubsection{\texorpdfstring{polyAftertouch()}{polyAftertouch()}}
{\footnotesize\ttfamily \mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} MPEInstrument\+::poly\+Aftertouch (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}}}]{midi\+Channel,  }\item[{\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}}}]{midi\+Note\+Number,  }\item[{\mbox{\hyperlink{class_m_p_e_value}{MPEValue}}}]{value }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

Request a poly-\/aftertouch change for a given note number.

The change will be broadcast to all notes sharing the channel and note number of the change message. \mbox{\Hypertarget{class_m_p_e_instrument_a6bba3f4aa0162e9eb0fea07747fa8ebd}\label{class_m_p_e_instrument_a6bba3f4aa0162e9eb0fea07747fa8ebd}} 
\index{MPEInstrument@{MPEInstrument}!pressure@{pressure}}
\index{pressure@{pressure}!MPEInstrument@{MPEInstrument}}
\doxysubsubsection{\texorpdfstring{pressure()}{pressure()}}
{\footnotesize\ttfamily \mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} MPEInstrument\+::pressure (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}}}]{midi\+Channel,  }\item[{\mbox{\hyperlink{class_m_p_e_value}{MPEValue}}}]{value }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

Request a pressure change on the given channel with the given value.

This will modify the pressure dimension of the note currently held down on this channel (if any). If the channel is a zone master channel, the pressure change will be broadcast to all notes in this zone. \mbox{\Hypertarget{class_m_p_e_instrument_a2d4ea1f5fcd64d8feeac46ee9e5db712}\label{class_m_p_e_instrument_a2d4ea1f5fcd64d8feeac46ee9e5db712}} 
\index{MPEInstrument@{MPEInstrument}!processNextMidiEvent@{processNextMidiEvent}}
\index{processNextMidiEvent@{processNextMidiEvent}!MPEInstrument@{MPEInstrument}}
\doxysubsubsection{\texorpdfstring{processNextMidiEvent()}{processNextMidiEvent()}}
{\footnotesize\ttfamily \mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} MPEInstrument\+::process\+Next\+Midi\+Event (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} \mbox{\hyperlink{class_midi_message}{Midi\+Message}} \&}]{message }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

\mbox{\hyperlink{class_process}{Process}} a MIDI message and trigger the appropriate method calls (note\+On, note\+Off etc.)

You can override this method if you need some special MIDI message treatment on top of the standard MPE logic implemented here. \mbox{\Hypertarget{class_m_p_e_instrument_aaf951ef21849aa7538abea6545b66d96}\label{class_m_p_e_instrument_aaf951ef21849aa7538abea6545b66d96}} 
\index{MPEInstrument@{MPEInstrument}!releaseAllNotes@{releaseAllNotes}}
\index{releaseAllNotes@{releaseAllNotes}!MPEInstrument@{MPEInstrument}}
\doxysubsubsection{\texorpdfstring{releaseAllNotes()}{releaseAllNotes()}}
{\footnotesize\ttfamily \mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} MPEInstrument\+::release\+All\+Notes (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Discard all currently playing notes.

This will also call the note\+Released listener callback for all of them. \mbox{\Hypertarget{class_m_p_e_instrument_ab4d3e9434362da8324d920832f638759}\label{class_m_p_e_instrument_ab4d3e9434362da8324d920832f638759}} 
\index{MPEInstrument@{MPEInstrument}!removeListener@{removeListener}}
\index{removeListener@{removeListener}!MPEInstrument@{MPEInstrument}}
\doxysubsubsection{\texorpdfstring{removeListener()}{removeListener()}}
{\footnotesize\ttfamily \mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} MPEInstrument\+::remove\+Listener (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_m_p_e_instrument_1_1_listener}{Listener}} $\ast$}]{listener\+To\+Remove }\end{DoxyParamCaption})}

Removes a listener. \mbox{\Hypertarget{class_m_p_e_instrument_abef02c4b4ea3d4fc9ce6aede066696ef}\label{class_m_p_e_instrument_abef02c4b4ea3d4fc9ce6aede066696ef}} 
\index{MPEInstrument@{MPEInstrument}!setLegacyModeChannelRange@{setLegacyModeChannelRange}}
\index{setLegacyModeChannelRange@{setLegacyModeChannelRange}!MPEInstrument@{MPEInstrument}}
\doxysubsubsection{\texorpdfstring{setLegacyModeChannelRange()}{setLegacyModeChannelRange()}}
{\footnotesize\ttfamily \mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} MPEInstrument\+::set\+Legacy\+Mode\+Channel\+Range (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_range}{Range}}$<$ \mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}} $>$}]{channel\+Range }\end{DoxyParamCaption})}

Re-\/sets the range of MIDI channels (1-\/16) to be used for notes when in legacy mode. \mbox{\Hypertarget{class_m_p_e_instrument_a6c4f9fd1840122bf9520a504dbfda956}\label{class_m_p_e_instrument_a6c4f9fd1840122bf9520a504dbfda956}} 
\index{MPEInstrument@{MPEInstrument}!setLegacyModePitchbendRange@{setLegacyModePitchbendRange}}
\index{setLegacyModePitchbendRange@{setLegacyModePitchbendRange}!MPEInstrument@{MPEInstrument}}
\doxysubsubsection{\texorpdfstring{setLegacyModePitchbendRange()}{setLegacyModePitchbendRange()}}
{\footnotesize\ttfamily \mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} MPEInstrument\+::set\+Legacy\+Mode\+Pitchbend\+Range (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}}}]{pitchbend\+Range }\end{DoxyParamCaption})}

Re-\/sets the pitchbend range in semitones (0-\/96) to be used for notes when in legacy mode. \mbox{\Hypertarget{class_m_p_e_instrument_a6502dcaaf2c1ebb799328f0f98df8b35}\label{class_m_p_e_instrument_a6502dcaaf2c1ebb799328f0f98df8b35}} 
\index{MPEInstrument@{MPEInstrument}!setPitchbendTrackingMode@{setPitchbendTrackingMode}}
\index{setPitchbendTrackingMode@{setPitchbendTrackingMode}!MPEInstrument@{MPEInstrument}}
\doxysubsubsection{\texorpdfstring{setPitchbendTrackingMode()}{setPitchbendTrackingMode()}}
{\footnotesize\ttfamily \mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} MPEInstrument\+::set\+Pitchbend\+Tracking\+Mode (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_m_p_e_instrument_a6253ed9c5e70322645b02865c70dc0b6}{Tracking\+Mode}}}]{mode\+To\+Use }\end{DoxyParamCaption})}

Set the MPE tracking mode for the pitchbend dimension. \mbox{\Hypertarget{class_m_p_e_instrument_aa8ffdce53374855ed114ca92004bcce6}\label{class_m_p_e_instrument_aa8ffdce53374855ed114ca92004bcce6}} 
\index{MPEInstrument@{MPEInstrument}!setPressureTrackingMode@{setPressureTrackingMode}}
\index{setPressureTrackingMode@{setPressureTrackingMode}!MPEInstrument@{MPEInstrument}}
\doxysubsubsection{\texorpdfstring{setPressureTrackingMode()}{setPressureTrackingMode()}}
{\footnotesize\ttfamily \mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} MPEInstrument\+::set\+Pressure\+Tracking\+Mode (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_m_p_e_instrument_a6253ed9c5e70322645b02865c70dc0b6}{Tracking\+Mode}}}]{mode\+To\+Use }\end{DoxyParamCaption})}

Set the MPE tracking mode for the pressure dimension. \mbox{\Hypertarget{class_m_p_e_instrument_aade5f2cf6d0944bfb7f3fd353ce0dbd4}\label{class_m_p_e_instrument_aade5f2cf6d0944bfb7f3fd353ce0dbd4}} 
\index{MPEInstrument@{MPEInstrument}!setTimbreTrackingMode@{setTimbreTrackingMode}}
\index{setTimbreTrackingMode@{setTimbreTrackingMode}!MPEInstrument@{MPEInstrument}}
\doxysubsubsection{\texorpdfstring{setTimbreTrackingMode()}{setTimbreTrackingMode()}}
{\footnotesize\ttfamily \mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} MPEInstrument\+::set\+Timbre\+Tracking\+Mode (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_m_p_e_instrument_a6253ed9c5e70322645b02865c70dc0b6}{Tracking\+Mode}}}]{mode\+To\+Use }\end{DoxyParamCaption})}

Set the MPE tracking mode for the timbre dimension. \mbox{\Hypertarget{class_m_p_e_instrument_a60a37c57cd5206090b4d2d866b959746}\label{class_m_p_e_instrument_a60a37c57cd5206090b4d2d866b959746}} 
\index{MPEInstrument@{MPEInstrument}!setZoneLayout@{setZoneLayout}}
\index{setZoneLayout@{setZoneLayout}!MPEInstrument@{MPEInstrument}}
\doxysubsubsection{\texorpdfstring{setZoneLayout()}{setZoneLayout()}}
{\footnotesize\ttfamily \mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} MPEInstrument\+::set\+Zone\+Layout (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_m_p_e_zone_layout}{MPEZone\+Layout}}}]{new\+Layout }\end{DoxyParamCaption})}

Re-\/sets the zone layout of the instrument to the one passed in. As a side effect, this will discard all currently playing notes, and call note\+Released for all of them.

This will also disable legacy mode in case it was enabled previously. \mbox{\Hypertarget{class_m_p_e_instrument_a6546cf59813219fe22a565e5d8a7c86c}\label{class_m_p_e_instrument_a6546cf59813219fe22a565e5d8a7c86c}} 
\index{MPEInstrument@{MPEInstrument}!sostenutoPedal@{sostenutoPedal}}
\index{sostenutoPedal@{sostenutoPedal}!MPEInstrument@{MPEInstrument}}
\doxysubsubsection{\texorpdfstring{sostenutoPedal()}{sostenutoPedal()}}
{\footnotesize\ttfamily \mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} MPEInstrument\+::sostenuto\+Pedal (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}}}]{midi\+Channel,  }\item[{bool}]{is\+Down }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

Request a sostenuto pedal press or release.

If midi\+Channel is a zone\textquotesingle{}s master channel, this will act on all notes in that zone; otherwise, nothing will happen. \mbox{\Hypertarget{class_m_p_e_instrument_a50fbf63229426125eb618f7629af799f}\label{class_m_p_e_instrument_a50fbf63229426125eb618f7629af799f}} 
\index{MPEInstrument@{MPEInstrument}!sustainPedal@{sustainPedal}}
\index{sustainPedal@{sustainPedal}!MPEInstrument@{MPEInstrument}}
\doxysubsubsection{\texorpdfstring{sustainPedal()}{sustainPedal()}}
{\footnotesize\ttfamily \mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} MPEInstrument\+::sustain\+Pedal (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}}}]{midi\+Channel,  }\item[{bool}]{is\+Down }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

Request a sustain pedal press or release.

If midi\+Channel is a zone\textquotesingle{}s master channel, this will act on all notes in that zone; otherwise, nothing will happen. \mbox{\Hypertarget{class_m_p_e_instrument_ad307eed95a84128f74462e45f027b0c9}\label{class_m_p_e_instrument_ad307eed95a84128f74462e45f027b0c9}} 
\index{MPEInstrument@{MPEInstrument}!timbre@{timbre}}
\index{timbre@{timbre}!MPEInstrument@{MPEInstrument}}
\doxysubsubsection{\texorpdfstring{timbre()}{timbre()}}
{\footnotesize\ttfamily \mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} MPEInstrument\+::timbre (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}}}]{midi\+Channel,  }\item[{\mbox{\hyperlink{class_m_p_e_value}{MPEValue}}}]{value }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

Request a third dimension (timbre) change on the given channel with the given value.

This will modify the timbre dimension of the note currently held down on this channel (if any). If the channel is a zone master channel, the timbre change will be broadcast to all notes in this zone. 

\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{class_m_p_e_instrument_ad41d0a0ff109319ceab4a72ebca7187e}\label{class_m_p_e_instrument_ad41d0a0ff109319ceab4a72ebca7187e}} 
\index{MPEInstrument@{MPEInstrument}!lock@{lock}}
\index{lock@{lock}!MPEInstrument@{MPEInstrument}}
\doxysubsubsection{\texorpdfstring{lock}{lock}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_critical_section}{Critical\+Section}} MPEInstrument\+::lock\hspace{0.3cm}{\ttfamily [protected]}}



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
build/juce\+\_\+audio\+\_\+basics/mpe/\mbox{\hyperlink{juce___m_p_e_instrument_8h}{juce\+\_\+\+MPEInstrument.\+h}}\item 
build/juce\+\_\+audio\+\_\+basics/mpe/\mbox{\hyperlink{juce___m_p_e_instrument_8cpp}{juce\+\_\+\+MPEInstrument.\+cpp}}\end{DoxyCompactItemize}
