\hypertarget{class_message_manager_1_1_lock}{}\doxysection{Message\+Manager\+::Lock Class Reference}
\label{class_message_manager_1_1_lock}\index{MessageManager::Lock@{MessageManager::Lock}}


{\ttfamily \#include $<$juce\+\_\+\+Message\+Manager.\+h$>$}

\doxysubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
using \mbox{\hyperlink{class_message_manager_1_1_lock_a2e4edcc1451d23bc214cf4af20f8b411}{Scoped\+Lock\+Type}} = \mbox{\hyperlink{class_generic_scoped_lock}{Generic\+Scoped\+Lock}}$<$ \mbox{\hyperlink{class_message_manager_1_1_lock}{Lock}} $>$
\item 
using \mbox{\hyperlink{class_message_manager_1_1_lock_ab346e319f6348623936dc15abec96423}{Scoped\+Unlock\+Type}} = \mbox{\hyperlink{class_generic_scoped_unlock}{Generic\+Scoped\+Unlock}}$<$ \mbox{\hyperlink{class_message_manager_1_1_lock}{Lock}} $>$
\item 
using \mbox{\hyperlink{class_message_manager_1_1_lock_a4d53b1afe179dfe40c908853d33f7086}{Scoped\+Try\+Lock\+Type}} = \mbox{\hyperlink{class_generic_scoped_try_lock}{Generic\+Scoped\+Try\+Lock}}$<$ \mbox{\hyperlink{class_message_manager_1_1_lock}{Lock}} $>$
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_message_manager_1_1_lock_a967f5c40c7c0d139ad13d7db9ac8b671}{Lock}} ()
\item 
\mbox{\hyperlink{class_message_manager_1_1_lock_a3f3f0ff1d43e8805b8875e79acca8dba}{$\sim$\+Lock}} ()
\item 
\mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} \mbox{\hyperlink{class_message_manager_1_1_lock_a922a156059b20be5002a9fcd20593a1a}{enter}} () \mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} noexcept
\item 
bool \mbox{\hyperlink{class_message_manager_1_1_lock_a6f6f36cab30fcd814ee47000ed8496f2}{try\+Enter}} () \mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} noexcept
\item 
\mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} \mbox{\hyperlink{class_message_manager_1_1_lock_acab5d488a35276d014bbc9f99518173b}{exit}} () \mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} noexcept
\item 
\mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} \mbox{\hyperlink{class_message_manager_1_1_lock_a74490f0867d8d4f1898fa21602e42f19}{abort}} () \mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} noexcept
\end{DoxyCompactItemize}
\doxysubsection*{Friends}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{class_message_manager_1_1_lock_a8ed5300c838197d18aaf07136b43fa5f}{Reference\+Counted\+Object\+Ptr$<$ Blocking\+Message $>$}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
A lock you can use to lock the message manager. You can use this class with the RAII-\/based Scoped\+Lock classes. 

\doxysubsection{Member Typedef Documentation}
\mbox{\Hypertarget{class_message_manager_1_1_lock_a2e4edcc1451d23bc214cf4af20f8b411}\label{class_message_manager_1_1_lock_a2e4edcc1451d23bc214cf4af20f8b411}} 
\index{MessageManager::Lock@{MessageManager::Lock}!ScopedLockType@{ScopedLockType}}
\index{ScopedLockType@{ScopedLockType}!MessageManager::Lock@{MessageManager::Lock}}
\doxysubsubsection{\texorpdfstring{ScopedLockType}{ScopedLockType}}
{\footnotesize\ttfamily using \mbox{\hyperlink{class_message_manager_1_1_lock_a2e4edcc1451d23bc214cf4af20f8b411}{Message\+Manager\+::\+Lock\+::\+Scoped\+Lock\+Type}} =  \mbox{\hyperlink{class_generic_scoped_lock}{Generic\+Scoped\+Lock}}$<$\mbox{\hyperlink{class_message_manager_1_1_lock}{Lock}}$>$}

Provides the type of scoped lock to use with a \mbox{\hyperlink{class_critical_section}{Critical\+Section}}. \mbox{\Hypertarget{class_message_manager_1_1_lock_a4d53b1afe179dfe40c908853d33f7086}\label{class_message_manager_1_1_lock_a4d53b1afe179dfe40c908853d33f7086}} 
\index{MessageManager::Lock@{MessageManager::Lock}!ScopedTryLockType@{ScopedTryLockType}}
\index{ScopedTryLockType@{ScopedTryLockType}!MessageManager::Lock@{MessageManager::Lock}}
\doxysubsubsection{\texorpdfstring{ScopedTryLockType}{ScopedTryLockType}}
{\footnotesize\ttfamily using \mbox{\hyperlink{class_message_manager_1_1_lock_a4d53b1afe179dfe40c908853d33f7086}{Message\+Manager\+::\+Lock\+::\+Scoped\+Try\+Lock\+Type}} =  \mbox{\hyperlink{class_generic_scoped_try_lock}{Generic\+Scoped\+Try\+Lock}}$<$\mbox{\hyperlink{class_message_manager_1_1_lock}{Lock}}$>$}

Provides the type of scoped try-\/locker to use with a \mbox{\hyperlink{class_critical_section}{Critical\+Section}}. \mbox{\Hypertarget{class_message_manager_1_1_lock_ab346e319f6348623936dc15abec96423}\label{class_message_manager_1_1_lock_ab346e319f6348623936dc15abec96423}} 
\index{MessageManager::Lock@{MessageManager::Lock}!ScopedUnlockType@{ScopedUnlockType}}
\index{ScopedUnlockType@{ScopedUnlockType}!MessageManager::Lock@{MessageManager::Lock}}
\doxysubsubsection{\texorpdfstring{ScopedUnlockType}{ScopedUnlockType}}
{\footnotesize\ttfamily using \mbox{\hyperlink{class_message_manager_1_1_lock_ab346e319f6348623936dc15abec96423}{Message\+Manager\+::\+Lock\+::\+Scoped\+Unlock\+Type}} =  \mbox{\hyperlink{class_generic_scoped_unlock}{Generic\+Scoped\+Unlock}}$<$\mbox{\hyperlink{class_message_manager_1_1_lock}{Lock}}$>$}

Provides the type of scoped unlocker to use with a \mbox{\hyperlink{class_critical_section}{Critical\+Section}}. 

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_message_manager_1_1_lock_a967f5c40c7c0d139ad13d7db9ac8b671}\label{class_message_manager_1_1_lock_a967f5c40c7c0d139ad13d7db9ac8b671}} 
\index{MessageManager::Lock@{MessageManager::Lock}!Lock@{Lock}}
\index{Lock@{Lock}!MessageManager::Lock@{MessageManager::Lock}}
\doxysubsubsection{\texorpdfstring{Lock()}{Lock()}}
{\footnotesize\ttfamily Message\+Manager\+::\+Lock\+::\+Lock (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Creates a new critical section to exclusively access methods which can only be called when the message manager is locked.

Unlike \mbox{\hyperlink{class_critical_section}{Critical\+Section}}, multiple instances of this lock class provide exclusive access to a single resource -\/ the \mbox{\hyperlink{class_message_manager}{Message\+Manager}}. \mbox{\Hypertarget{class_message_manager_1_1_lock_a3f3f0ff1d43e8805b8875e79acca8dba}\label{class_message_manager_1_1_lock_a3f3f0ff1d43e8805b8875e79acca8dba}} 
\index{MessageManager::Lock@{MessageManager::Lock}!````~Lock@{$\sim$Lock}}
\index{````~Lock@{$\sim$Lock}!MessageManager::Lock@{MessageManager::Lock}}
\doxysubsubsection{\texorpdfstring{$\sim$Lock()}{~Lock()}}
{\footnotesize\ttfamily Message\+Manager\+::\+Lock\+::$\sim$\+Lock (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Destructor. 

\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_message_manager_1_1_lock_a74490f0867d8d4f1898fa21602e42f19}\label{class_message_manager_1_1_lock_a74490f0867d8d4f1898fa21602e42f19}} 
\index{MessageManager::Lock@{MessageManager::Lock}!abort@{abort}}
\index{abort@{abort}!MessageManager::Lock@{MessageManager::Lock}}
\doxysubsubsection{\texorpdfstring{abort()}{abort()}}
{\footnotesize\ttfamily \mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} Message\+Manager\+::\+Lock\+::abort (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [noexcept]}}

Unblocks a thread which is waiting in try\+Enter Call this method if you want to unblock a thread which is waiting for the \mbox{\hyperlink{class_message_manager}{Message\+Manager}} lock in try\+Enter. This method does not have any effect on a thread waiting for a lock in enter. \begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{class_message_manager_1_1_lock_a6f6f36cab30fcd814ee47000ed8496f2}{try\+Enter}} 
\end{DoxySeeAlso}
\mbox{\Hypertarget{class_message_manager_1_1_lock_a922a156059b20be5002a9fcd20593a1a}\label{class_message_manager_1_1_lock_a922a156059b20be5002a9fcd20593a1a}} 
\index{MessageManager::Lock@{MessageManager::Lock}!enter@{enter}}
\index{enter@{enter}!MessageManager::Lock@{MessageManager::Lock}}
\doxysubsubsection{\texorpdfstring{enter()}{enter()}}
{\footnotesize\ttfamily \mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} Message\+Manager\+::\+Lock\+::enter (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [noexcept]}}

Acquires the message manager lock.

If the caller thread already has exclusive access to the \mbox{\hyperlink{class_message_manager}{Message\+Manager}}, this method will return immediately. If another thread is currently using the \mbox{\hyperlink{class_message_manager}{Message\+Manager}}, this will wait until that thread releases the lock to the \mbox{\hyperlink{class_message_manager}{Message\+Manager}}.

This call will only exit if the lock was acquired by this thread. Calling abort while a thread is waiting for enter to finish, will have no effect.

\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{class_message_manager_1_1_lock_acab5d488a35276d014bbc9f99518173b}{exit}}, \mbox{\hyperlink{class_message_manager_1_1_lock_a74490f0867d8d4f1898fa21602e42f19}{abort}} 
\end{DoxySeeAlso}
\mbox{\Hypertarget{class_message_manager_1_1_lock_acab5d488a35276d014bbc9f99518173b}\label{class_message_manager_1_1_lock_acab5d488a35276d014bbc9f99518173b}} 
\index{MessageManager::Lock@{MessageManager::Lock}!exit@{exit}}
\index{exit@{exit}!MessageManager::Lock@{MessageManager::Lock}}
\doxysubsubsection{\texorpdfstring{exit()}{exit()}}
{\footnotesize\ttfamily \mbox{\hyperlink{png_8h_aa8c59027f9ab2769342f248709d68d17}{void}} Message\+Manager\+::\+Lock\+::exit (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [noexcept]}}

Releases the message manager lock. \begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{class_message_manager_1_1_lock_a922a156059b20be5002a9fcd20593a1a}{enter}}, \mbox{\hyperlink{group__juce__core-threads_gadd0b55041ea549cc9b1dfae71670e543}{Scoped\+Lock}} 
\end{DoxySeeAlso}
\mbox{\Hypertarget{class_message_manager_1_1_lock_a6f6f36cab30fcd814ee47000ed8496f2}\label{class_message_manager_1_1_lock_a6f6f36cab30fcd814ee47000ed8496f2}} 
\index{MessageManager::Lock@{MessageManager::Lock}!tryEnter@{tryEnter}}
\index{tryEnter@{tryEnter}!MessageManager::Lock@{MessageManager::Lock}}
\doxysubsubsection{\texorpdfstring{tryEnter()}{tryEnter()}}
{\footnotesize\ttfamily bool Message\+Manager\+::\+Lock\+::try\+Enter (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [noexcept]}}

Attempts to lock the message manager and exits if abort is called.

This method behaves identically to enter, except that it will abort waiting for the lock if the abort method is called.

Unlike other JUCE critical sections, this method {\bfseries{will}} block waiting for the lock.

To ensure predictable behaviour, you should re-\/check your abort condition if try\+Enter returns false.

This method can be used if you want to do some work while waiting for the \mbox{\hyperlink{class_message_manager_lock}{Message\+Manager\+Lock}}\+:

void do\+Work\+While\+Waiting\+For\+Message\+Manager\+Lock() \{ \mbox{\hyperlink{class_message_manager_1_1_lock_a4d53b1afe179dfe40c908853d33f7086}{Message\+Manager\+::\+Lock\+::\+Scoped\+Try\+Lock\+Type}} mm\+Lock (message\+Manager\+Lock);

while (! mm\+Lock.\+is\+Locked()) \{ while (\mbox{\hyperlink{namespacegl_a441d79156826d7dfbf89100bb934a38d}{work\+Queue.\+size()}} \texorpdfstring{$>$}{>} 0) \{ auto work = work\+Queue.\+pop(); do\+Some\+Work (work); \}

this will block until we either have the lock or there is work mm\+Lock.\+retry\+Lock(); \}

we have the mmlock do some message manager stuff like resizing and painting components \}

called from another thread void add\+Work\+To\+Do (Work work) \{ queue.\+push (work); message\+Manager\+Lock.\+abort(); \}

\begin{DoxyReturn}{Returns}
false if waiting for a lock was aborted, true if the lock was acquired. 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{class_message_manager_1_1_lock_a922a156059b20be5002a9fcd20593a1a}{enter}}, \mbox{\hyperlink{class_message_manager_1_1_lock_a74490f0867d8d4f1898fa21602e42f19}{abort}}, \mbox{\hyperlink{group__juce__core-threads_ga5cd183417b285db9aacbb12c30e51d4f}{Scoped\+Try\+Lock}} 
\end{DoxySeeAlso}


\doxysubsection{Friends And Related Function Documentation}
\mbox{\Hypertarget{class_message_manager_1_1_lock_a8ed5300c838197d18aaf07136b43fa5f}\label{class_message_manager_1_1_lock_a8ed5300c838197d18aaf07136b43fa5f}} 
\index{MessageManager::Lock@{MessageManager::Lock}!ReferenceCountedObjectPtr$<$ BlockingMessage $>$@{ReferenceCountedObjectPtr$<$ BlockingMessage $>$}}
\index{ReferenceCountedObjectPtr$<$ BlockingMessage $>$@{ReferenceCountedObjectPtr$<$ BlockingMessage $>$}!MessageManager::Lock@{MessageManager::Lock}}
\doxysubsubsection{\texorpdfstring{ReferenceCountedObjectPtr$<$ BlockingMessage $>$}{ReferenceCountedObjectPtr< BlockingMessage >}}
{\footnotesize\ttfamily friend class \mbox{\hyperlink{class_reference_counted_object_ptr}{Reference\+Counted\+Object\+Ptr}}$<$ Blocking\+Message $>$\hspace{0.3cm}{\ttfamily [friend]}}



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
build/juce\+\_\+events/messages/\mbox{\hyperlink{juce___message_manager_8h}{juce\+\_\+\+Message\+Manager.\+h}}\end{DoxyCompactItemize}
