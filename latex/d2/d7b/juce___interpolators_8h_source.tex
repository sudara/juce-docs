\hypertarget{juce___interpolators_8h_source}{}\doxysection{juce\+\_\+\+Interpolators.\+h}
\label{juce___interpolators_8h_source}\index{build/juce\_audio\_basics/utilities/juce\_Interpolators.h@{build/juce\_audio\_basics/utilities/juce\_Interpolators.h}}
\mbox{\hyperlink{juce___interpolators_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 }
\DoxyCodeLine{5 \textcolor{comment}{/*}}
\DoxyCodeLine{6 \textcolor{comment}{  ==============================================================================}}
\DoxyCodeLine{7 \textcolor{comment}{}}
\DoxyCodeLine{8 \textcolor{comment}{   This file is part of the JUCE library.}}
\DoxyCodeLine{9 \textcolor{comment}{   Copyright (c) 2020 -\/ Raw Material Software Limited}}
\DoxyCodeLine{10 \textcolor{comment}{}}
\DoxyCodeLine{11 \textcolor{comment}{   JUCE is an open source library subject to commercial or open-\/source}}
\DoxyCodeLine{12 \textcolor{comment}{   licensing.}}
\DoxyCodeLine{13 \textcolor{comment}{}}
\DoxyCodeLine{14 \textcolor{comment}{   By using JUCE, you agree to the terms of both the JUCE 6 End-\/User License}}
\DoxyCodeLine{15 \textcolor{comment}{   Agreement and JUCE Privacy Policy (both effective as of the 16th June 2020).}}
\DoxyCodeLine{16 \textcolor{comment}{}}
\DoxyCodeLine{17 \textcolor{comment}{   End User License Agreement: www.juce.com/juce-\/6-\/licence}}
\DoxyCodeLine{18 \textcolor{comment}{   Privacy Policy: www.juce.com/juce-\/privacy-\/policy}}
\DoxyCodeLine{19 \textcolor{comment}{}}
\DoxyCodeLine{20 \textcolor{comment}{   Or: You may also use this code under the terms of the GPL v3 (see}}
\DoxyCodeLine{21 \textcolor{comment}{   www.gnu.org/licenses).}}
\DoxyCodeLine{22 \textcolor{comment}{}}
\DoxyCodeLine{23 \textcolor{comment}{   JUCE IS PROVIDED "{}AS IS"{} WITHOUT ANY WARRANTY, AND ALL WARRANTIES, WHETHER}}
\DoxyCodeLine{24 \textcolor{comment}{   EXPRESSED OR IMPLIED, INCLUDING MERCHANTABILITY AND FITNESS FOR PURPOSE, ARE}}
\DoxyCodeLine{25 \textcolor{comment}{   DISCLAIMED.}}
\DoxyCodeLine{26 \textcolor{comment}{}}
\DoxyCodeLine{27 \textcolor{comment}{  ==============================================================================}}
\DoxyCodeLine{28 \textcolor{comment}{*/}}
\DoxyCodeLine{29 }
\DoxyCodeLine{38 \textcolor{keyword}{class }\mbox{\hyperlink{class_interpolators}{Interpolators}}}
\DoxyCodeLine{39 \{}
\DoxyCodeLine{40 \textcolor{keyword}{private}:}
\DoxyCodeLine{41     \textcolor{keyword}{struct }WindowedSincTraits}
\DoxyCodeLine{42     \{}
\DoxyCodeLine{43         \textcolor{keyword}{static} \textcolor{keyword}{constexpr} \textcolor{keywordtype}{float} algorithmicLatency = 100.0f;}
\DoxyCodeLine{44 }
\DoxyCodeLine{45         \textcolor{keyword}{static} \mbox{\hyperlink{group__juce__core-system_gac2535cb549b141b3a96b8a08014e46cb}{forcedinline}} \textcolor{keywordtype}{float} windowedSinc (\textcolor{keywordtype}{float} firstFrac, \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacegl_a06a196a98fd7b17e699cbea6c66c37cb}{index}}) \textcolor{keyword}{noexcept}}
\DoxyCodeLine{46         \{}
\DoxyCodeLine{47             \textcolor{keyword}{auto} index2 = \mbox{\hyperlink{namespacegl_a06a196a98fd7b17e699cbea6c66c37cb}{index}} + 1;}
\DoxyCodeLine{48             \textcolor{keyword}{auto} frac = firstFrac;}
\DoxyCodeLine{49 }
\DoxyCodeLine{50             \textcolor{keyword}{auto} value1 = lookupTable[\mbox{\hyperlink{namespacegl_a06a196a98fd7b17e699cbea6c66c37cb}{index}}];}
\DoxyCodeLine{51             \textcolor{keyword}{auto} value2 = lookupTable[index2];}
\DoxyCodeLine{52 }
\DoxyCodeLine{53             \textcolor{keywordflow}{return} value1 + (frac * (value2 -\/ value1));}
\DoxyCodeLine{54         \}}
\DoxyCodeLine{55 }
\DoxyCodeLine{56         \textcolor{keyword}{static} \mbox{\hyperlink{group__juce__core-system_gac2535cb549b141b3a96b8a08014e46cb}{forcedinline}} \textcolor{keywordtype}{float} valueAtOffset (\textcolor{keyword}{const} \textcolor{keywordtype}{float}* \textcolor{keyword}{const} inputs, \textcolor{keyword}{const} \textcolor{keywordtype}{float} \mbox{\hyperlink{namespacegl_aa4212fe83465b750077176bdbad74288}{offset}}, \textcolor{keywordtype}{int} indexBuffer) \textcolor{keyword}{noexcept}}
\DoxyCodeLine{57         \{}
\DoxyCodeLine{58             \textcolor{keyword}{const} \textcolor{keywordtype}{int} numCrossings = 100;}
\DoxyCodeLine{59             \textcolor{keyword}{const} \textcolor{keywordtype}{float} floatCrossings = (float) numCrossings;}
\DoxyCodeLine{60             \textcolor{keywordtype}{float} \mbox{\hyperlink{namespacegl_a7cb1126dbc1cb105bcce082cff5ae633}{result}} = 0.0f;}
\DoxyCodeLine{61 }
\DoxyCodeLine{62             \textcolor{keyword}{auto} samplePosition = indexBuffer;}
\DoxyCodeLine{63             \textcolor{keywordtype}{float} firstFrac = 0.0f;}
\DoxyCodeLine{64             \textcolor{keywordtype}{float} lastSincPosition = -\/1.0f;}
\DoxyCodeLine{65             \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacegl_a06a196a98fd7b17e699cbea6c66c37cb}{index}} = 0, sign = -\/1;}
\DoxyCodeLine{66 }
\DoxyCodeLine{67             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = -\/numCrossings; i <= numCrossings; ++i)}
\DoxyCodeLine{68             \{}
\DoxyCodeLine{69                 \textcolor{keyword}{auto} sincPosition = (1.0f -\/ \mbox{\hyperlink{namespacegl_aa4212fe83465b750077176bdbad74288}{offset}}) + (\textcolor{keywordtype}{float}) i;}
\DoxyCodeLine{70 }
\DoxyCodeLine{71                 \textcolor{keywordflow}{if} (i == -\/numCrossings || (sincPosition >= 0 \&\& lastSincPosition < 0))}
\DoxyCodeLine{72                 \{}
\DoxyCodeLine{73                     \textcolor{keyword}{auto} indexFloat = (sincPosition >= 0.f ? sincPosition : -\/sincPosition) * 100.0f;}
\DoxyCodeLine{74                     \textcolor{keyword}{auto} indexFloored = std::floor (indexFloat);}
\DoxyCodeLine{75                     \mbox{\hyperlink{namespacegl_a06a196a98fd7b17e699cbea6c66c37cb}{index}} = (\mbox{\hyperlink{group__juce__audio__plugin__client-_unity_ga966b05a42d98c7296097e073c627dcd0}{int}}) indexFloored;}
\DoxyCodeLine{76                     firstFrac = indexFloat -\/ indexFloored;}
\DoxyCodeLine{77                     sign = (sincPosition < 0 ? -\/1 : 1);}
\DoxyCodeLine{78                 \}}
\DoxyCodeLine{79 }
\DoxyCodeLine{80                 \textcolor{keywordflow}{if} (sincPosition == 0.0f)}
\DoxyCodeLine{81                     \mbox{\hyperlink{namespacegl_a7cb1126dbc1cb105bcce082cff5ae633}{result}} += inputs[samplePosition];}
\DoxyCodeLine{82                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (sincPosition < floatCrossings \&\& sincPosition > -\/floatCrossings)}
\DoxyCodeLine{83                     \mbox{\hyperlink{namespacegl_a7cb1126dbc1cb105bcce082cff5ae633}{result}} += inputs[samplePosition] * windowedSinc (firstFrac, \mbox{\hyperlink{namespacegl_a06a196a98fd7b17e699cbea6c66c37cb}{index}});}
\DoxyCodeLine{84 }
\DoxyCodeLine{85                 \textcolor{keywordflow}{if} (++samplePosition == numCrossings * 2)}
\DoxyCodeLine{86                     samplePosition = 0;}
\DoxyCodeLine{87 }
\DoxyCodeLine{88                 lastSincPosition = sincPosition;}
\DoxyCodeLine{89                 \mbox{\hyperlink{namespacegl_a06a196a98fd7b17e699cbea6c66c37cb}{index}} += 100 * sign;}
\DoxyCodeLine{90             \}}
\DoxyCodeLine{91 }
\DoxyCodeLine{92             \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacegl_a7cb1126dbc1cb105bcce082cff5ae633}{result}};}
\DoxyCodeLine{93         \}}
\DoxyCodeLine{94 }
\DoxyCodeLine{95         \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{float} lookupTable[10001];}
\DoxyCodeLine{96     \};}
\DoxyCodeLine{97 }
\DoxyCodeLine{98     \textcolor{keyword}{struct }LagrangeTraits}
\DoxyCodeLine{99     \{}
\DoxyCodeLine{100         \textcolor{keyword}{static} \textcolor{keyword}{constexpr} \textcolor{keywordtype}{float} algorithmicLatency = 2.0f;}
\DoxyCodeLine{101 }
\DoxyCodeLine{102         \textcolor{keyword}{static} \textcolor{keywordtype}{float} valueAtOffset (\textcolor{keyword}{const} \textcolor{keywordtype}{float}*, \textcolor{keywordtype}{float}, \textcolor{keywordtype}{int}) \textcolor{keyword}{noexcept};}
\DoxyCodeLine{103     \};}
\DoxyCodeLine{104 }
\DoxyCodeLine{105     \textcolor{keyword}{struct }CatmullRomTraits}
\DoxyCodeLine{106     \{}
\DoxyCodeLine{107         \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{108         \textcolor{keyword}{static} \textcolor{keyword}{constexpr} \textcolor{keywordtype}{float} algorithmicLatency = 2.0f;}
\DoxyCodeLine{109 }
\DoxyCodeLine{110         \textcolor{keyword}{static} \mbox{\hyperlink{group__juce__core-system_gac2535cb549b141b3a96b8a08014e46cb}{forcedinline}} \textcolor{keywordtype}{float} valueAtOffset (\textcolor{keyword}{const} \textcolor{keywordtype}{float}* \textcolor{keyword}{const} inputs, \textcolor{keyword}{const} \textcolor{keywordtype}{float} \mbox{\hyperlink{namespacegl_aa4212fe83465b750077176bdbad74288}{offset}}, \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacegl_a06a196a98fd7b17e699cbea6c66c37cb}{index}}) \textcolor{keyword}{noexcept}}
\DoxyCodeLine{111         \{}
\DoxyCodeLine{112             \textcolor{keyword}{auto} \mbox{\hyperlink{namespacegl_a550f7d02587a8c4088e31ee305f37f6f}{y0}} = inputs[\mbox{\hyperlink{namespacegl_a06a196a98fd7b17e699cbea6c66c37cb}{index}}]; \textcolor{keywordflow}{if} (++\mbox{\hyperlink{namespacegl_a06a196a98fd7b17e699cbea6c66c37cb}{index}} == 4) \mbox{\hyperlink{namespacegl_a06a196a98fd7b17e699cbea6c66c37cb}{index}} = 0;}
\DoxyCodeLine{113             \textcolor{keyword}{auto} \mbox{\hyperlink{namespacegl_a3412c80a61c260e478b8085d4ed7a245}{y1}} = inputs[\mbox{\hyperlink{namespacegl_a06a196a98fd7b17e699cbea6c66c37cb}{index}}]; \textcolor{keywordflow}{if} (++\mbox{\hyperlink{namespacegl_a06a196a98fd7b17e699cbea6c66c37cb}{index}} == 4) \mbox{\hyperlink{namespacegl_a06a196a98fd7b17e699cbea6c66c37cb}{index}} = 0;}
\DoxyCodeLine{114             \textcolor{keyword}{auto} \mbox{\hyperlink{namespacegl_aecde589503dc680cf0bc0572eea34a19}{y2}} = inputs[\mbox{\hyperlink{namespacegl_a06a196a98fd7b17e699cbea6c66c37cb}{index}}]; \textcolor{keywordflow}{if} (++\mbox{\hyperlink{namespacegl_a06a196a98fd7b17e699cbea6c66c37cb}{index}} == 4) \mbox{\hyperlink{namespacegl_a06a196a98fd7b17e699cbea6c66c37cb}{index}} = 0;}
\DoxyCodeLine{115             \textcolor{keyword}{auto} y3 = inputs[\mbox{\hyperlink{namespacegl_a06a196a98fd7b17e699cbea6c66c37cb}{index}}];}
\DoxyCodeLine{116 }
\DoxyCodeLine{117             \textcolor{keyword}{auto} halfY0 = 0.5f * \mbox{\hyperlink{namespacegl_a550f7d02587a8c4088e31ee305f37f6f}{y0}};}
\DoxyCodeLine{118             \textcolor{keyword}{auto} halfY3 = 0.5f * y3;}
\DoxyCodeLine{119 }
\DoxyCodeLine{120             \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacegl_a3412c80a61c260e478b8085d4ed7a245}{y1}} + \mbox{\hyperlink{namespacegl_aa4212fe83465b750077176bdbad74288}{offset}} * ((0.5f * \mbox{\hyperlink{namespacegl_aecde589503dc680cf0bc0572eea34a19}{y2}} -\/ halfY0)}
\DoxyCodeLine{121                       + (\mbox{\hyperlink{namespacegl_aa4212fe83465b750077176bdbad74288}{offset}} * (((\mbox{\hyperlink{namespacegl_a550f7d02587a8c4088e31ee305f37f6f}{y0}} + 2.0f * \mbox{\hyperlink{namespacegl_aecde589503dc680cf0bc0572eea34a19}{y2}}) -\/ (halfY3 + 2.5f * \mbox{\hyperlink{namespacegl_a3412c80a61c260e478b8085d4ed7a245}{y1}}))}
\DoxyCodeLine{122                       + (\mbox{\hyperlink{namespacegl_aa4212fe83465b750077176bdbad74288}{offset}} * ((halfY3 + 1.5f * \mbox{\hyperlink{namespacegl_a3412c80a61c260e478b8085d4ed7a245}{y1}}) -\/ (halfY0 + 1.5f * \mbox{\hyperlink{namespacegl_aecde589503dc680cf0bc0572eea34a19}{y2}}))))));}
\DoxyCodeLine{123         \}}
\DoxyCodeLine{124     \};}
\DoxyCodeLine{125 }
\DoxyCodeLine{126     \textcolor{keyword}{struct }LinearTraits}
\DoxyCodeLine{127     \{}
\DoxyCodeLine{128         \textcolor{keyword}{static} \textcolor{keyword}{constexpr} \textcolor{keywordtype}{float} algorithmicLatency = 1.0f;}
\DoxyCodeLine{129 }
\DoxyCodeLine{130         \textcolor{keyword}{static} \mbox{\hyperlink{group__juce__core-system_gac2535cb549b141b3a96b8a08014e46cb}{forcedinline}} \textcolor{keywordtype}{float} valueAtOffset (\textcolor{keyword}{const} \textcolor{keywordtype}{float}* \textcolor{keyword}{const} inputs, \textcolor{keyword}{const} \textcolor{keywordtype}{float} \mbox{\hyperlink{namespacegl_aa4212fe83465b750077176bdbad74288}{offset}}, \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacegl_a06a196a98fd7b17e699cbea6c66c37cb}{index}}) \textcolor{keyword}{noexcept}}
\DoxyCodeLine{131         \{}
\DoxyCodeLine{132             \textcolor{keyword}{auto} \mbox{\hyperlink{namespacegl_a550f7d02587a8c4088e31ee305f37f6f}{y0}} = inputs[\mbox{\hyperlink{namespacegl_a06a196a98fd7b17e699cbea6c66c37cb}{index}}];}
\DoxyCodeLine{133             \textcolor{keyword}{auto} \mbox{\hyperlink{namespacegl_a3412c80a61c260e478b8085d4ed7a245}{y1}} = inputs[\mbox{\hyperlink{namespacegl_a06a196a98fd7b17e699cbea6c66c37cb}{index}} == 0 ? 1 : 0];}
\DoxyCodeLine{134 }
\DoxyCodeLine{135             \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacegl_a3412c80a61c260e478b8085d4ed7a245}{y1}} * \mbox{\hyperlink{namespacegl_aa4212fe83465b750077176bdbad74288}{offset}} + \mbox{\hyperlink{namespacegl_a550f7d02587a8c4088e31ee305f37f6f}{y0}} * (1.0f -\/ \mbox{\hyperlink{namespacegl_aa4212fe83465b750077176bdbad74288}{offset}});}
\DoxyCodeLine{136         \}}
\DoxyCodeLine{137     \};}
\DoxyCodeLine{138 }
\DoxyCodeLine{139     \textcolor{keyword}{struct }ZeroOrderHoldTraits}
\DoxyCodeLine{140     \{}
\DoxyCodeLine{141         \textcolor{keyword}{static} \textcolor{keyword}{constexpr} \textcolor{keywordtype}{float} algorithmicLatency = 0.0f;}
\DoxyCodeLine{142 }
\DoxyCodeLine{143         \textcolor{keyword}{static} \mbox{\hyperlink{group__juce__core-system_gac2535cb549b141b3a96b8a08014e46cb}{forcedinline}} \textcolor{keywordtype}{float} valueAtOffset (\textcolor{keyword}{const} \textcolor{keywordtype}{float}* \textcolor{keyword}{const} inputs, \textcolor{keyword}{const} \textcolor{keywordtype}{float}, \textcolor{keywordtype}{int}) \textcolor{keyword}{noexcept}}
\DoxyCodeLine{144         \{}
\DoxyCodeLine{145             \textcolor{keywordflow}{return} inputs[0];}
\DoxyCodeLine{146         \}}
\DoxyCodeLine{147     \};}
\DoxyCodeLine{148 }
\DoxyCodeLine{149 \textcolor{keyword}{public}:}
\DoxyCodeLine{150     \textcolor{keyword}{using} \mbox{\hyperlink{class_generic_interpolator}{WindowedSinc}}  = \mbox{\hyperlink{class_generic_interpolator}{GenericInterpolator<WindowedSincTraits,  200>}};}
\DoxyCodeLine{151     \textcolor{keyword}{using} \mbox{\hyperlink{class_generic_interpolator}{Lagrange}}      = \mbox{\hyperlink{class_generic_interpolator}{GenericInterpolator<LagrangeTraits,      5>}};}
\DoxyCodeLine{152     \textcolor{keyword}{using} \mbox{\hyperlink{class_generic_interpolator}{CatmullRom}}    = \mbox{\hyperlink{class_generic_interpolator}{GenericInterpolator<CatmullRomTraits,    4>}};}
\DoxyCodeLine{153     \textcolor{keyword}{using} \mbox{\hyperlink{class_generic_interpolator}{Linear}}        = \mbox{\hyperlink{class_generic_interpolator}{GenericInterpolator<LinearTraits,        2>}};}
\DoxyCodeLine{154     \textcolor{keyword}{using} \mbox{\hyperlink{class_generic_interpolator}{ZeroOrderHold}} = \mbox{\hyperlink{class_generic_interpolator}{GenericInterpolator<ZeroOrderHoldTraits, 1>}};}
\DoxyCodeLine{155 \};}
\DoxyCodeLine{156 }
\DoxyCodeLine{157 \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{174 \textcolor{comment}{}\textcolor{keyword}{using} \mbox{\hyperlink{class_generic_interpolator}{WindowedSincInterpolator}} = \mbox{\hyperlink{class_interpolators_affa5530bbedd41c88e701c317814f9d2}{Interpolators::WindowedSinc}};}
\DoxyCodeLine{175 }
\DoxyCodeLine{191 \textcolor{keyword}{using} \mbox{\hyperlink{class_generic_interpolator}{LagrangeInterpolator}} = \mbox{\hyperlink{class_interpolators_af010ba76419a8e579e9133c408b3e137}{Interpolators::Lagrange}};}
\DoxyCodeLine{192 }
\DoxyCodeLine{208 \textcolor{keyword}{using} \mbox{\hyperlink{class_generic_interpolator}{CatmullRomInterpolator}} = \mbox{\hyperlink{class_interpolators_a8f3b481c8951e92a7917e2cafb65f84a}{Interpolators::CatmullRom}};}
\DoxyCodeLine{209 }
\DoxyCodeLine{225 \textcolor{keyword}{using} \mbox{\hyperlink{class_generic_interpolator}{LinearInterpolator}} = \mbox{\hyperlink{class_interpolators_a17c471d912afb723abcc8578c29fd122}{Interpolators::Linear}};}
\DoxyCodeLine{226 }
\DoxyCodeLine{244 \textcolor{keyword}{using} \mbox{\hyperlink{class_generic_interpolator}{ZeroOrderHoldInterpolator}} = \mbox{\hyperlink{class_interpolators_a5be03342f453eb60cfb3f2d3368b993e}{Interpolators::ZeroOrderHold}};}
\DoxyCodeLine{245 }
\DoxyCodeLine{246  \textcolor{comment}{// namespace juce}}
\DoxyCodeLine{247 }

\end{DoxyCode}
