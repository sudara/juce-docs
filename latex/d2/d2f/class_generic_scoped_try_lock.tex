\hypertarget{class_generic_scoped_try_lock}{}\doxysection{Generic\+Scoped\+Try\+Lock\texorpdfstring{$<$}{<} Lock\+Type \texorpdfstring{$>$}{>} Class Template Reference}
\label{class_generic_scoped_try_lock}\index{GenericScopedTryLock$<$ LockType $>$@{GenericScopedTryLock$<$ LockType $>$}}


{\ttfamily \#include $<$juce\+\_\+\+Scoped\+Lock.\+h$>$}

\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_generic_scoped_try_lock_ad95709ae51fff0d9b7746ca726caa089}{Generic\+Scoped\+Try\+Lock}} (\mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} Lock\+Type \&lock, bool acquire\+Lock\+On\+Initialisation=\mbox{\hyperlink{ordinals_8h_a41f9c5fb8b08eb5dc3edce4dcb37fee7}{true}}) noexcept
\item 
\mbox{\hyperlink{class_generic_scoped_try_lock_aa552ec1121d42230080f6dbc614ead99}{$\sim$\+Generic\+Scoped\+Try\+Lock}} () noexcept
\item 
bool \mbox{\hyperlink{class_generic_scoped_try_lock_a0504fe1e14b9a246e5e6018132578b94}{is\+Locked}} () \mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} noexcept
\item 
bool \mbox{\hyperlink{class_generic_scoped_try_lock_ae53a276403f3ab95fe1381f97b36da08}{retry\+Lock}} () \mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} noexcept
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\subsubsection*{template$<$class Lock\+Type$>$\newline
class Generic\+Scoped\+Try\+Lock$<$ Lock\+Type $>$}
Automatically locks and unlocks a mutex object.

Use one of these as a local variable to provide RAII-\/based locking of a mutex.

The templated class could be a \mbox{\hyperlink{class_critical_section}{Critical\+Section}}, \mbox{\hyperlink{class_spin_lock}{Spin\+Lock}}, or anything else that provides enter() and exit() methods.

e.\+g. 
\begin{DoxyCode}{0}
\DoxyCodeLine{\mbox{\hyperlink{class_critical_section}{CriticalSection}} myCriticalSection;}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keywordflow}{for} (;;)}
\DoxyCodeLine{\{}
\DoxyCodeLine{    \textcolor{keyword}{const} \mbox{\hyperlink{class_generic_scoped_try_lock}{GenericScopedTryLock<CriticalSection>}} myScopedTryLock (myCriticalSection);}
\DoxyCodeLine{}
\DoxyCodeLine{    \textcolor{comment}{// Unlike using a ScopedLock, this may fail to actually get the lock, so you}}
\DoxyCodeLine{    \textcolor{comment}{// should test this with the isLocked() method before doing your thread-\/unsafe}}
\DoxyCodeLine{    \textcolor{comment}{// action..}}
\DoxyCodeLine{    \textcolor{keywordflow}{if} (myScopedTryLock.isLocked())}
\DoxyCodeLine{    \{}
\DoxyCodeLine{       ...do some stuff...}
\DoxyCodeLine{    \}}
\DoxyCodeLine{    \textcolor{keywordflow}{else}}
\DoxyCodeLine{    \{}
\DoxyCodeLine{        ..our attempt at locking failed because another thread had already locked it..}
\DoxyCodeLine{    \}}
\DoxyCodeLine{}
\DoxyCodeLine{    \textcolor{comment}{// myCriticalSection gets unlocked here (if it was locked)}}
\DoxyCodeLine{\}}

\end{DoxyCode}


\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{class_critical_section_a2c12101da7ebf8455de49652f377d313}{Critical\+Section\+::try\+Enter}}, \mbox{\hyperlink{class_generic_scoped_lock}{Generic\+Scoped\+Lock}}, \mbox{\hyperlink{class_generic_scoped_unlock}{Generic\+Scoped\+Unlock}}
\end{DoxySeeAlso}
@tags\{Core\} 

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_generic_scoped_try_lock_ad95709ae51fff0d9b7746ca726caa089}\label{class_generic_scoped_try_lock_ad95709ae51fff0d9b7746ca726caa089}} 
\index{GenericScopedTryLock$<$ LockType $>$@{GenericScopedTryLock$<$ LockType $>$}!GenericScopedTryLock@{GenericScopedTryLock}}
\index{GenericScopedTryLock@{GenericScopedTryLock}!GenericScopedTryLock$<$ LockType $>$@{GenericScopedTryLock$<$ LockType $>$}}
\doxysubsubsection{\texorpdfstring{GenericScopedTryLock()}{GenericScopedTryLock()}}
{\footnotesize\ttfamily template$<$class Lock\+Type $>$ \\
\mbox{\hyperlink{class_generic_scoped_try_lock}{Generic\+Scoped\+Try\+Lock}}$<$ Lock\+Type $>$\+::\mbox{\hyperlink{class_generic_scoped_try_lock}{Generic\+Scoped\+Try\+Lock}} (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{zconf_8in_8h_a2c212835823e3c54a8ab6d95c652660e}{const}} Lock\+Type \&}]{lock,  }\item[{bool}]{acquire\+Lock\+On\+Initialisation = {\ttfamily \mbox{\hyperlink{ordinals_8h_a41f9c5fb8b08eb5dc3edce4dcb37fee7}{true}}} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [explicit]}, {\ttfamily [noexcept]}}

Creates a \mbox{\hyperlink{class_generic_scoped_try_lock}{Generic\+Scoped\+Try\+Lock}}.

If acquire\+Lock\+On\+Initialisation is true then as soon as this Scoped\+Try\+Lock is created, it will attempt to acquire the lock with try\+Enter.

You can retry acquiring the lock by calling retry\+Lock.

When \mbox{\hyperlink{class_generic_scoped_try_lock}{Generic\+Scoped\+Try\+Lock}} is deleted, the lock will be released (if the lock was successfully acquired).

Make sure this object is created and deleted by the same thread, otherwise there are no guarantees what will happen! Best just to use it as a local stack object, rather than creating one with the new() operator.

\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{class_generic_scoped_try_lock_ae53a276403f3ab95fe1381f97b36da08}{retry\+Lock}}, \mbox{\hyperlink{class_generic_scoped_try_lock_a0504fe1e14b9a246e5e6018132578b94}{is\+Locked}} 
\end{DoxySeeAlso}
\mbox{\Hypertarget{class_generic_scoped_try_lock_aa552ec1121d42230080f6dbc614ead99}\label{class_generic_scoped_try_lock_aa552ec1121d42230080f6dbc614ead99}} 
\index{GenericScopedTryLock$<$ LockType $>$@{GenericScopedTryLock$<$ LockType $>$}!````~GenericScopedTryLock@{$\sim$GenericScopedTryLock}}
\index{````~GenericScopedTryLock@{$\sim$GenericScopedTryLock}!GenericScopedTryLock$<$ LockType $>$@{GenericScopedTryLock$<$ LockType $>$}}
\doxysubsubsection{\texorpdfstring{$\sim$GenericScopedTryLock()}{~GenericScopedTryLock()}}
{\footnotesize\ttfamily template$<$class Lock\+Type $>$ \\
\mbox{\hyperlink{class_generic_scoped_try_lock}{Generic\+Scoped\+Try\+Lock}}$<$ Lock\+Type $>$\+::$\sim$\mbox{\hyperlink{class_generic_scoped_try_lock}{Generic\+Scoped\+Try\+Lock}} (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [noexcept]}}

Destructor.

The mutex will be unlocked (if it had been successfully locked) when the destructor is called.

Make sure this object is created and deleted by the same thread, otherwise there are no guarantees what will happen! 

\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_generic_scoped_try_lock_a0504fe1e14b9a246e5e6018132578b94}\label{class_generic_scoped_try_lock_a0504fe1e14b9a246e5e6018132578b94}} 
\index{GenericScopedTryLock$<$ LockType $>$@{GenericScopedTryLock$<$ LockType $>$}!isLocked@{isLocked}}
\index{isLocked@{isLocked}!GenericScopedTryLock$<$ LockType $>$@{GenericScopedTryLock$<$ LockType $>$}}
\doxysubsubsection{\texorpdfstring{isLocked()}{isLocked()}}
{\footnotesize\ttfamily template$<$class Lock\+Type $>$ \\
bool \mbox{\hyperlink{class_generic_scoped_try_lock}{Generic\+Scoped\+Try\+Lock}}$<$ Lock\+Type $>$\+::is\+Locked (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [noexcept]}}

Returns true if the mutex was successfully locked. \mbox{\Hypertarget{class_generic_scoped_try_lock_ae53a276403f3ab95fe1381f97b36da08}\label{class_generic_scoped_try_lock_ae53a276403f3ab95fe1381f97b36da08}} 
\index{GenericScopedTryLock$<$ LockType $>$@{GenericScopedTryLock$<$ LockType $>$}!retryLock@{retryLock}}
\index{retryLock@{retryLock}!GenericScopedTryLock$<$ LockType $>$@{GenericScopedTryLock$<$ LockType $>$}}
\doxysubsubsection{\texorpdfstring{retryLock()}{retryLock()}}
{\footnotesize\ttfamily template$<$class Lock\+Type $>$ \\
bool \mbox{\hyperlink{class_generic_scoped_try_lock}{Generic\+Scoped\+Try\+Lock}}$<$ Lock\+Type $>$\+::retry\+Lock (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [noexcept]}}

Retry gaining the lock by calling try\+Enter on the underlying lock. 

The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
build/juce\+\_\+core/threads/\mbox{\hyperlink{juce___scoped_lock_8h}{juce\+\_\+\+Scoped\+Lock.\+h}}\end{DoxyCompactItemize}
